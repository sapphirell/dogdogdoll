import{_ as e,h as a,c as l,w as s,g as o,o as t,u,a as d,K as n,b as p,m as r,l as c,C as i,N as m,D as w}from"./index-u2rUIk8T.js";import{g as V,a as _,w as f}from"./config.DgkxgtZ3.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";const v=h({__name:"password",setup(h){e({title:"设置密码"});let v=a(""),g=a(""),y=a("");function x(){g.value==y.value?_.userInfo.password||v.value?c({url:f+"/with-state/setting-password",method:"POST",header:{Authorization:i("token")},data:{old_password:v.value,new_password:g.value},success:e=>{console.log(e.data),"success"==e.data.status?r({title:"修改成功",icon:"success"}):r({title:e.data.msg,icon:"none"})}}):r({title:"请输入原密码",icon:"none"}):r({title:"两次密码输入不一致",icon:"none"})}return V(),(e,a)=>{const r=m,c=o,i=w;return t(),l(c,{style:{padding:"15px"}},{default:s((()=>[u(_).userInfo.password?(t(),l(c,{key:0},{default:s((()=>[d(r,{class:"inputer",type:"password",placeholder:"请输入原密码",modelValue:u(v),"onUpdate:modelValue":a[0]||(a[0]=e=>n(v)?v.value=e:v=e)},null,8,["modelValue"]),d(r,{class:"inputer",type:"password",placeholder:"请输入新密码",modelValue:u(g),"onUpdate:modelValue":a[1]||(a[1]=e=>n(g)?g.value=e:g=e)},null,8,["modelValue"]),d(r,{class:"inputer",type:"password",placeholder:"请再次输入新密码",modelValue:u(y),"onUpdate:modelValue":a[2]||(a[2]=e=>n(y)?y.value=e:y=e)},null,8,["modelValue"])])),_:1})):(t(),l(c,{key:1},{default:s((()=>[d(r,{class:"inputer",type:"password",placeholder:"请设置密码",modelValue:u(g),"onUpdate:modelValue":a[3]||(a[3]=e=>n(g)?g.value=e:g=e)},null,8,["modelValue"]),d(r,{class:"inputer",type:"password",placeholder:"请再次输入新密码",modelValue:u(y),"onUpdate:modelValue":a[4]||(a[4]=e=>n(y)?y.value=e:y=e)},null,8,["modelValue"])])),_:1})),d(i,{class:"light_button",onClick:x},{default:s((()=>[p("提交")])),_:1})])),_:1})}}},[["__scopeId","data-v-5621cbc4"]]);export{v as default};
