import{y as e,r as a,k as s,a as l,b as o,c as d,w as t,d as u,a1 as r,e as n,t as i,v as c,F as m,x as g,p as f,n as v,g as p,f as _}from"./index-I3aG4WZL.js";import{_ as h}from"./goods-search.gE0Nx2pd.js";import{_ as b,r as k}from"./_plugin-vue_export-helper.DF4WgY5m.js";import{_ as y}from"./common-search.CQlKpRi4.js";const S=b({__name:"switch-search",props:{mode:{type:String,default:"jump",validator:e=>["jump","fill"].includes(e)},width:{type:String,default:"100%"},background:{type:String,default:"#fff"},fontSize:{type:String,default:"28rpx"}},emits:["submit"],setup(b,{emit:S}){e((e=>({bca54b7a:F.width})));const w=a("goods"),j=a([]),x=a([]),C=a(null),z=a(null),I=s((()=>"goods"===w.value&&j.value.length>0||"brand"===w.value&&x.value.length>0)),R=()=>{"goods"===w.value?j.value=[]:x.value=[],w.value="goods"===w.value?"brand":"goods"},$=e=>{j.value=e?[e]:[],e&&K("submit",{type:"goods",data:e})},D=(e,a)=>{0===e?x.value=[]:(x.value=[{id:e,name:a}],K("submit",{type:"brand",data:{id:e,name:a}}))},F=b,J=s((()=>"700rpx")),K=S;return(e,a)=>{const s=k(l("goods-search"),h),S=k(l("common-search"),y),K=p,q=_;return o(),d(K,{class:"integrated-search-container"},{default:t((()=>[u(K,{class:"search-header"},{default:t((()=>[u(K,{class:"search-wrapper",style:r({width:J.value})},{default:t((()=>["goods"===w.value?(o(),d(s,{key:0,ref_key:"goodsSearchRef",ref:C,width:J.value,background:b.background,"hidden-icon":!1,mode:b.mode,onSelect:$},null,8,["width","background","mode"])):(o(),d(S,{key:1,ref_key:"commonSearchRef",ref:z,width:J.value,background:b.background,fontSize:b.fontSize,hidenIcon:!1,mode:b.mode,onSelect:D},null,8,["width","background","fontSize","mode"]))])),_:1},8,["style"]),u(K,{class:"toggle-button",onClick:R},{default:t((()=>[u(q,null,{default:t((()=>[n(i("goods"===w.value?"娃物":"娃店"),1)])),_:1})])),_:1})])),_:1}),I.value?(o(),d(K,{key:0,class:"results-container"},{default:t((()=>["goods"===w.value&&j.value.length>0?(o(),d(K,{key:0,class:"goods-results"},{default:t((()=>[(o(!0),c(m,null,g(j.value,(e=>(o(),d(K,{key:e.id,class:"result-item",onClick:a=>{return s=e,void("jump"===F.mode&&v({url:`/pages/goods/goods?goods_id=${s.id}`}));var s}},{default:t((()=>[u(K,{class:"brand-tag"},{default:t((()=>[n(i(e.brand_name),1)])),_:2},1024),u(q,{class:"goods-name"},{default:t((()=>[n(i(e.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):"brand"===w.value&&x.value.length>0?(o(),d(K,{key:1,class:"brand-results"},{default:t((()=>[(o(!0),c(m,null,g(x.value,(e=>(o(),d(K,{key:e.id,class:"result-item",onClick:a=>{return s=e,void("jump"===F.mode&&v({url:`/pages/brand/brand?brand_id=${s.id}`}));var s}},{default:t((()=>[n(i(e.name),1)])),_:2},1032,["onClick"])))),128))])),_:1})):f("",!0)])),_:1})):f("",!0)])),_:1})}}},[["__scopeId","data-v-12a8790e"]]);export{S as _};
