import{K as e,A as t,p as o,q as a,E as n}from"./index-D8OtiTi9.js";import{w as i}from"./config.BPuNpLTQ.js";function s(){return new Promise((t=>{e({count:1,success:e=>{t(e.tempFilePaths[0])}})}))}function c(){return new Promise(((e,n)=>{let s=t("token");o({url:i+"/with-state/qiniu-token",method:"POST",header:{Authorization:s},success:t=>{t.data.data&&t.data.data.token?(console.log("获取到的七牛token："+t.data.data.token),e(t.data.data)):(a({title:"获取上传凭证失败",icon:"none"}),n("获取上传凭证失败"))},fail:e=>{a({title:"获取上传凭证失败",icon:"none"}),n("获取上传凭证失败")}})}))}function r(e,t,o){return new Promise(((i,s)=>{n({url:"https://up-cn-east-2.qiniup.com",name:"file",method:"POST",filePath:e,fileType:"image",formData:{token:t,key:o,scope:"hobby-box:"+o},success:e=>{console.log("上传成功"),i(e)},fail:e=>{a({title:"上传失败",icon:"none"}),s("上传失败")}})}))}export{s as c,c as g,r as u};
