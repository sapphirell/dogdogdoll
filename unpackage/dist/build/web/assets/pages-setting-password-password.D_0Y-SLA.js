import{V as e,k as a,c as l,w as s,g as o,o as t,v as u,a as d,G as n,b as p,q as r,p as c,A as i,J as m,C as V}from"./index-D8OtiTi9.js";import{b as w,g as _,w as f}from"./config.BPuNpLTQ.js";import{_ as v}from"./_plugin-vue_export-helper.BCo6x5W8.js";const h=v({__name:"password",setup(v){e({title:"设置密码"});let h=a(""),g=a(""),y=a("");function k(){g.value==y.value?_.userInfo.password||h.value?c({url:f+"/with-state/setting-password",method:"POST",header:{Authorization:i("token")},data:{old_password:h.value,new_password:g.value},success:e=>{console.log(e.data),"success"==e.data.status?r({title:"修改成功",icon:"success"}):r({title:e.data.msg,icon:"none"})}}):r({title:"请输入原密码",icon:"none"}):r({title:"两次密码输入不一致",icon:"none"})}return w(),(e,a)=>{const r=m,c=o,i=V;return t(),l(c,{style:{padding:"15px"}},{default:s((()=>[u(_).userInfo.password?(t(),l(c,{key:0},{default:s((()=>[d(r,{class:"inputer",type:"password",placeholder:"请输入原密码",modelValue:u(h),"onUpdate:modelValue":a[0]||(a[0]=e=>n(h)?h.value=e:h=e)},null,8,["modelValue"]),d(r,{class:"inputer",type:"password",placeholder:"请输入新密码",modelValue:u(g),"onUpdate:modelValue":a[1]||(a[1]=e=>n(g)?g.value=e:g=e)},null,8,["modelValue"]),d(r,{class:"inputer",type:"password",placeholder:"请再次输入新密码",modelValue:u(y),"onUpdate:modelValue":a[2]||(a[2]=e=>n(y)?y.value=e:y=e)},null,8,["modelValue"])])),_:1})):(t(),l(c,{key:1},{default:s((()=>[d(r,{class:"inputer",type:"password",placeholder:"请设置密码",modelValue:u(g),"onUpdate:modelValue":a[3]||(a[3]=e=>n(g)?g.value=e:g=e)},null,8,["modelValue"]),d(r,{class:"inputer",type:"password",placeholder:"请再次输入新密码",modelValue:u(y),"onUpdate:modelValue":a[4]||(a[4]=e=>n(y)?y.value=e:y=e)},null,8,["modelValue"])])),_:1})),d(i,{class:"light_button",onClick:k},{default:s((()=>[p("提交")])),_:1})])),_:1})}}},[["__scopeId","data-v-67bf1261"]]);export{h as default};
