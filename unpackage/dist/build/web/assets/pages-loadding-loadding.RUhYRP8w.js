import{b as e,c as t,w as s,d as r,a0 as a,D as h,e as n,t as i,aq as o,i as f,f as l,g as d,S as c,l as m,a as u,v as g,x as p,F as _}from"./index-BFzTDSoz.js";import{_ as v,r as R}from"./_plugin-vue_export-helper.CXFOpRdI.js";const b=v({props:{threshold:{type:Number,default:150},scrollHeight:{type:String,default:"100vh"}},data:()=>({triggered:!1,pullDownGif:"https://images1.fantuanpu.com/home/f4a2f2a997e45b87bfce23edc794d9a6.gif",refreshingGif:"https://images1.fantuanpu.com/home/f4a2f2a997e45b87bfce23edc794d9a6.gif",refreshText:"下拉刷新"}),methods:{onRefresh(){this.triggered=!0,this.refreshText="正在刷新...",this.$emit("refresh")},finishRefresh(){this.triggered=!1,this.refreshText="刷新完成",setTimeout((()=>{this.refreshText="下拉刷新"}),800)},onRestore(){this.refreshText="下拉刷新"},onAbort(){this.refreshText="刷新取消"}}},[["render",function(m,u,g,p,_,v){const R=f,b=l,x=d,y=c;return e(),t(x,null,{default:s((()=>[r(y,{"scroll-y":"","refresher-default-style":"none","refresher-enabled":!0,"refresher-triggered":_.triggered,"refresher-threshold":g.threshold,"refresher-background":"#f8f8f8",onRefresherrefresh:v.onRefresh,onRefresherrestore:v.onRestore,onRefresherabort:v.onAbort,style:a({height:g.scrollHeight}),class:"scroll-view"},{refresher:s((()=>[r(x,{slot:"refresher",class:"refresh-container",style:a({height:`${g.threshold}px`})},{default:s((()=>[r(x,{class:h(["refresh-content",{refreshing:_.triggered}])},{default:s((()=>[r(R,{class:"refresh-icon",src:_.triggered?_.refreshingGif:_.pullDownGif,mode:"aspectFit"},null,8,["src"]),r(b,{class:"refresh-text"},{default:s((()=>[n(i(_.refreshText),1)])),_:1})])),_:1},8,["class"])])),_:1},8,["style"])])),default:s((()=>[o(m.$slots,"default",{},void 0,!0)])),_:3},8,["refresher-triggered","refresher-threshold","onRefresherrefresh","onRefresherrestore","onRefresherabort","style"])])),_:3})}],["__scopeId","data-v-852bc35b"]]);const x=v({data:()=>({statusBarHeight:0,dataList:[{id:1,name:"张三",content:"今天天气真不错，适合户外运动！",time:"10:30",avatar:"https://randomuser.me/api/portraits/men/1.jpg"},{id:2,name:"李四",content:"刚刚完成了一个重要的项目，庆祝一下！",time:"09:15",avatar:"https://randomuser.me/api/portraits/women/2.jpg"},{id:3,name:"王五",content:"学习新技能真的很有成就感，继续加油！",time:"昨天 18:20",avatar:"https://randomuser.me/api/portraits/men/3.jpg"},{id:4,name:"赵六",content:"分享一张今天拍的美景照片，大自然真神奇！",time:"昨天 16:45",avatar:"https://randomuser.me/api/portraits/women/4.jpg"},{id:5,name:"钱七",content:"尝试了新的菜谱，味道超级棒！",time:"昨天 14:30",avatar:"https://randomuser.me/api/portraits/men/5.jpg"}]}),onLoad(){const e=m();this.statusBarHeight=e.statusBarHeight},methods:{handleRefresh(){setTimeout((()=>{const e={id:this.dataList.length+1,name:`新用户${this.dataList.length+1}`,content:`这是新刷出的内容 #${this.dataList.length+1}`,time:"刚刚",avatar:`https://randomuser.me/api/portraits/${this.dataList.length%2==0?"men":"women"}/${this.dataList.length+1}.jpg`};this.dataList.unshift(e),this.$refs.refresh.finishRefresh()}),1500)}}},[["render",function(a,h,o,c,m,v){const x=l,y=d,L=f,T=R(u("comment-loadding"),b);return e(),t(y,{class:"container"},{default:s((()=>[r(T,{ref:"refresh",onRefresh:v.handleRefresh,scrollHeight:`calc(100vh - ${m.statusBarHeight}px)`},{default:s((()=>[r(y,{class:"content"},{default:s((()=>[r(y,{class:"header"},{default:s((()=>[r(x,{class:"title"},{default:s((()=>[n("自定义下拉刷新演示")])),_:1})])),_:1}),r(y,{class:"card-list"},{default:s((()=>[(e(!0),g(_,null,p(m.dataList,((a,h)=>(e(),t(y,{key:h,class:"card"},{default:s((()=>[r(y,{class:"card-header"},{default:s((()=>[r(L,{class:"avatar",src:a.avatar,mode:"aspectFill"},null,8,["src"]),r(x,{class:"name"},{default:s((()=>[n(i(a.name),1)])),_:2},1024)])),_:2},1024),r(x,{class:"card-content"},{default:s((()=>[n(i(a.content),1)])),_:2},1024),r(x,{class:"card-time"},{default:s((()=>[n(i(a.time),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1},8,["onRefresh","scrollHeight"])])),_:1})}],["__scopeId","data-v-9c51d43f"]]);export{x as default};
