import{l as a,k as e,c as l,w as t,j as s,A as o,p as u,g as n,o as c,a as i,h as d,b as f,T as r,t as _,e as p,r as h,F as m,B as v,n as g,f as k,C as x,y,i as b}from"./index-D8OtiTi9.js";import{a as w}from"./uni-app.es.JSb8JX9v.js";import{a as C,g as j,w as z}from"./config.BPuNpLTQ.js";import{_ as B}from"./_plugin-vue_export-helper.BCo6x5W8.js";const T=B({__name:"stock",setup(B){const T=a(),A=e(T.statusBarHeight),E=e(1),F=e(1);function G(){return E.value>F.value?"slide_left":"slide_right"}function L(a){switch(F.value=E.value,E.value=a,console.log(`切换到 tab ${a}`),a){case 1:K(),E.value=1;break;case 2:E.value=2,M();break;case 3:E.value=3,N()}}const q=e(0),H=e(["全部","娃头","娃衣","眼珠","假发","娃鞋"]),I=e({}),$=e({}),D=e({});function J(a){q.value=a.detail.value,K(H.value[q.value])}function K(a){if(console.log(j),!j.isLogin)return;let e=o("token"),l=z+"/with-state/account-book";a&&"全部"!==a&&(l=z+"/with-state/account-book?type="+a),I.value={},u({url:l,method:"GET",header:{Authorization:e},success:a=>{console.log(a.data.data),I.value=a.data.data},fail:a=>{console.log(a)}})}function M(){if(console.log(j),!j.isLogin)return;let a=o("token");$.value={},u({url:z+"/with-state/showcase",method:"GET",header:{Authorization:a},success:a=>{console.log(a.data.data),$.value=a.data.data},fail:a=>{console.log(a)}})}function N(){if(console.log(j),!j.isLogin)return;let a=o("token");D.value={},u({url:z+"/with-state/tail-bill",method:"GET",header:{Authorization:a},success:a=>{console.log(a.data.data),D.value=a.data.data},fail:a=>{console.log(a)}})}function O(){g({url:"/pages/stock/account_book_form/account_book_form"})}function P(){g({url:"/pages/stock/showcase_form/showcase_form"})}function Q(a){g(0!=a?{url:"/pages/stock/bill_form/bill_form?bill_id="+a}:{url:"/pages/stock/bill_form/bill_form"})}return w((()=>{C().then((a=>{K(),M(),N()}))})),(a,e)=>{const o=k,u=x,w=n,C=y,j=b;return c(),l(w,{class:"container",style:s({paddingTop:A.value+"px"})},{default:t((()=>[i(w,{class:"switch_tab"},{default:t((()=>[i(u,{onClick:e[0]||(e[0]=a=>L(1)),class:d({active:1===E.value})},{default:t((()=>[i(o,null,{default:t((()=>[f("账本")])),_:1})])),_:1},8,["class"]),i(u,{onClick:e[1]||(e[1]=a=>L(2)),class:d({active:2===E.value})},{default:t((()=>[i(o,null,{default:t((()=>[f("展示柜")])),_:1})])),_:1},8,["class"]),i(u,{onClick:e[2]||(e[2]=a=>L(3)),class:d({active:3===E.value})},{default:t((()=>[i(o,null,{default:t((()=>[f("尾款日历")])),_:1})])),_:1},8,["class"])])),_:1}),i(w,{class:"data_body"},{default:t((()=>[i(r,{name:G()},{default:t((()=>[1===E.value?(c(),l(w,{key:0,class:d(["tab_body_1st",{none:1!==E.value}])},{default:t((()=>[i(C,{style:{"padding-left":"15px","font-size":"20px",color:"#585858","font-weight":"1000"},mode:"selector",value:q.value,range:H.value,onChange:J},{default:t((()=>[i(w,{class:"uni-input"},{default:t((()=>[f(_(H.value[q.value]),1)])),_:1})])),_:1},8,["value","range"]),I.value.account_books&&I.value.account_books.length>0?(c(),l(w,{key:0,class:"content"},{default:t((()=>[i(w,{style:{display:"flex","flex-wrap":"wrap","justify-content":"space-between",margin:"0px 10px"}},{default:t((()=>[(c(!0),p(m,null,h(I.value.account_books,((a,e)=>(c(),l(w,{key:e,style:{position:"relative",width:"40vw"},onClick:e=>{return l=a.id,void g({url:"/pages/stock/account_book_form/account_book_form?account_book_id="+l});var l}},{default:t((()=>[i(j,{src:a.image_url,mode:"aspectFill",class:"square",style:{width:"40vw",display:"block","border-radius":"20px"}},null,8,["src"]),i(o,{style:{position:"absolute",top:"0px",background:"rgb(57 16 12 / 65%)",color:"rgb(255, 255, 255)",padding:"5px 10px","border-radius":"10px 0px 10px 0px"}},{default:t((()=>[f(_(a.type),1)])),_:2},1024),i(w,{style:{display:"flex",width:"40vw",overflow:"hidden",margin:"5px 0px","align-items":"flex-end"}},{default:t((()=>[i(o,{class:"font-alimamashuhei",style:{"font-weight":"900",color:"#ff827e","text-shadow":"0px 0px 3px #fff","font-size":"25px","margin-right":"3px","flex-shrink":"0"}},{default:t((()=>[f(_(a.price)+"￥",1)])),_:2},1024),i(o,{class:"font-alimamashuhei one_line_text",style:{"text-align":"center",color:"#39110c","text-shadow":"0px 0px 3px #fff","font-size":"18px","flex-grow":"1","flex-shrink":"1"}},{default:t((()=>[f(_(a.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})):(c(),l(w,{key:1,class:"content"},{default:t((()=>[i(o,null,{default:t((()=>[f("暂无数据")])),_:1})])),_:1})),i(w,null,{default:t((()=>[i(u,{class:"jump2addButton",onClick:O},{default:t((()=>[f("+")])),_:1})])),_:1})])),_:1},8,["class"])):v("",!0)])),_:1},8,["name"]),i(r,{name:G()},{default:t((()=>[2===E.value?(c(),l(w,{key:0,class:d(["tab_body_sec",{none:2!==E.value}])},{default:t((()=>[$.value.showcases&&$.value.showcases.length>0?(c(),l(w,{key:0,class:"sec_container"},{default:t((()=>[(c(!0),p(m,null,h($.value.showcases,((a,e)=>(c(),l(w,{key:e,class:"sec_row",onClick:e=>{return l=a.id,void g({url:"/pages/stock/showcase_form/showcase_form?showcase_id="+l});var l}},{default:t((()=>[i(j,{src:a.image_url,mode:"aspectFill",class:"sec_image"},null,8,["src"]),i(w,{class:"sec_content"},{default:t((()=>[i(o,{class:"font-alimamashuhei one_line_text sec_title"},{default:t((()=>[f(_(a.name),1)])),_:2},1024),i(o,{class:"sec_description"},{default:t((()=>[f(_(a.description),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):v("",!0),i(w,null,{default:t((()=>[i(u,{class:"jump2addButton",onClick:P},{default:t((()=>[f("+")])),_:1})])),_:1})])),_:1},8,["class"])):v("",!0)])),_:1},8,["name"]),i(r,{name:G()},{default:t((()=>[3===E.value?(c(),l(w,{key:0,class:d(["tab_body_3th",{none:3!==E.value}])},{default:t((()=>[i(w,{style:{padding:"5px"}},{default:t((()=>[(c(!0),p(m,null,h(D.value,((a,e)=>(c(),l(w,{key:e},{default:t((()=>[i(w,null,{default:t((()=>[i(o,{class:"month-header font-alimamashuhei"},{default:t((()=>[f(_(e)+" 账单",1)])),_:2},1024)])),_:2},1024),(c(!0),p(m,null,h(a,(a=>(c(),l(w,{key:a.id,class:"bill-item",onClick:e=>Q(a.id)},{default:t((()=>[i(w,{style:{width:"calc(60vw - 40px)",display:"inline-block",height:"50px"}},{default:t((()=>[i(w,{style:{margin:"8px 0px"}},{default:t((()=>[i(o,{style:{"font-size":"20px","font-weight":"1000",color:"#77767c"},class:"font-alimamashuhei"},{default:t((()=>[f(_(a.name),1)])),_:2},1024)])),_:2},1024),i(w,null,{default:t((()=>[i(o,{style:{color:"#a6a6a6"}},{default:t((()=>[f("待补款: "),i(o,{style:{color:"rgb(116 202 229)","font-weight":"900","font-size":"20px"}},{default:t((()=>[f("¥"+_(a.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),i(w,{style:{width:"40vw",display:"inline-block",height:"50px"}},{default:t((()=>[i(w,{style:{margin:"8px 0px"}},{default:t((()=>[i(o,{style:{position:"relative",bottom:"6px",color:"#a6a6a6"},class:"font-alimamashuhei"},{default:t((()=>[f("日期: "+_(a.ymd),1)])),_:2},1024)])),_:2},1024),i(w,null,{default:t((()=>[0===a.status?(c(),l(o,{key:0,style:{color:"#a6a6a6"}},{default:t((()=>[f("未补款")])),_:1})):(c(),l(o,{key:1,style:{color:"#a6a6a6"}},{default:t((()=>[f("已补款")])),_:1}))])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)))),128))])),_:1}),i(w,null,{default:t((()=>[i(u,{class:"jump2addButton",onClick:e[3]||(e[3]=a=>Q(!1))},{default:t((()=>[f("+")])),_:1})])),_:1})])),_:1},8,["class"])):v("",!0)])),_:1},8,["name"])])),_:1})])),_:1},8,["style"])}}},[["__scopeId","data-v-ed118372"]]);export{T as default};
