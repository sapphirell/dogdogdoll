import{k as e,l as t,s as l,c as a,w as o,j as s,p as i,q as d,u as n,g as r,o as u,a as c,e as p,r as g,v as f,F as _,b as y,t as x,B as b,f as m,N as k,n as h,i as w,M as v}from"./index-D8OtiTi9.js";import{w as S}from"./config.BPuNpLTQ.js";import{_ as z}from"./_plugin-vue_export-helper.BCo6x5W8.js";const $=z({__name:"news",setup(z){let $=e({});const C=new Date,j=`${C.getFullYear()}-${String(C.getMonth()+1).padStart(2,"0")}-${String(C.getDate()).padStart(2,"0")}`,D=e(null),F=t(),H=F.screenWidth/7;let M=e(0);const B=e(F.statusBarHeight);console.log("状态栏高度"+B.value);let T=e(j),Y=e({});function q(e){const t=new Date(1e3*e);return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")} ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}:${t.getSeconds().toString().padStart(2,"0")}`}function E(e){h({url:"/pages/goods/goods?goods_id="+e})}return l({title:"加载中"}),i({url:S+"/goods-news",method:"GET",timeout:5e3,success:e=>{console.log(e.data.data),$.value=e.data.data;for(let[t,l]of Object.entries($.value))t===j&&(Y.value=l)},fail:e=>{console.log(e),d({title:"网络请求失败",icon:"none"})},complete:()=>{M.value=7*H-5,console.log("left:"+M.value),n()}}),(e,t)=>{const l=m,i=r,d=k,n=w,h=v;return u(),a(i,{class:"container",style:s({paddingTop:B.value+"px"})},{default:o((()=>[c(d,{class:"scroll-view_H","scroll-x":"true",ref_key:"scrollView",ref:D,"scroll-left":f(M)},{default:o((()=>[(u(!0),p(_,null,g(f($),((e,t)=>(u(),a(i,{key:e.id,class:"scroll-view-item_H",onClick:l=>function(e,t){console.log(t),T.value=e,Y.value=t}(t,e)},{default:o((()=>[c(i,{style:{display:"inline-block",margin:"0px",position:"relative"}},{default:o((()=>["日"===e.weekday||"六"===e.weekday?(u(),a(l,{key:0,style:{display:"block",margin:"10px 0px 25px",color:"#7dc3d3"}},{default:o((()=>[y(x(e.weekday),1)])),_:2},1024)):b("",!0),"日"!==e.weekday&&"六"!==e.weekday?(u(),a(l,{key:1,style:{display:"block",margin:"10px 0px 25px"}},{default:o((()=>[y(x(e.weekday),1)])),_:2},1024)):b("",!0),f(T)!==t?(u(),a(l,{key:2,style:{display:"block","border-radius":"100%",padding:"10px","box-sizing":"border-box",width:"47px",height:"47px"}},{default:o((()=>[y(x(e.day_number),1)])),_:2},1024)):b("",!0),f(T)===t?(u(),a(l,{key:3,style:{display:"block",background:"#7dc3d3",color:"#fff","border-radius":"100%",padding:"10px","box-sizing":"border-box",width:"45px",height:"45px"}},{default:o((()=>[y(x(e.day_number),1)])),_:2},1024)):b("",!0),c(i,{style:{position:"absolute",bottom:"-10px",left:"50%",transform:"translateX(-50%)"}},{default:o((()=>[null!=e.goods?(u(),a(i,{key:0,style:{color:"rgb(255 151 151)","font-size":"xx-large",display:"inline-block"}},{default:o((()=>[y(".")])),_:1})):b("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["scroll-left"]),c(i,{style:{padding:"5px 20px"}},{default:o((()=>[c(l,{class:"font-alimamashuhei",style:{color:"#7dc3d3",margin:"15px 0px 15px 0px",display:"block"}},{default:o((()=>[y(x(f(T))+" 日 星期"+x(f(Y).weekday)+"上新",1)])),_:1}),null==f(Y).goods?(u(),a(i,{key:0},{default:o((()=>[c(l,null,{default:o((()=>[y("这天没有上新呢...")])),_:1})])),_:1})):b("",!0)])),_:1}),f(Y).goods?(u(!0),p(_,{key:0},g(f(Y).goods,(e=>(u(),a(i,{key:e.id,style:{margin:"10px 0px 10px 0px","box-sizing":"border-box",padding:"10px 20px"}},{default:o((()=>[c(i,{style:{width:"30vw",float:"left",position:"relative"}},{default:o((()=>[c(h,{onClick:t=>E(e.goods_id)},{default:o((()=>[c(n,{src:e.goods_image,mode:"aspectFill",style:{width:"30vw",height:"auto","aspect-ratio":"1"}},null,8,["src"]),c(l,{style:{left:"0px",position:"absolute",top:"5px",width:"100px",background:"#7dc4d3",color:"#fff","text-align":"center",opacity:"0.8","font-size":"13px"}},{default:o((()=>[y(x(e.sale_type),1)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024),c(i,{class:"brand_goods_item",style:{width:"calc(70vw - 70px)",float:"left","margin-left":"15px"}},{default:o((()=>[c(h,{onClick:t=>E(e.goods_id)},{default:o((()=>[c(l,{class:"font-alimamashuhei"},{default:o((()=>[y(x(e.brand_name)+" "+x(e.goods_name),1)])),_:2},1024),c(i,null,{default:o((()=>[c(l,{class:"line-height"},{default:o((()=>[y(x(e.size)+"·"+x(e.size_detail)+"·"+x(e.type),1)])),_:2},1024)])),_:2},1024),c(i,null,{default:o((()=>[c(l,{class:"line-height"},{default:o((()=>[y("开定时间 "+x(q(e.sub_time)),1)])),_:2},1024)])),_:2},1024),"限量现货"!=e.sale_type&&"不限量现货"!=e.sale_type?(u(),a(l,{key:0,class:"line-height",style:{color:"rgb(255 150 178)"}},{default:o((()=>[y(" 定金 "),c(l,{style:{"font-size":"25px",color:"rgb(255 150 178)","font-weight":"900"}},{default:o((()=>[y(x(e.sub_amount),1)])),_:2},1024),y(" ("+x(e.currency)+") 尾款 ",1),c(l,{style:{color:"rgb(255 150 178)","font-weight":"900"}},{default:o((()=>[y(x(e.fin_amount),1)])),_:2},1024)])),_:2},1024)):b("",!0),"限量现货"==e.sale_type||"不限量现货"==e.sale_type?(u(),a(l,{key:1,class:"line-height",style:{color:"rgb(255 150 178)"}},{default:o((()=>[y(" 全款 "),c(l,{style:{"font-size":"25px",color:"rgb(255 150 178)","font-weight":"900"}},{default:o((()=>[y(x(e.sub_amount+e.fin_amount),1)])),_:2},1024),y(" ("+x(e.currency)+") ",1)])),_:2},1024)):b("",!0)])),_:2},1032,["onClick"])])),_:2},1024),c(i,{style:{clear:"both"}})])),_:2},1024)))),128)):b("",!0)])),_:1},8,["style"])}}},[["__scopeId","data-v-0f870257"]]);export{$ as default};
