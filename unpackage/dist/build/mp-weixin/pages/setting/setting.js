"use strict";const e=require("../../common/vendor.js"),o=require("../../common/assets.js"),n=require("../../common/config.js"),t={__name:"setting",setup(t){e.index.setNavigationBarTitle({title:"设置"});const a=e.computed((()=>[{label:"更改用户名",action:i,status:!!n.global.userInfo.password,displayValue:n.global.userInfo.password?"去修改":"未设置"},{label:"更改密码",action:s,status:!!n.global.userInfo.password,displayValue:n.global.userInfo.password?"去修改":"未设置"},{label:"绑定手机号",action:l,status:!!n.global.userInfo.tel_phone,displayValue:n.global.userInfo.tel_phone?n.global.userInfo.tel_phone.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2"):"去绑定"},{label:"绑定微信",action:r,status:!!n.global.userInfo.wechat_open_id,displayValue:n.global.userInfo.wechat_open_id?"已绑定":"去绑定"},{label:"检查更新",action:u,status:!1,displayValue:"无需更新"}]));function s(){e.index.navigateTo({url:"/pages/setting/password/password"})}function l(){e.index.navigateTo({url:"/pages/setting/tel_phone/tel_phone"})}function i(){e.index.navigateTo({url:"/pages/setting/username/username"})}function r(){n.global.userInfo.wechat_open_id?e.index.showToast({title:"已绑定微信",icon:"none"}):n.bindWechat().then((()=>{console.log("微信绑定成功"),e.index.showToast({title:"微信绑定成功",icon:"none"})})).catch((o=>{console.error("微信绑定失败:",o),e.index.showToast({title:"微信绑定失败",icon:"none"})}))}function u(){if("app"===e.index.getSystemInfoSync().platform){const e=plus.runtime.version;console.log("App version from manifest:",e)}else e.index.showToast({title:"您所使用的平台无需更新",icon:"none"})}return e.ref({}),e.ref(!1),n.getUserInfo(),(n,t)=>({a:e.f(a.value,((o,n,t)=>({a:e.t(o.label),b:e.t(o.displayValue),c:e.n(o.status?"active":"inactive"),d:n,e:e.o((e=>o.action(o)),n)}))),b:o._imports_0$6})}},a=e._export_sfc(t,[["__scopeId","data-v-d9312078"]]);wx.createPage(a);
