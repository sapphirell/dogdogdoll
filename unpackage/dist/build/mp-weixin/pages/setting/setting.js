"use strict";const e=require("../../common/vendor.js"),o=require("../../common/assets.js"),a=require("../../common/config.js"),n={__name:"setting",setup(n){e.index.setNavigationBarTitle({title:"设置"});const t=e.computed((()=>[{label:"更改用户名",action:i,status:!!a.global.userInfo.password,displayValue:a.global.userInfo.password?"去修改":"未设置"},{label:"更改密码",action:s,status:!!a.global.userInfo.password,displayValue:a.global.userInfo.password?"去修改":"未设置"},{label:"绑定手机号",action:l,status:!!a.global.userInfo.tel_phone,displayValue:a.global.userInfo.tel_phone?a.global.userInfo.tel_phone.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2"):"去绑定"},{label:"绑定微信",action:r,status:!!a.global.userInfo.wechat_open_id,displayValue:a.global.userInfo.wechat_open_id?"已绑定":"去绑定"},{label:"检查更新",action:u,status:!1,displayValue:"无需更新"}]));function s(){e.index.navigateTo({url:"/pages/setting/password/password"})}function l(){e.index.navigateTo({url:"/pages/setting/tel_phone/tel_phone"})}function i(){e.index.navigateTo({url:"/pages/setting/username/username"})}function r(){a.global.userInfo.wechat_open_id?e.index.showToast({title:"已绑定微信",icon:"none"}):a.wechatSignLogin().then((o=>{e.index.showToast({title:"绑定成功"}),a.getUserInfo()}))}function u(){if("app"===e.index.getSystemInfoSync().platform){const e=plus.runtime.version;console.log("App version from manifest:",e)}else e.index.showToast({title:"您所使用的平台无需更新",icon:"none"})}return e.ref({}),e.ref(!1),a.getUserInfo(),(a,n)=>({a:e.f(t.value,((o,a,n)=>({a:e.t(o.label),b:e.t(o.displayValue),c:e.n(o.status?"active":"inactive"),d:a,e:e.o((e=>o.action(o)),a)}))),b:o._imports_0$3})}},t=e._export_sfc(n,[["__scopeId","data-v-c9d0e157"]]);wx.createPage(t);
