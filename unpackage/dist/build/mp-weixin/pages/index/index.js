"use strict";const e=require("../../common/vendor.js"),a=require("../../common/assets.js"),o=require("../../common/config.js");if(!Array){(e.resolveComponent("common-search")+e.resolveComponent("index-brand")+e.resolveComponent("common-page"))()}Math||((()=>"../../components/common-search/common-search.js")+(()=>"../../components/index-brand/index-brand.js")+(()=>"../../components/common-page/common-page.js"))();const n={__name:"index",setup(n){let t=e.ref([]),l=e.ref(["https://images1.fantuanpu.com/box/100024/28a0d23e82607d47a56edb08daa85d0f","https://images1.fantuanpu.com/box/100024/28a0d23e82607d47a56edb08daa85d0f","https://images1.fantuanpu.com/box/100024/28a0d23e82607d47a56edb08daa85d0f"]);const u=e.ref([{label:"中国娃社",value:1},{label:"个人作者",value:2},{label:"外国娃社",value:3}]),r=e.ref(null);e.ref(0),e.index.getSystemInfoSync(),e.ref(0);const s=e.ref(1),d=e.ref(10),c=e.ref(!0),i=e.ref(!1);function m(e){this.swiperIndex.value=e.detail.current}function v(){c.value&&!i.value&&(i.value=!0,e.index.showLoading(),e.index.request({url:o.websiteUrl+"/brands",data:{page:s.value,pageSize:d.value,...r.value&&{searchType:r.value}},success:e=>{const a=e.data.data.brands_list;0!==a.length?(t.value=[...t.value,...a],c.value=t.value.length<e.data.data.total,s.value++):c.value=!1},fail:a=>{console.log(a),e.index.showToast({title:"网络请求失败",icon:"none"})},complete:()=>{i.value=!1,e.index.hideLoading()}}))}return e.onReachBottom((()=>{v()})),v(),(o,n)=>e.e({a:e.f(e.unref(l),((e,a,o)=>({a:e,b:e}))),b:e.o(m),c:a._imports_0,d:a._imports_1,e:a._imports_2,f:a._imports_3,g:e.f(u.value,((a,o,n)=>({a:e.t(a.label),b:o,c:r.value===a.value?1:"",d:e.o((e=>{return o=a.value,r.value===o?r.value=null:r.value=o,s.value=1,c.value=!0,t.value=[],void v();var o}),o)}))),h:e.f(e.unref(t),((a,o,n)=>({a:"323b0850-2-"+n+",323b0850-0",b:e.p({brand:a}),c:a.id}))),i:i.value},(i.value,{}),{j:!c.value},(c.value,{}),{k:e.p({head_color:"rgb(255 230 215) "})})}},t=e._export_sfc(n,[["__scopeId","data-v-323b0850"]]);n.__runtimeHooks=2,wx.createPage(t);
