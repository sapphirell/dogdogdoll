"use strict";const e=require("../../common/vendor.js"),a=require("../../common/config.js");if(!Array){(e.resolveComponent("uni-icons")+e.resolveComponent("loading-toast"))()}Math||((()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js")+(()=>"../../components/loading-toast/loading-toast.js"))();const o={__name:"account_book_preview",props:["account_book_id"],setup(o){const t=o,l=e.ref(!1),i=e.ref({}),u=()=>{e.index.navigateTo({url:`/pages/stock/account_book_form/account_book_form?account_book_id=${t.account_book_id}`})};return e.onShow((()=>{a.asyncGetUserInfo().then((o=>{(async o=>{const t=e.index.getStorageSync("token");try{const u=await e.index.request({url:`${a.websiteUrl}/with-state/account-book-detail?id=${o}`,method:"GET",header:{Authorization:t}});"success"===u.data.status?(i.value=u.data.data,setTimeout((()=>{l.value=!0,e.index.setNavigationBarTitle({title:i.value.name||"账本详情"})}),600)):e.index.showToast({title:u.data.msg||"获取详情失败",icon:"none"})}catch(u){e.index.showToast({title:"网络请求失败",icon:"none"})}})(t.account_book_id)}))})),(a,o)=>e.e({a:l.value},l.value?e.e({b:i.value.image_url,c:e.t(i.value.name),d:e.t(i.value.type),e:e.p({type:"list",size:"16",color:"#5db7ff"}),f:i.value.count},i.value.count?{g:e.p({type:"number",size:"14",color:"#5db7ff"}),h:e.t(i.value.count)}:{},{i:i.value.price||i.value.final_price>0},i.value.price||i.value.final_price>0?e.e({j:e.p({type:"money",size:"14",color:"#5db7ff"}),k:i.value.final_price>0},i.value.final_price>0?{l:e.t(i.value.final_price)}:{m:e.t(i.value.price)},{n:i.value.final_price>0&&i.value.final_time},i.value.final_price>0&&i.value.final_time?{o:e.t(i.value.final_time)}:{}):{},{p:i.value.shop_name},i.value.shop_name?{q:e.p({type:"shop",size:"14",color:"#5db7ff"}),r:e.t(i.value.shop_name)}:{},{s:i.value.size||i.value.size_detail},i.value.size||i.value.size_detail?{t:e.p({type:"compose",size:"14",color:"#5db7ff"}),v:e.t(i.value.size),w:e.t(i.value.size_detail)}:{},{x:i.value.head_circumference},i.value.head_circumference?{y:e.p({type:"circle",size:"14",color:"#5db7ff"}),z:e.t(i.value.head_circumference)}:{},{A:i.value.shoulder_width},i.value.shoulder_width?{B:e.p({type:"arrowright",size:"14",color:"#5db7ff"}),C:e.t(i.value.shoulder_width)}:{},{D:i.value.makeup_artist},i.value.makeup_artist?{E:e.p({type:"person",size:"14",color:"#5db7ff"}),F:e.t(i.value.makeup_artist)}:{},{G:i.value.color},i.value.color?{H:e.p({type:"color",size:"14",color:"#5db7ff"}),I:e.t(i.value.color),J:i.value.color}:{},{K:i.value.buy_date||i.value.arrival_date},i.value.buy_date||i.value.arrival_date?e.e({L:e.p({type:"calendar",size:"16",color:"#5db7ff"}),M:i.value.buy_date},i.value.buy_date?{N:e.p({type:"cart",size:"14",color:"#5db7ff"}),O:e.t(i.value.buy_date)}:{},{P:i.value.arrival_date},i.value.arrival_date?{Q:e.p({type:"home",size:"14",color:"#5db7ff"}),R:e.t(i.value.arrival_date)}:{}):{},{S:i.value.position},i.value.position?{T:e.p({type:"location",size:"16",color:"#5db7ff"}),U:e.p({type:"map",size:"14",color:"#5db7ff"}),V:e.t(i.value.position)}:{},{W:i.value.additional_value||i.value.remark},i.value.additional_value||i.value.remark?e.e({X:e.p({type:"info",size:"16",color:"#5db7ff"}),Y:i.value.additional_value},i.value.additional_value?{Z:e.p({type:"plus",size:"14",color:"#5db7ff"}),aa:e.t(i.value.additional_value)}:{},{ab:i.value.remark},i.value.remark?{ac:e.p({type:"chat",size:"14",color:"#5db7ff"}),ad:e.t(i.value.remark)}:{}):{}):{},{ae:e.p({type:"compose",size:"22",color:"#fff"}),af:e.o(u),ag:e.p({show:!l.value})})}};wx.createPage(o);
