"use strict";const e=require("../../common/vendor.js"),t=require("../../common/config.js"),o={__name:"view-logs",setup(o){const n=()=>{let t=e.index.getStorageSync("ft_uvid");return t||(t=Math.floor(2147483647*Math.random())+1,e.index.setStorageSync("ft_uvid",t)),t},r=()=>{const e=getCurrentPages();return 0===e.length?"":e[e.length-1].route||""};return e.onMounted((()=>{(async()=>{let o=e.index.getStorageSync("userInfo");const s={scene:t.getScene(),path:r(),uid:o?o.id:0,uvid:n(),version:t.dogdogdollVersion};if(console.log("logData:",s),s.path)try{await e.index.request({url:`${t.websiteUrl}/log/view`,method:"POST",data:s,header:{"content-type":"application/json"}})}catch(a){console.error("日志发送错误:",a)}else console.warn("无法获取当前页面路径")})()})),(e,t)=>({})}};wx.createComponent(o);
