"use strict";const e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("goods-search")+e.resolveComponent("common-search"))()}Math||((()=>"../goods-search/goods-search.js")+(()=>"../common-search/common-search.js"))();const o={__name:"switch-search",props:{mode:{type:String,default:"jump",validator:e=>["jump","fill"].includes(e)},width:{type:String,default:"100%"},background:{type:String,default:"#fff"},fontSize:{type:String,default:"28rpx"}},emits:["submit"],setup(o,{emit:a}){e.useCssVars((e=>({"24e754f2":g.width})));const d=e.ref("goods"),n=e.ref([]),r=e.ref([]),t=e.ref(null),u=e.ref(null),s=e.computed((()=>"goods"===d.value&&n.value.length>0||"brand"===d.value&&r.value.length>0)),l=()=>{"goods"===d.value?n.value=[]:r.value=[],d.value="goods"===d.value?"brand":"goods"},i=e=>{n.value=e?[e]:[],e&&c("submit",{type:"goods",data:e})},v=(e,o)=>{0===e?r.value=[]:(r.value=[{id:e,name:o}],c("submit",{type:"brand",data:{id:e,name:o}}))},g=o,m=e.computed((()=>"700rpx")),c=a;return(a,c)=>e.e({a:"goods"===d.value},"goods"===d.value?{b:e.sr(t,"485bd003-0",{k:"goodsSearchRef"}),c:e.o(i),d:e.p({width:m.value,background:o.background,"hidden-icon":!1,mode:o.mode})}:{e:e.sr(u,"485bd003-1",{k:"commonSearchRef"}),f:e.o(v),g:e.p({width:m.value,background:o.background,fontSize:o.fontSize,hiddenIcon:!0,mode:o.mode,"show-index-selector":!0})},{h:m.value,i:e.t("goods"===d.value?"娃物":"作者"),j:e.o(l),k:s.value},s.value?e.e({l:"goods"===d.value&&n.value.length>0},"goods"===d.value&&n.value.length>0?{m:e.f(n.value,((o,a,d)=>({a:e.t(o.brand_name),b:e.t(o.name),c:o.id,d:e.o((a=>{return d=o,void("jump"===g.mode&&e.index.navigateTo({url:`/pages/goods/goods?goods_id=${d.id}`}));var d}),o.id)})))}:"brand"===d.value&&r.value.length>0?{o:e.f(r.value,((o,a,d)=>({a:e.t(o.name),b:o.id,c:e.o((a=>{return d=o,void("jump"===g.mode&&e.index.navigateTo({url:`/pages/brand/brand?brand_id=${d.id}`}));var d}),o.id)})))}:{},{n:"brand"===d.value&&r.value.length>0}):{},{p:e.s(a.__cssVars())})}},a=e._export_sfc(o,[["__scopeId","data-v-485bd003"]]);wx.createComponent(a);
