"use strict";const e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("goods-search")+e.resolveComponent("common-search"))()}Math||((()=>"../goods-search/goods-search.js")+(()=>"../common-search/common-search.js"))();const a={__name:"switch-search",props:{mode:{type:String,default:"jump",validator:e=>["jump","fill"].includes(e)},width:{type:String,default:"100%"},background:{type:String,default:"#fff"},fontSize:{type:String,default:"28rpx"}},emits:["submit"],setup(a,{emit:o}){e.useCssVars((e=>({bca54b7a:g.width})));const d=e.ref("goods"),n=e.ref([]),r=e.ref([]),t=e.ref(null),u=e.ref(null),s=e.computed((()=>"goods"===d.value&&n.value.length>0||"brand"===d.value&&r.value.length>0)),l=()=>{"goods"===d.value?n.value=[]:r.value=[],d.value="goods"===d.value?"brand":"goods"},i=e=>{n.value=e?[e]:[],e&&c("submit",{type:"goods",data:e})},v=(e,a)=>{0===e?r.value=[]:(r.value=[{id:e,name:a}],c("submit",{type:"brand",data:{id:e,name:a}}))},g=a,m=e.computed((()=>"700rpx")),c=o;return(o,c)=>e.e({a:"goods"===d.value},"goods"===d.value?{b:e.sr(t,"12a8790e-0",{k:"goodsSearchRef"}),c:e.o(i),d:e.p({width:m.value,background:a.background,"hidden-icon":!1,mode:a.mode})}:{e:e.sr(u,"12a8790e-1",{k:"commonSearchRef"}),f:e.o(v),g:e.p({width:m.value,background:a.background,fontSize:a.fontSize,hidenIcon:!1,mode:a.mode})},{h:m.value,i:e.t("goods"===d.value?"娃物":"娃店"),j:e.o(l),k:s.value},s.value?e.e({l:"goods"===d.value&&n.value.length>0},"goods"===d.value&&n.value.length>0?{m:e.f(n.value,((a,o,d)=>({a:e.t(a.brand_name),b:e.t(a.name),c:a.id,d:e.o((o=>{return d=a,void("jump"===g.mode&&e.index.navigateTo({url:`/pages/goods/goods?goods_id=${d.id}`}));var d}),a.id)})))}:"brand"===d.value&&r.value.length>0?{o:e.f(r.value,((a,o,d)=>({a:e.t(a.name),b:a.id,c:e.o((o=>{return d=a,void("jump"===g.mode&&e.index.navigateTo({url:`/pages/brand/brand?brand_id=${d.id}`}));var d}),a.id)})))}:{},{n:"brand"===d.value&&r.value.length>0}):{},{p:e.s(o.__cssVars())})}},o=e._export_sfc(a,[["__scopeId","data-v-12a8790e"]]);wx.createComponent(o);
