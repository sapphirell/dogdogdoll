"use strict";const e=require("../../common/vendor.js"),a=require("../../common/assets.js"),t=require("../../common/config.js"),l=Object.assign({inheritAttrs:!1},{__name:"common-search",props:{mode:{type:String,default:"jump",validator:e=>["jump","fill"].includes(e)},width:{type:String,default:"100%"},background:{type:String,default:""},fontSize:{type:String,default:""}},emits:["select"],setup(l,{emit:n}){const u=l,r=n,o=e.ref(""),d=e.ref([]),i=async()=>{if(""!==o.value.trim()){r("select",0,o.value);try{const a=await e.index.request({url:t.websiteUrl+`/search-brand?search=${o.value}`,method:"GET",header:{"Content-Type":"application/json"}});return console.log("请求结果:",a.data),"success"==a.data.status?null==a.data.data?void(d.value=[]):void(d.value=a.data.data):void(d.value=[])}catch(a){return console.error("请求错误:",a),void(d.value=[])}}else d.value=[]};function s(){o.value="",d.value=[]}return(t,n)=>e.e({a:"jump"==u.mode},"jump"==u.mode?{b:a._imports_0$11}:{},{c:e.o([e=>o.value=e.detail.value,i]),d:o.value,e:d.value.length>0},d.value.length>0?e.e({f:d.value.length>0&&o.value.length<5},(d.value.length>0&&o.value.length,{}),{g:a._imports_1$5,h:e.o(s)}):{},{i:e.n(t.$attrs.class),j:l.background||"#fff",k:d.value.length>0},d.value.length>0?{l:e.f(d.value,((a,t,l)=>({a:e.t(a.name),b:a.id,c:e.o((t=>{return l=a.id,n=a.name,void("jump"===u.mode?e.index.navigateTo({url:`/pages/brand/brand?brand_id=${l}`}):"fill"===u.mode&&(o.value=n,d.value=[],r("select",l,n)));var l,n}),a.id)}))),m:l.width}:{})}}),n=e._export_sfc(l,[["__scopeId","data-v-e250f8d9"]]);wx.createComponent(n);
