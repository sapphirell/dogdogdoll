"use strict";const e=require("../../common/vendor.js"),a=require("../../common/assets.js"),t=require("../../common/config.js"),l=Object.assign({inheritAttrs:!1},{__name:"common-search",props:{mode:{type:String,default:"jump",validator:e=>["jump","fill"].includes(e)},width:{type:String,default:"100%"},background:{type:String,default:""},fontSize:{type:String,default:""}},emits:["select"],setup(l,{emit:n}){const r=l,u=n,o=e.ref(""),i=e.ref([]),s=async()=>{if(""!==o.value.trim()){u("select",0,o.value);try{const a=await e.index.request({url:t.websiteUrl+`/search-brand?search=${o.value}`,method:"GET",header:{"Content-Type":"application/json"}});return console.log("请求结果:",a.data),"success"==a.data.status?null==a.data.data?void(i.value=[]):void(i.value=a.data.data):void(i.value=[])}catch(a){return console.error("请求错误:",a),void(i.value=[])}}else i.value=[]};function d(){o.value="",i.value=[]}return(t,n)=>e.e({a:"jump"==r.mode},"jump"==r.mode?{b:a._imports_0$6}:{},{c:e.o([e=>o.value=e.detail.value,s]),d:o.value,e:i.value.length>0},i.value.length>0?{f:a._imports_1$6,g:e.o(d)}:{},{h:e.n(t.$attrs.class),i:l.background||"#fff",j:i.value.length>0},i.value.length>0?{k:e.f(i.value,((a,t,l)=>({a:e.t(a.name),b:a.id,c:e.o((t=>{return l=a.id,n=a.name,void("jump"===r.mode?e.index.navigateTo({url:`/pages/brand/brand?brand_id=${l}`}):"fill"===r.mode&&(o.value=n,i.value=[],u("select",l,n)));var l,n}),a.id)}))),l:l.width}:{})}});wx.createComponent(l);
