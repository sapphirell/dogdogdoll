"use strict";const e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("uni-icons")+e.resolveComponent("bottom-popup"))()}Math||((()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js")+(()=>"../bottom-popup/bottom-popup.js"))();const t={__name:"cascade-multi-select",props:{show:{type:Boolean,default:!1},sizeData:{type:Object,default:()=>({})},initialSelection:{type:Array,default:()=>[]}},emits:["close","confirm"],setup(t,{emit:o}){const a=t,l=o,i=e.ref(""),u=e.ref([]),c=e.computed((()=>Object.keys(a.sizeData).map((e=>({label:e,value:e,count:a.sizeData[e].length}))))),n=e.computed((()=>i.value&&a.sizeData[i.value]||[])),s=()=>{i.value="",u.value=[]},p=()=>{l("close")},v=(e,t)=>u.value.some((o=>o.category===t&&o.size===e)),r=()=>{l("confirm",[...u.value]),p()};return e.watch((()=>a.show),(e=>{e&&(a.initialSelection&&a.initialSelection.length>0?(u.value=[...a.initialSelection],a.initialSelection[0]&&(i.value=a.initialSelection[0].category)):(s(),c.value.length>0&&(i.value=c.value[0].value)))})),(o,a)=>({a:e.o(s),b:e.o(p),c:e.p({type:"closeempty",size:"24",color:"#666"}),d:e.f(c.value,((t,o,a)=>({a:e.t(t.label),b:e.t(t.count),c:o,d:i.value===t.value?1:"",e:e.o((e=>(e=>{i.value=e.value})(t)),o)}))),e:e.f(n.value,((t,o,a)=>e.e({a:e.t(t),b:v(t,i.value)},v(t,i.value)?{c:"e9360f38-2-"+a+",e9360f38-0",d:e.p({type:"checkmarkempty",size:"16",color:"#65c6d9"})}:{},{e:o,f:v(t,i.value)?1:"",g:e.o((e=>((e,t)=>{const o=u.value.findIndex((o=>o.category===t&&o.size===e));o>=0?u.value.splice(o,1):u.value.push({category:t,size:e})})(t,i.value)),o)}))),f:e.t(u.value.length),g:e.o(r),h:e.o(p),i:e.p({show:t.show})})}},o=e._export_sfc(t,[["__scopeId","data-v-e9360f38"]]);wx.createComponent(o);
