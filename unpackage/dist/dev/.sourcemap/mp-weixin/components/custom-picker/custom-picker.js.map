{"version":3,"file":"custom-picker.js","sources":["components/custom-picker/custom-picker.vue","/Users/sapphirell/Documents/git/dogdogdoll-uniapp/components/custom-picker/custom-picker.vue?type=component"],"sourcesContent":["<!-- custom-picker -->\n<template>\r\n\t<view class=\"custom-select\">\r\n\t\t<input v-model=\"inputValue\" @click=\"toggleOpen\" @input=\"callbackValue\" placeholder=\"请选择或输入\" class=\"select-input\"\r\n\t\t\t:style=\"{ margin: margin }\" />\r\n\t\r\n\t\t\t<view v-if=\"isOpen\" class=\"dropdown\">\r\n\t\t\t\t<view v-for=\"item in filteredList\" :key=\"item.id\" @click=\"selectOption(item)\" class=\"dropdown-item\">\r\n\t\t\t\t\t{{ item.name }}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tcomputed\r\n\t} from 'vue';\r\n\r\n\tconst props = defineProps({\r\n\t\tdataList: {\r\n\t\t\ttype: Array,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tmargin: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '0',\r\n\t\t}\r\n\t});\r\n\r\n\tconst emit = defineEmits(['select']);\r\n\r\n\tconst inputValue = ref('');\r\n\tconst isOpen = ref(false);\r\n\t// const filteredList = ref([...props.dataList]);\n\t\n\t// 使用 computed 动态计算 filteredList\n\tconst filteredList = computed(() => {\n\t  return props.dataList.filter(item =>\n\t    item.name.toLowerCase().includes(inputValue.value.toLowerCase())\n\t  );\n\t});\r\n\r\n\tconst callbackValue = () => {\n\t\t// 输入内容传递到父组件\n\t\temit('select', 0, inputValue.value);\r\n\t};\r\n\n\r\n\tconst toggleOpen = () => {\r\n\t\tisOpen.value = !isOpen.value\r\n\t}\r\n\r\n\tconst selectOption = (item) => {\r\n\t\tinputValue.value = item.name;\r\n\t\tisOpen.value = false;\r\n\t\temit('select', item.id, item.name);\r\n\t};\n\t\r\n</script>\r\n\r\n<style scoped>\r\n\t\t.custom-select {\n\t\t\tposition: relative;\n\t\t\tz-index: 2;\n\t\t}\n\t\n\t\t.select-input {\n\t\t\tpadding: 20rpx 32rpx;\n\t\t\tborder-radius: 12rpx;\n\t\t\tbackground: #f8f8f8;\n\t\t\tfont-size: 22rpx;\n\t\t\tcolor: #333;\n\t\t\theight: 72rpx;\n\t\t\tbox-sizing: border-box;\n\t\t\twidth: 100%;\n\t\t\tline-height: normal;\n\t\t}\n\t\n\t\t.dropdown {\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\tmax-height: 320rpx;\n\t\t\toverflow-y: auto;\n\t\t\tborder-radius: 12rpx;\n\t\t\tbackground-color: #fff;\n\t\t\tz-index: 1000;\n\t\t\tbox-shadow: 0 8rpx 24rpx rgba(0,0,0,0.08);\n\t\t\tmargin-top: 8rpx;\n\t\t\tborder: 1rpx solid #eee;\n\t\t}\n\t\n\t\t.dropdown-item {\n\t\t\tpadding: 24rpx 32rpx;\n\t\t\tfont-size: 22rpx;\n\t\t\tcolor: #333;\n\t\t\ttransition: all 0.2s;\n\t\t\tposition: relative;\n\t\t}\n\t\n\t\t.dropdown-item:active {\n\t\t\tbackground-color: #f8f8f8;\n\t\t}\n\t\n\t\t.dropdown-item:not(:last-child)::after {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\tleft: 32rpx;\n\t\t\tright: 32rpx;\n\t\t\tbottom: 0;\n\t\t\theight: 1rpx;\n\t\t\tbackground: #f0f0f0;\n\t\t}\n\t\n\t\t/* 自定义滚动条 */\n\t\t.dropdown::-webkit-scrollbar {\n\t\t\twidth: 4rpx;\n\t\t}\n\t\n\t\t.dropdown::-webkit-scrollbar-track {\n\t\t\tbackground: #f8f8f8;\n\t\t\tborder-radius: 4rpx;\n\t\t}\n\t\n\t\t.dropdown::-webkit-scrollbar-thumb {\n\t\t\tbackground: #ddd;\n\t\t\tborder-radius: 4rpx;\n\t\t}\n\t\n\t\t/* 优化动画效果 */\n\t\t.slide-fade-enter-active {\n\t\t\ttransition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n\t\t}\n\t\n\t\t.slide-fade-leave-active {\n\t\t\ttransition: all 0.15s cubic-bezier(0.4, 0, 1, 1);\n\t\t}\n\t\n\t\t.slide-fade-enter-from,\n\t\t.slide-fade-leave-to {\n\t\t\topacity: 0;\n\t\t\ttransform: translateY(-16rpx);\n\t\t}\r\n</style>","import Component from '/Users/sapphirell/Documents/git/dogdogdoll-uniapp/components/custom-picker/custom-picker.vue'\nwx.createComponent(Component)"],"names":["ref","computed"],"mappings":";;;;;;;;;;;;;;;;AAqBC,UAAM,QAAQ;AAWd,UAAM,OAAO;AAEb,UAAM,aAAaA,kBAAI,EAAE;AACzB,UAAM,SAASA,kBAAI,KAAK;AAIxB,UAAM,eAAeC,cAAAA,SAAS,MAAM;AAClC,aAAO,MAAM,SAAS;AAAA,QAAO,UAC3B,KAAK,KAAK,YAAa,EAAC,SAAS,WAAW,MAAM,aAAa;AAAA,MACpE;AAAA,IACA,CAAE;AAED,UAAM,gBAAgB,MAAM;AAE3B,WAAK,UAAU,GAAG,WAAW,KAAK;AAAA,IACpC;AAGC,UAAM,aAAa,MAAM;AACxB,aAAO,QAAQ,CAAC,OAAO;AAAA,IACvB;AAED,UAAM,eAAe,CAAC,SAAS;AAC9B,iBAAW,QAAQ,KAAK;AACxB,aAAO,QAAQ;AACf,WAAK,UAAU,KAAK,IAAI,KAAK,IAAI;AAAA,IACnC;;;;;;;;;;;;;;;;;;;;;AC1DA,GAAG,gBAAgB,SAAS;"}