{"version":3,"file":"comment-loadding.js","sources":["components/comment-loadding/comment-loadding.vue","/Users/sapphirell/Documents/git/dogdogdoll-uniapp/components/comment-loadding/comment-loadding.vue?type=component"],"sourcesContent":["<template>\n  <!-- 添加根元素包裹 -->\n  <view>\n    <scroll-view \n      scroll-y \n      refresher-default-style=\"none\"\n      :refresher-enabled=\"true\" \n      :refresher-triggered=\"triggered\"\n      :refresher-threshold=\"threshold\"\n      refresher-background=\"#f8f8f8\"\n      @refresherrefresh=\"onRefresh\"\n      @refresherrestore=\"onRestore\"\n      @refresherabort=\"onAbort\"\n      :style=\"{ height: scrollHeight }\"\n      class=\"scroll-view\" \n    >\n      <!-- 使用Vue 2兼容的插槽语法 -->\n      <view slot=\"refresher\" class=\"refresh-container\" :style=\"{ height: `${threshold}px` }\">\n        <view class=\"refresh-content\" :class=\"{ refreshing: triggered }\">\n          <image \n            class=\"refresh-icon\" \n            :src=\"triggered ? refreshingGif : pullDownGif\" \n            mode=\"aspectFit\"\n          />\n          <text class=\"refresh-text\">{{ refreshText }}</text>\n        </view>\n      </view>\n      \n      <!-- 内容区域 -->\n      <slot></slot>\n    </scroll-view>\n  </view>\n</template>\n\n\n<script>\nexport default {\n  props: {\n    // 下拉刷新阈值（触发刷新的高度）\n    threshold: {\n      type: Number,\n      default: 150\n    },\n    // 滚动区域高度\n    scrollHeight: {\n      type: String,\n      default: '100vh'\n    }\n  },\n  data() {\n    return {\n      triggered: false, // 是否触发刷新\n      // 下拉时显示的静态图片\n      pullDownGif: 'https://images1.fantuanpu.com/home/f4a2f2a997e45b87bfce23edc794d9a6.gif',\n      // 刷新中显示的动态GIF\n      refreshingGif: 'https://images1.fantuanpu.com/home/f4a2f2a997e45b87bfce23edc794d9a6.gif',\n      refreshText: '下拉刷新' // 提示文字\n    };\n  },\n  methods: {\n    // 触发刷新\n    onRefresh() {\n      this.triggered = true;\n      this.refreshText = '正在刷新...';\n      this.$emit('refresh');\n    },\n    // 刷新完成\n    finishRefresh() {\n      this.triggered = false;\n      this.refreshText = '刷新完成';\n      setTimeout(() => {\n        this.refreshText = '下拉刷新';\n      }, 800);\n    },\n    // 下拉状态恢复\n    onRestore() {\n      this.refreshText = '下拉刷新';\n    },\n    // 刷新中断\n    onAbort() {\n      this.refreshText = '刷新取消';\n    }\n  }\n};\n</script>\n\n<style scoped>\n.refresh-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n}\n\n.refresh-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  transform: translateY(-20px);\n  opacity: 0;\n  transition: all 0.3s ease;\n}\n\n.scroll-view[refresher-triggered] .refresh-content,\n.refresh-content.refreshing {\n  transform: translateY(0);\n  opacity: 1;\n}\n\n.refresh-icon {\n  width: 40px;\n  height: 40px;\n  margin-bottom: 8px;\n}\n\n.refresh-text {\n  font-size: 14px;\n  color: #999;\n  transition: color 0.3s;\n}\n\n.refresh-content.refreshing .refresh-text {\n  color: #007AFF;\n}\n</style>\n","import Component from '/Users/sapphirell/Documents/git/dogdogdoll-uniapp/components/comment-loadding/comment-loadding.vue'\nwx.createComponent(Component)"],"names":[],"mappings":";;AAoCA,MAAK,YAAU;AAAA,EACb,OAAO;AAAA;AAAA,IAEL,WAAW;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA;AAAA,IAED,cAAc;AAAA,MACZ,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA,EACD;AAAA,EACD,OAAO;AACL,WAAO;AAAA,MACL,WAAW;AAAA;AAAA;AAAA,MAEX,aAAa;AAAA;AAAA,MAEb,eAAe;AAAA,MACf,aAAa;AAAA;AAAA;EAEhB;AAAA,EACD,SAAS;AAAA;AAAA,IAEP,YAAY;AACV,WAAK,YAAY;AACjB,WAAK,cAAc;AACnB,WAAK,MAAM,SAAS;AAAA,IACrB;AAAA;AAAA,IAED,gBAAgB;AACd,WAAK,YAAY;AACjB,WAAK,cAAc;AACnB,iBAAW,MAAM;AACf,aAAK,cAAc;AAAA,MACpB,GAAE,GAAG;AAAA,IACP;AAAA;AAAA,IAED,YAAY;AACV,WAAK,cAAc;AAAA,IACpB;AAAA;AAAA,IAED,UAAU;AACR,WAAK,cAAc;AAAA,IACrB;AAAA,EACF;AACF;;;;;;;;;;;;;;;;AClFA,GAAG,gBAAgB,SAAS;"}