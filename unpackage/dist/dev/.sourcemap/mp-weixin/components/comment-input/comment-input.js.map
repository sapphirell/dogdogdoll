{"version":3,"file":"comment-input.js","sources":["components/comment-input/comment-input.vue","/Users/sapphirell/Documents/git/dogdogdoll-uniapp/components/comment-input/comment-input.vue?type=component"],"sourcesContent":["<!-- /components/comment-input.vue -->\r\n<template>\r\n\t<!-- 蒙版层 -->\r\n\t<view class=\"mask\" v-show=\"displayMask\" @tap=\"handleMaskTap\"></view>\r\n\r\n\t<!-- 评论框 -->\r\n\t<view class=\"bottom_tab\" :adjust-position=\"false\" :style=\"{ paddingBottom: footerBottomHeight }\">\r\n\t\t<view class=\"about_info\">\r\n\t\t\t<view v-if=\"selectedAssociation\" class=\"association-container\">\r\n\t\t\t\t<view class=\"association-item\">\r\n\t\t\t\t\t<uni-icons type=\"paperclip\" size=\"20\" color=\"#fff\"></uni-icons>\r\n\t\t\t\t\t<text class=\"association-text\">{{ selectedAssociation.name }}</text>\r\n\t\t\t\t\t<uni-icons type=\"close\" size=\"20\" color=\"#fff\" @tap.stop=\"selectedAssociation = null\"\r\n\t\t\t\t\t\tclass=\"close-icon\"></uni-icons>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"uploadedImageUrl\" class=\"image-container\">\r\n\t\t\t\t<view class=\"image-item\">\r\n\t\t\t\t\t<image :src=\"uploadedImageUrl\" mode=\"aspectFill\" class=\"uploaded-image\"></image>\r\n\t\t\t\t\t<view class=\"delete-icon\" @tap.stop=\"uploadedImageUrl = ''\">\r\n\t\t\t\t\t\t<uni-icons type=\"close\" size=\"18\" color=\"#fff\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"bottom_input\">\r\n\t\t\t<!-- 输入框 -->\r\n\t\t\t<textarea :disable-default-padding=\"true\" :focus=\"isFocused\" class=\"comment_input unified-textarea\"\r\n\t\t\t\t:class=\"{ expanded: isFocused }\" ref=\"inputRef\" v-model=\"commentText\" @focus=\"handleFocus\"\r\n\t\t\t\t@blur=\"handleBlur\" :adjust-position=\"false\"\r\n\t\t\t\t:placeholder=\"replyInfo.username ? '回复@' + replyInfo.username + ' ' : '写评论...'\"></textarea>\r\n\r\n\t\t\t<!-- 按钮 -->\r\n\t\t\t<button @click=\"handleSubmit\">写评论</button>\r\n\t\t</view>\r\n\r\n\r\n\t\t<view v-show=\"showActionBar\" class=\"action-bar\">\r\n\t\t\t<view @tap.stop=\"toggleAnonymous\">\r\n\t\t\t\t<uni-icons v-if=\"isAnonymous\" type=\"eye-slash\" size=\"22\"\r\n\t\t\t\t\t:color=\"isAnonymous ? '#007aff' : ''\"></uni-icons>\r\n\t\t\t\t<uni-icons v-else type=\"eye\" size=\"22\" color=\"#696a6c\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t\t<view @tap.stop=\"showPopup = true\">\r\n\t\t\t\t<uni-icons type=\"plus\" size=\"22\" color=\"#696a6c\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t\t<view @tap.stop=\"selectImage\">\r\n\t\t\t\t<uni-icons type=\"image\" size=\"22\" color=\"#696a6c\"></uni-icons>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 操作栏 ： 1是否匿名发帖，点击后变为高亮蓝色，且发帖传匿名参数 -->\r\n\t\t\t<!-- 加号：内容选择区域出现多个按钮，1：关联 ,点击后从底部弹窗，-->\r\n\t\t\t<!-- 键盘按钮，点击关闭下方菜单，并聚焦输入框 -->\r\n\t\t</view>\r\n\r\n\r\n\t\t<view>\r\n\t\t\t<!-- 内容选择区域，在输入框下方，会把输入框顶起来 -->\r\n\t\t</view>\r\n\r\n\t\t<!-- 底部弹窗组件 -->\r\n\t\t<bottom-popup :show=\"showPopup\" @close=\"showPopup = false\">\r\n\t\t\t<!-- 关联商品或是品牌，点击后获取商品id和名称，关闭弹窗组件，并在输入框下方显示刚刚选择的品牌或商品，提交的时候需要携带这些信息 -->\r\n\t\t\t<switch-search :target-id=\"props.targetId\" :reply-info=\"props.replyInfo\" mode=\"fill\"\r\n\t\t\t\t@submit=\"handleSearchSelect\" v-if=\"showPopup\"></switch-search>\r\n\t\t\t<view style=\"height: 900rpx;\"></view>\r\n\t\t</bottom-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tcomputed,\r\n\t\tgetCurrentInstance,\r\n\t\tonMounted,\r\n\t} from 'vue'\r\n\timport {\r\n\t\tonLoad,\r\n\t\tonShow,\r\n\r\n\t} from \"@dcloudio/uni-app\";\r\n\r\n\timport {\r\n\t\tgetScene,\r\n\t\twebsiteUrl,\r\n\t\timage1Url,\r\n\t} from \"@/common/config.js\"\r\n\r\n\timport {\r\n\t\tchooseImage,\r\n\t\tjumpToCroper,\r\n\t\tgetQiniuToken,\r\n\t\tuploadImageToQiniu\r\n\t} from \"@/common/image.js\";\r\n\r\n\r\n\tconst showPopup = ref(false)\r\n\tconst props = defineProps({\r\n\t\treplyInfo: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: () => ({})\r\n\t\t},\r\n\t\ttargetId: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tsafeBottom: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 10\r\n\t\t}\r\n\t})\r\n\t// 暴露聚焦方法\r\n\tconst inputRef = ref(null) // 需要关联到真实的textarea元素\r\n\t// 聚焦状态\r\n\tconst isFocused = ref(false)\r\n\r\n\tconst emit = defineEmits(['submit', 'update:replyInfo'])\r\n\tconst instance = getCurrentInstance()\r\n\tconst commentText = ref('')\r\n\tconst displayMask = ref(false)\r\n\tconst clickedInside = ref(false)\r\n\t// 显示操作栏\r\n\tconst showActionBar = ref(false)\r\n\t// 是否隐身回复\r\n\tconst isAnonymous = ref(false)\r\n\t// 选择的品牌或商品信息\r\n\tconst selectedAssociation = ref(null)\r\n\t// 上传的图片地址\r\n\tconst uploadedImageUrl = ref(\"\")\r\n\r\n\r\n\r\n\tconst keyboardHeight = ref(0)\r\n\tconst systemInfo = uni.getSystemInfoSync()\r\n\tconst footerBottomHeight = computed(() => {\r\n\t\tlet safeBottomVar = systemInfo.safeAreaInsets?.bottom || 10\r\n\t\tconsole.log(\"底部安全距离1:\", systemInfo.safeAreaInsets?.bottom, \"=>\", safeBottomVar)\r\n\r\n\t\tlet safeBottom = safeBottomVar + keyboardHeight.value\r\n\t\tconsole.log(\"底部最终距离2:\", safeBottom)\r\n\t\treturn `${safeBottom}px`\r\n\t})\r\n\r\n\tconst keyboardHeightChangeHandler = (res) => {\r\n\t\tconsole.log(\"键盘高度变化\", res)\r\n\t\tkeyboardHeight.value = res.height\r\n\t}\r\n\r\n\tconst toggleAnonymous = (event) => {\r\n\t\tconsole.log(\"切换匿名状态\", isAnonymous.value)\r\n\r\n\t\t// event.stopPropagation()\r\n\t\tisAnonymous.value = !isAnonymous.value\r\n\t\tif (isAnonymous.value) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: \"进入匿名状态\",\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: \"退出匿名状态\",\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tconst handleFocus = () => {\r\n\t\tdisplayMask.value = true\r\n\t\tisFocused.value = true\r\n\t\t// 输入框聚焦时显示操作栏\r\n\t\tshowActionBar.value = true\r\n\t}\r\n\r\n\tconst handleBlur = () => {\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (!clickedInside.value) {\r\n\t\t\t\t// 在操作栏打开的时候不关闭蒙版\r\n\t\t\t\tif (!showActionBar.value) {\r\n\t\t\t\t\tdisplayMask.value = false\r\n\t\t\t\t}\r\n\t\t\t\tisFocused.value = false\r\n\t\t\t}\r\n\t\t\tclickedInside.value = false\r\n\t\t}, 200)\r\n\t}\r\n\r\n\t// 选择图片\r\n\tasync function selectImage() {\r\n\t\tuni.chooseImage({\r\n\t\t\tcount: 1,\r\n\t\t\tsuccess: async (res) => {\r\n\t\t\t\tconst tempFilePaths = res.tempFilePaths;\r\n\r\n\t\t\t\t// 依次上传所有图片（每张图片使用独立的 token）\r\n\t\t\t\tfor (const filePath of tempFilePaths) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t// 为每张图片获取独立的 token\r\n\t\t\t\t\t\tconst tokenData = await getQiniuToken();\r\n\t\t\t\t\t\tconst uploadRes = await uploadImageToQiniu(filePath, tokenData.token, tokenData\r\n\t\t\t\t\t\t\t.path);\r\n\t\t\t\t\t\tconsole.log(\"res:\", uploadRes)\r\n\t\t\t\t\t\tif (uploadRes.qiniuRes.statusCode === 200) {\r\n\t\t\t\t\t\t\tconst imageUrl = image1Url + tokenData.path;\r\n\t\t\t\t\t\t\tuploadedImageUrl.value = imageUrl;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.error('上传失败:', filePath);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.error('上传错误:', error);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst handleMaskTap = () => {\r\n\t\tconsole.log(\"蒙版被点击\")\r\n\t\tdisplayMask.value = false\r\n\t\tisFocused.value = false\r\n\t\tshowActionBar.value = false\r\n\t\tuni.hideKeyboard()\r\n\t}\r\n\r\n\tconst handleActionBarClick = () => {\r\n\t\tclickedInside.value = true\r\n\t}\r\n\r\n\tfunction handleSearchSelect(event) {\r\n\t\tlet edata = {}\r\n\t\tif (event.type === 'goods') {\r\n\t\t\tconsole.log('选择了商品:', event.data);\r\n\t\t\t// 添加：关闭弹窗\r\n\t\t\tshowPopup.value = false;\r\n\t\t\tedata.type = 1\r\n\t\t\tedata.id = event.data.id\r\n\t\t\tedata.name = event.data.name\r\n\r\n\t\t} else if (event.type === 'brand') {\r\n\t\t\tconsole.log('选择了品牌:', event.data);\r\n\t\t\t// 添加：关闭弹窗\r\n\t\t\tshowPopup.value = false;\r\n\t\t\tedata.type = 2\r\n\t\t\tedata.id = event.data.id\r\n\t\t\tedata.name = event.data.name\r\n\t\t}\r\n\t\tselectedAssociation.value = edata\r\n\t}\r\n\r\n\tconst openAssociationPopup = () => {\r\n\t\thandleActionBarClick() // 标记为内部点击\r\n\t\t// ...其他逻辑\r\n\t}\r\n\tconst handleSubmit = () => {\n\t\tif (!commentText.value.trim() && !uploadedImageUrl.value) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '请输入评论内容或上传图片',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\t\n\t\tlet scene = getScene()\n\t\tconsole.log(\"scene\", scene)\n\t\t\n\t\t// 构建提交数据\n\t\tconst submitData = {\n\t\t\tcontent: commentText.value,\n\t\t\ttarget_id: props.targetId,\n\t\t\ttype: 4,\n\t\t\treplyInfo: props.replyInfo,\n\t\t\torigin: scene,\n\t\t\t// 添加图片和关联信息\n\t\t\timage_url: uploadedImageUrl.value || \"\",\n\t\t\tassociation_id: selectedAssociation.value ? selectedAssociation.value.id : 0,\n\t\t\tassociation_type: selectedAssociation.value ? selectedAssociation.value.type : 0,\n\t\t\tis_anonymous: isAnonymous.value ? 1 : 0  // 1表示匿名，0表示正常\n\t\t}\n\t\t\n\t\temit('submit', submitData)\n\n\t\t// 重置表单\n\t\tcommentText.value = ''\n\t\tuploadedImageUrl.value = ''\n\t\tselectedAssociation.value = null\n\t\tisAnonymous.value = false \n\t\temit('update:replyInfo', {})\n\t\t\n\t\t// 关闭蒙版和键盘\n\t\thandleMaskTap()\n\t}\n\r\n\r\n\t// 暴露聚焦方法\r\n\tconst focusInput = () => {\r\n\t\tisFocused.value = true\r\n\t}\r\n\r\n\tdefineExpose({\r\n\t\tfocusInput\r\n\t})\r\n\r\n\tonMounted(() => {\r\n\t\tif (process.env.VUE_APP_PLATFORM == \"h5\") {\r\n\t\t\tconsole.log(\"不注册键盘弹出事件\")\r\n\t\t\t//h5不会弹出软键盘\r\n\t\t\treturn\r\n\t\t}\r\n\t\tconsole.log(\"注册键盘弹出事件\")\r\n\t\tuni.onKeyboardHeightChange(keyboardHeightChangeHandler)\r\n\t})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\t/* 保持原样式不变 */\r\n\t.mask {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground: #fff;\r\n\t\topacity: 0;\r\n\t\tz-index: 99;\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\t}\r\n\r\n\t// 底部tab\r\n\t.bottom_tab {\r\n\r\n\t\talign-items: center;\r\n\t\t/* 垂直居中 */\r\n\t\tgap: 8px;\r\n\t\t/* 元素间距 */\r\n\t\tpadding: 10px;\r\n\t\tbox-sizing: border-box;\r\n\t\tleft: 0px;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0px;\r\n\t\tz-index: 1001;\r\n\t\twidth: 100vw;\r\n\t\tbackground: #fff;\r\n\r\n\r\n\t\t.bottom_input {\r\n\t\t\tdisplay: flex;\r\n\t\t\t/* 添加顶部对齐，防止按钮被拉伸 */\r\n\t\t\talign-items: flex-start;\r\n\t\t}\r\n\r\n\t\t.replyInfo {\r\n\t\t\tflex-shrink: 0;\r\n\t\t\t/* 禁止缩小 */\r\n\t\t\tmax-width: 50px;\r\n\t\t\t/* 最大宽度限制 */\r\n\t\t\toverflow: hidden;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\tflex-shrink: 0;\r\n\t\t\tmax-width: 50px;\r\n\t\t\tmargin-right: 8px;\r\n\t\t}\r\n\r\n\t\t.comment_input {\r\n\t\t\tflex: 1;\r\n\t\t\t/* 占据剩余空间 */\r\n\t\t\tmin-width: 0;\r\n\t\t\t/* 允许缩小 */\r\n\t\t\t// flex: 1;\r\n\t\t\tmargin-right: 15rpx;\r\n\t\t\t// min-height: 56rpx;\r\n\t\t\tbackground: #f2f2f2;\r\n\t\t\tborder-radius: 10rpx;\r\n\t\t\tpadding: 15rpx;\r\n\t\t\tline-height: normal;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #373838;\r\n\t\t\t// 聚焦时高度2倍\r\n\t\t\theight: 40rpx;\r\n\t\t\ttransition: height 0.3s ease;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tbox-sizing: content-box;\r\n\r\n\t\t}\r\n\r\n\t\t.comment_input.expanded {\r\n\t\t\theight: 80rpx !important;\r\n\t\t}\r\n\r\n\t\tbutton {\r\n\t\t\tflex-shrink: 0;\r\n\t\t\t/* 固定宽度 */\r\n\t\t\twidth: 90px;\r\n\t\t\t/* 按钮固定宽度 */\r\n\t\t\tbackground: rgb(100, 198, 220);\r\n\t\t\tborder-radius: 10px;\r\n\t\t\twidth: 90px;\r\n\t\t\tcolor: rgb(255, 255, 255);\r\n\t\t\tfont-size: 14px;\r\n\t\t}\r\n\t}\r\n\r\n\tuni-button:after {\r\n\t\tborder: none;\r\n\t}\r\n\r\n\t.action-bar {\r\n\t\tdisplay: flex;\r\n\t\tgap: 16px;\r\n\t\tmargin: 30rpx 0 0 0;\n\t\tjustify-content: flex-start;\r\n\t}\r\n\r\n\t/* 关联信息容器 */\r\n\t.about_info {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tgap: 12rpx;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\talign-items: center;\r\n\t\t/* 添加垂直居中 */\r\n\t}\r\n\r\n\t/* 关联项容器 */\r\n\t.association-container {\r\n\t\tbackground-color: #3f4449;\r\n\t\tborder-radius: 12rpx;\r\n\t\tpadding: 0 10rpx;\r\n\t\theight: 60rpx;\r\n\t\t/* 固定高度 */\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\t/* 垂直居中 */\r\n\t}\r\n\r\n\t/* 关联项样式 */\r\n\t.association-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 8rpx 12rpx;\r\n\t\t/* 移除 transform: translate(0, 20%) */\r\n\t}\r\n\r\n\t/* 关联文本样式 */\r\n\t.association-text {\r\n\t\tmargin: 0 12rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #fff;\r\n\t\tmax-width: 400rpx;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\r\n\t/* 关闭图标样式 */\r\n\t.close-icon {\r\n\t\tpadding: 8rpx;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t/* 图片容器 */\r\n\t.image-container {\r\n\t\tborder-radius: 12rpx;\r\n\t\tpadding: 5rpx;\r\n\t\theight: 80rpx;\r\n\t\t/* 固定高度 */\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\t/* 垂直居中 */\r\n\t}\r\n\r\n\t/* 图片项样式 */\r\n\t.image-item {\r\n\t\tposition: relative;\r\n\t\twidth: 90rpx;\r\n\t\theight: 90rpx;\r\n\t}\r\n\r\n\t/* 上传的图片样式 */\r\n\t.uploaded-image {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tborder: 2px solid #a5eeff;\r\n\t\tborder-radius: 10rpx;\r\n\t}\r\n\r\n\t/* 删除图标样式 */\r\n\t.delete-icon {\r\n\t\tposition: absolute;\r\n\t\ttop: -10rpx;\r\n\t\tright: -10rpx;\r\n\t\twidth: 36rpx;\r\n\t\theight: 36rpx;\r\n\t\tbackground-color: #ff5a5f;\r\n\t\tborder-radius: 50%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t/deep/ .search_results {\r\n\t\tbox-shadow: none;\r\n\t\tbackground: #fff;\r\n\t\twidth: 600rpx;\r\n\t}\r\n</style>","import Component from '/Users/sapphirell/Documents/git/dogdogdoll-uniapp/components/comment-input/comment-input.vue'\nwx.createComponent(Component)"],"names":["ref","uni","computed","getQiniuToken","uploadImageToQiniu","image1Url","getScene","onMounted"],"mappings":"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"}