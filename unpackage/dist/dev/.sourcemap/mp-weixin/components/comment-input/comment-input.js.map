{"version":3,"file":"comment-input.js","sources":["components/comment-input/comment-input.vue","/Users/sapphirell/Documents/git/dogdogdoll-uniapp/components/comment-input/comment-input.vue?type=component"],"sourcesContent":["<!-- /components/comment-input.vue -->\n<template>\n\t<!-- 蒙版层 -->\n\t<view class=\"mask\" v-show=\"displayMask\" @tap=\"handleMaskTap\"></view>\n\n\t<!-- 评论框 -->\n\t<view class=\"bottom_tab\" :adjust-position=\"false\" :style=\"{ paddingBottom: footerBottomHeight }\">\n\t\t<view class=\"about_info\">\n\t\t\t<view v-if=\"selectedAssociation\" class=\"association-container\">\n\t\t\t\t<view class=\"association-item\">\n\t\t\t\t\t<uni-icons type=\"paperclip\" size=\"20\" color=\"#fff\"></uni-icons>\n\t\t\t\t\t<text class=\"association-text\">{{ selectedAssociation.name }}</text>\n\t\t\t\t\t<uni-icons type=\"close\" size=\"20\" color=\"#fff\" @tap.stop=\"selectedAssociation = null\"\n\t\t\t\t\t\tclass=\"close-icon\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view v-if=\"uploadedImageUrl\" class=\"image-container\">\n\t\t\t\t<view class=\"image-item\">\n\t\t\t\t\t<image :src=\"uploadedImageUrl\" mode=\"aspectFill\" class=\"uploaded-image\"></image>\n\t\t\t\t\t<view class=\"delete-icon\" @tap.stop=\"uploadedImageUrl = ''\">\n\t\t\t\t\t\t<uni-icons type=\"close\" size=\"18\" color=\"#fff\"></uni-icons>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"bottom_input\">\n\t\t\t<!-- 输入框 -->\n\t\t\t<textarea :disable-default-padding=\"true\" :focus=\"isFocused\" class=\"comment_input unified-textarea\"\n\t\t\t\t:class=\"{ expanded: isFocused }\" ref=\"inputRef\" v-model=\"commentText\" @focus=\"handleFocus\"\n\t\t\t\t@blur=\"handleBlur\" :adjust-position=\"false\"\n\t\t\t\t:placeholder=\"replyInfo.username ? '回复@' + replyInfo.username + ' ' : '写评论...'\"></textarea>\n\n\t\t\t<!-- 按钮 -->\n\t\t\t<button @click=\"handleSubmit\">写评论</button>\n\t\t</view>\n\n\n\t\t<view v-show=\"showActionBar\" class=\"action-bar\">\n\t\t\t<view @tap.stop=\"toggleAnonymous\">\n\t\t\t\t<uni-icons v-if=\"isAnonymous\" type=\"eye-slash\" size=\"22\"\n\t\t\t\t\t:color=\"isAnonymous ? '#007aff' : ''\"></uni-icons>\n\t\t\t\t<uni-icons v-else type=\"eye\" size=\"22\" color=\"#696a6c\"></uni-icons>\n\t\t\t</view>\n\t\t\t<view @tap.stop=\"showPopup = true\">\n\t\t\t\t<uni-icons type=\"plus\" size=\"22\" color=\"#696a6c\"></uni-icons>\n\t\t\t</view>\n\t\t\t<view @tap.stop=\"selectImage\">\n\t\t\t\t<uni-icons type=\"image\" size=\"22\" color=\"#696a6c\"></uni-icons>\n\t\t\t</view>\n\n\t\t\t<!-- 操作栏 ： 1是否匿名发帖，点击后变为高亮蓝色，且发帖传匿名参数 -->\n\t\t\t<!-- 加号：内容选择区域出现多个按钮，1：关联 ,点击后从底部弹窗，-->\n\t\t\t<!-- 键盘按钮，点击关闭下方菜单，并聚焦输入框 -->\n\t\t</view>\n\n\n\t\t<view>\n\t\t\t<!-- 内容选择区域，在输入框下方，会把输入框顶起来 -->\n\t\t</view>\n\n\t\t<!-- 底部弹窗组件 -->\n\t\t<bottom-popup :show=\"showPopup\" @close=\"showPopup = false\">\n\t\t\t<!-- 关联商品或是品牌，点击后获取商品id和名称，关闭弹窗组件，并在输入框下方显示刚刚选择的品牌或商品，提交的时候需要携带这些信息 -->\n\t\t\t<switch-search :target-id=\"props.targetId\" :reply-info=\"props.replyInfo\" mode=\"fill\"\n\t\t\t\t@submit=\"handleSearchSelect\" v-if=\"showPopup\"></switch-search>\n\t\t\t<view style=\"height: 900rpx;\"></view>\n\t\t</bottom-popup>\n\t</view>\n</template>\n\n<script setup>\n\timport {\n\t\tref,\n\t\tcomputed,\n\t\tgetCurrentInstance,\n\t\tonMounted,\n\t} from 'vue'\n\timport {\n\t\tonLoad,\n\t\tonShow,\n\n\t} from \"@dcloudio/uni-app\";\n\n\timport {\n\t\tgetScene,\n\t\twebsiteUrl,\n\t\timage1Url,\n\t} from \"@/common/config.js\"\n\n\timport {\n\t\tchooseImage,\n\t\tjumpToCroper,\n\t\tgetQiniuToken,\n\t\tuploadImageToQiniu\n\t} from \"@/common/image.js\";\n\n\n\tconst showPopup = ref(false)\n\tconst props = defineProps({\n\t\treplyInfo: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({})\n\t\t},\n\t\ttargetId: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t},\n\t\tsafeBottom: {\n\t\t\ttype: Number,\n\t\t\tdefault: 10\n\t\t}\n\t})\n\t// 暴露聚焦方法\n\tconst inputRef = ref(null) // 需要关联到真实的textarea元素\n\t// 聚焦状态\n\tconst isFocused = ref(false)\n\n\tconst emit = defineEmits(['submit', 'update:replyInfo'])\n\tconst instance = getCurrentInstance()\n\tconst commentText = ref('')\n\tconst displayMask = ref(false)\n\tconst clickedInside = ref(false)\n\t// 显示操作栏\n\tconst showActionBar = ref(false)\n\t// 是否隐身回复\n\tconst isAnonymous = ref(false)\n\t// 选择的品牌或商品信息\n\tconst selectedAssociation = ref(null)\n\t// 上传的图片地址\n\tconst uploadedImageUrl = ref(\"\")\n\n\n\n\tconst keyboardHeight = ref(0)\n\tconst systemInfo = uni.getSystemInfoSync()\n\tconst footerBottomHeight = computed(() => {\n\t\tlet safeBottomVar = systemInfo.safeAreaInsets?.bottom || 10\n\t\tconsole.log(\"底部安全距离1:\", systemInfo.safeAreaInsets?.bottom, \"=>\", safeBottomVar)\n\n\t\tlet safeBottom = safeBottomVar + keyboardHeight.value\n\t\tconsole.log(\"底部最终距离2:\", safeBottom)\n\t\treturn `${safeBottom}px`\n\t})\n\n\tconst keyboardHeightChangeHandler = (res) => {\n\t\tconsole.log(\"键盘高度变化\", res)\n\t\tkeyboardHeight.value = res.height\n\t}\n\n\tconst toggleAnonymous = (event) => {\n\t\tconsole.log(\"切换匿名状态\", isAnonymous.value)\n\n\t\t// event.stopPropagation()\n\t\tisAnonymous.value = !isAnonymous.value\n\t\tif (isAnonymous.value) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: \"进入匿名状态\",\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t} else {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: \"退出匿名状态\",\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t}\n\n\t}\n\n\tconst handleFocus = () => {\n\t\tdisplayMask.value = true\n\t\tisFocused.value = true\n\t\t// 输入框聚焦时显示操作栏\n\t\tshowActionBar.value = true\n\t}\n\n\tconst handleBlur = () => {\n\t\tsetTimeout(() => {\n\t\t\tif (!clickedInside.value) {\n\t\t\t\t// 在操作栏打开的时候不关闭蒙版\n\t\t\t\tif (!showActionBar.value) {\n\t\t\t\t\tdisplayMask.value = false\n\t\t\t\t}\n\t\t\t\tisFocused.value = false\n\t\t\t}\n\t\t\tclickedInside.value = false\n\t\t}, 200)\n\t}\n\n\t// 选择图片\n\tasync function selectImage() {\n\t\tuni.chooseImage({\n\t\t\tcount: 1,\n\t\t\tsuccess: async (res) => {\n\t\t\t\tconst tempFilePaths = res.tempFilePaths;\n\n\t\t\t\t// 依次上传所有图片（每张图片使用独立的 token）\n\t\t\t\tfor (const filePath of tempFilePaths) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// 为每张图片获取独立的 token\n\t\t\t\t\t\tconst tokenData = await getQiniuToken();\n\t\t\t\t\t\tconst uploadRes = await uploadImageToQiniu(filePath, tokenData.token, tokenData\n\t\t\t\t\t\t\t.path);\n\t\t\t\t\t\tconsole.log(\"res:\", uploadRes)\n\t\t\t\t\t\tif (uploadRes.qiniuRes.statusCode === 200) {\n\t\t\t\t\t\t\tconst imageUrl = image1Url + tokenData.path;\n\t\t\t\t\t\t\tuploadedImageUrl.value = imageUrl;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.error('上传失败:', filePath);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.error('上传错误:', error);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t}\n\t\t});\n\t}\n\n\tconst handleMaskTap = () => {\n\t\tconsole.log(\"蒙版被点击\")\n\t\tdisplayMask.value = false\n\t\tisFocused.value = false\n\t\tshowActionBar.value = false\n\t\tuni.hideKeyboard()\n\t}\n\n\tconst handleActionBarClick = () => {\n\t\tclickedInside.value = true\n\t}\n\n\tfunction handleSearchSelect(event) {\n\t\tlet edata = {}\n\t\tif (event.type === 'goods') {\n\t\t\tconsole.log('选择了商品:', event.data);\n\t\t\t// 添加：关闭弹窗\n\t\t\tshowPopup.value = false;\n\t\t\tedata.type = 1\n\t\t\tedata.id = event.data.id\n\t\t\tedata.name = event.data.name\n\n\t\t} else if (event.type === 'brand') {\n\t\t\tconsole.log('选择了品牌:', event.data);\n\t\t\t// 添加：关闭弹窗\n\t\t\tshowPopup.value = false;\n\t\t\tedata.type = 2\n\t\t\tedata.id = event.data.id\n\t\t\tedata.name = event.data.name\n\t\t}\n\t\tselectedAssociation.value = edata\n\t}\n\n\tconst openAssociationPopup = () => {\n\t\thandleActionBarClick() // 标记为内部点击\n\t\t// ...其他逻辑\n\t}\n\tconst handleSubmit = () => {\n\t\tif (!commentText.value.trim() && !uploadedImageUrl.value) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '请输入评论内容或上传图片',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\t\n\t\tlet scene = getScene()\n\t\tconsole.log(\"scene\", scene)\n\t\t\n\t\t// 构建提交数据\n\t\tconst submitData = {\n\t\t\tcontent: commentText.value,\n\t\t\ttarget_id: props.targetId,\n\t\t\ttype: 4,\n\t\t\treplyInfo: props.replyInfo,\n\t\t\torigin: scene,\n\t\t\t// 添加图片和关联信息\n\t\t\timage_url: uploadedImageUrl.value || \"\",\n\t\t\tassociation_id: selectedAssociation.value ? selectedAssociation.value.id : 0,\n\t\t\tassociation_type: selectedAssociation.value ? selectedAssociation.value.type : 0,\n\t\t\tis_anonymous: isAnonymous.value ? 1 : 0  // 1表示匿名，0表示正常\n\t\t}\n\t\t\n\t\temit('submit', submitData)\n\n\t\t// 重置表单\n\t\tcommentText.value = ''\n\t\tuploadedImageUrl.value = ''\n\t\tselectedAssociation.value = null\n\t\tisAnonymous.value = false \n\t\temit('update:replyInfo', {})\n\t\t\n\t\t// 关闭蒙版和键盘\n\t\thandleMaskTap()\n\t}\n\n\n\t// 暴露聚焦方法\n\tconst focusInput = () => {\n\t\tisFocused.value = true\n\t}\n\n\tdefineExpose({\n\t\tfocusInput\n\t})\n\n\tonMounted(() => {\n\t\tif (process.env.VUE_APP_PLATFORM == \"h5\") {\n\t\t\tconsole.log(\"不注册键盘弹出事件\")\n\t\t\t//h5不会弹出软键盘\n\t\t\treturn\n\t\t}\n\t\tconsole.log(\"注册键盘弹出事件\")\n\t\tuni.onKeyboardHeightChange(keyboardHeightChangeHandler)\n\t})\n</script>\n\n<style lang=\"less\" scoped>\n\t/* 保持原样式不变 */\n\t.mask {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground: #fff;\n\t\topacity: 0;\n\t\tz-index: 99;\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t}\n\n\t// 底部tab\n\t.bottom_tab {\n\n\t\talign-items: center;\n\t\t/* 垂直居中 */\n\t\tgap: 8px;\n\t\t/* 元素间距 */\n\t\tpadding: 10px;\n\t\tbox-sizing: border-box;\n\t\tleft: 0px;\n\t\tposition: fixed;\n\t\tbottom: 0px;\n\t\tz-index: 1001;\n\t\twidth: 100vw;\n\t\tbackground: #fff;\n\n\n\t\t.bottom_input {\n\t\t\tdisplay: flex;\n\t\t\t/* 添加顶部对齐，防止按钮被拉伸 */\n\t\t\talign-items: flex-start;\n\t\t}\n\n\t\t.replyInfo {\n\t\t\tflex-shrink: 0;\n\t\t\t/* 禁止缩小 */\n\t\t\tmax-width: 50px;\n\t\t\t/* 最大宽度限制 */\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\twhite-space: nowrap;\n\t\t\tflex-shrink: 0;\n\t\t\tmax-width: 50px;\n\t\t\tmargin-right: 8px;\n\t\t}\n\n\t\t.comment_input {\n\t\t\tflex: 1;\n\t\t\t/* 占据剩余空间 */\n\t\t\tmin-width: 0;\n\t\t\t/* 允许缩小 */\n\t\t\t// flex: 1;\n\t\t\tmargin-right: 15rpx;\n\t\t\t// min-height: 56rpx;\n\t\t\tbackground: #f2f2f2;\n\t\t\tborder-radius: 10rpx;\n\t\t\tpadding: 15rpx;\n\t\t\tline-height: normal;\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #373838;\n\t\t\t// 聚焦时高度2倍\n\t\t\theight: 40rpx;\n\t\t\ttransition: height 0.3s ease;\n\t\t\tfont-size: 24rpx;\n\t\t\tbox-sizing: content-box;\n\n\t\t}\n\n\t\t.comment_input.expanded {\n\t\t\theight: 80rpx !important;\n\t\t}\n\n\t\tbutton {\n\t\t\tflex-shrink: 0;\n\t\t\t/* 固定宽度 */\n\t\t\twidth: 90px;\n\t\t\t/* 按钮固定宽度 */\n\t\t\tbackground: rgb(100, 198, 220);\n\t\t\tborder-radius: 10px;\n\t\t\twidth: 90px;\n\t\t\tcolor: rgb(255, 255, 255);\n\t\t\tfont-size: 14px;\n\t\t}\n\t}\n\n\tuni-button:after {\n\t\tborder: none;\n\t}\n\n\t.action-bar {\n\t\tdisplay: flex;\n\t\tgap: 16px;\n\t\tmargin: 30rpx 0 0 0;\n\t\tjustify-content: flex-start;\n\t}\n\n\t/* 关联信息容器 */\n\t.about_info {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 12rpx;\n\t\tmargin-bottom: 10rpx;\n\t\talign-items: center;\n\t\t/* 添加垂直居中 */\n\t}\n\n\t/* 关联项容器 */\n\t.association-container {\n\t\tbackground-color: #3f4449;\n\t\tborder-radius: 12rpx;\n\t\tpadding: 0 10rpx;\n\t\theight: 60rpx;\n\t\t/* 固定高度 */\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t/* 垂直居中 */\n\t}\n\n\t/* 关联项样式 */\n\t.association-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 8rpx 12rpx;\n\t\t/* 移除 transform: translate(0, 20%) */\n\t}\n\n\t/* 关联文本样式 */\n\t.association-text {\n\t\tmargin: 0 12rpx;\n\t\tfont-size: 26rpx;\n\t\tcolor: #fff;\n\t\tmax-width: 400rpx;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\t/* 关闭图标样式 */\n\t.close-icon {\n\t\tpadding: 8rpx;\n\t\tborder-radius: 50%;\n\t}\n\n\t/* 图片容器 */\n\t.image-container {\n\t\tborder-radius: 12rpx;\n\t\tpadding: 5rpx;\n\t\theight: 80rpx;\n\t\t/* 固定高度 */\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t/* 垂直居中 */\n\t}\n\n\t/* 图片项样式 */\n\t.image-item {\n\t\tposition: relative;\n\t\twidth: 90rpx;\n\t\theight: 90rpx;\n\t}\n\n\t/* 上传的图片样式 */\n\t.uploaded-image {\n\t\twidth: 80rpx;\n\t\theight: 80rpx;\n\t\tborder: 2px solid #a5eeff;\n\t\tborder-radius: 10rpx;\n\t}\n\n\t/* 删除图标样式 */\n\t.delete-icon {\n\t\tposition: absolute;\n\t\ttop: -10rpx;\n\t\tright: -10rpx;\n\t\twidth: 36rpx;\n\t\theight: 36rpx;\n\t\tbackground-color: #ff5a5f;\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\t/deep/ .search_results {\n\t\tbox-shadow: none;\n\t\tbackground: #fff;\n\t\twidth: 600rpx;\n\t}\n</style>","import Component from '/Users/sapphirell/Documents/git/dogdogdoll-uniapp/components/comment-input/comment-input.vue'\nwx.createComponent(Component)"],"names":["ref","uni","computed","getQiniuToken","uploadImageToQiniu","image1Url","getScene","onMounted"],"mappings":"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"}