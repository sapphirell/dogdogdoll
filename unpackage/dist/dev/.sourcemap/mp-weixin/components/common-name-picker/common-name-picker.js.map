{"version":3,"file":"common-name-picker.js","sources":["components/common-name-picker/common-name-picker.vue","/Users/sapphirell/Documents/git/dogdogdoll-uniapp/components/common-name-picker/common-name-picker.vue?type=component"],"sourcesContent":["<template>\r\n\t<view class=\"select-container\" ref=\"containerRef\">\r\n\t\t<view class=\"select-input\" @click=\"toggleOpen\">\r\n\t\t\t<text class=\"selected-value\">{{ selectedValue || placeholder }}</text>\r\n\t\t\t<view class=\"arrow-icon\" :class=\"{ 'rotate': isOpen }\">\r\n\t\t\t\t<uni-icons type=\"arrowdown\" size=\"16\" color=\"#666\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- <text>{{ isOpen}}</text> -->\r\n\r\n\t\t<view class=\"popup-container\">\r\n\t\t\t<!-- 遮罩层 -->\r\n\t\t\t<view class=\"mask\" v-if=\"isOpen\" @click=\"toggleOpen()\"></view>\r\n\t\t\t<!-- 选项列表 -->\r\n\t\t\t<!-- <uni-transition mode-class=\"fade\" :show=\"isOpen\"> -->\r\n\t\t\t\t<view class=\"options-wrapper\" v-if=\"isOpen\">\r\n\t\t\t\t\t<scroll-view scroll-y=\"true\" class=\"select-options\">\r\n\t\t\t\t\t\t<view v-for=\"(item, index) in dataList\" :key=\"index\" class=\"option-item\"\r\n\t\t\t\t\t\t\t:class=\"{ 'selected': selectedValue === item }\" @click.stop=\"selectItem(item)\">\r\n\t\t\t\t\t\t\t{{ item }}\r\n\t\t\t\t\t\t\t<uni-icons v-if=\"selectedValue === item\" type=\"checkmarkempty\" size=\"18\" color=\"#007AFF\"\r\n\t\t\t\t\t\t\t\tclass=\"check-icon\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</view>\r\n\t\t\t<!-- </uni-transition> -->\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tonMounted,\r\n\t} from 'vue'\r\n\r\n\tconst props = defineProps({\r\n\t\tdataList: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => []\r\n\t\t},\r\n\t\tplaceholder: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '请选择'\r\n\t\t},\r\n\t\tdefaultValue: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t}\r\n\t})\r\n\r\n\tconst emit = defineEmits(['select'])\r\n\r\n\tconst isOpen = ref(false)\r\n\tconst selectedValue = ref(props.defaultValue)\r\n\r\n\tconst toggleOpen = () => {\r\n\t\tisOpen.value = !isOpen.value\r\n\t}\r\n\r\n\tconst selectItem = (item) => {\r\n\t\tselectedValue.value = item\r\n\t\tisOpen.value = false\r\n\t\temit('select', item)\r\n\t}\r\n\r\n\tonMounted(() => {\r\n\t\tconsole.log(\"初始值\", isOpen.value)\r\n\t\tisOpen.value = false\r\n\t})\r\n</script>\r\n\r\n<style scoped>\r\n\t.select-container {\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\tfont-family: 'PingFang SC', 'Helvetica Neue', Arial, sans-serif;\r\n\t}\r\n\r\n\t.select-input {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 12px 16px;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 8px;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #333;\r\n\t\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n\t}\r\n\r\n\t.selected-value {\r\n\t\tflex: 1;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.arrow-icon {\r\n\t\ttransition: transform 0.3s ease;\r\n\t\tmargin-left: 8px;\r\n\t}\r\n\r\n\t.arrow-icon.rotate {\r\n\t\ttransform: rotate(180deg);\r\n\t}\r\n\r\n\t.mask {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.3);\r\n\t\tz-index: 99;\r\n\t}\r\n\r\n\t.popup-container {\r\n\t\tposition: relative;\r\n\t\tz-index: 100;\r\n\t}\r\n\r\n\t.options-wrapper {\r\n\t\tposition: absolute;\r\n\t\ttop: 8px;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 10000;\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 8px;\r\n\t\tbox-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n\t\tmax-height: 250px;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.select-options {\r\n\t\tmax-height: 250px;\r\n\t\tpadding: 8px 0;\r\n\t}\r\n\r\n\t.option-item {\r\n\t\tposition: relative;\r\n\t\tpadding: 12px 16px;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #333;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\r\n\t}\r\n\r\n\t.option-item:active {\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\r\n\t.option-item.selected {\r\n\t\tcolor: #007AFF;\r\n\t\tfont-weight: 500;\r\n\t\tbackground-color: #f0f7ff;\r\n\t}\r\n\r\n\t.check-icon {\r\n\t\tmargin-left: 8px;\r\n\t}\r\n\r\n\t/* 动画优化 */\r\n\r\n\t.options-wrapper {\r\n\t\tposition: absolute;\r\n\t\tz-index: 10000;\r\n\t}\r\n</style>","import Component from '/Users/sapphirell/Documents/git/dogdogdoll-uniapp/components/common-name-picker/common-name-picker.vue'\nwx.createComponent(Component)"],"names":["ref","onMounted","uni"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCC,UAAM,QAAQ;AAed,UAAM,OAAO;AAEb,UAAM,SAASA,cAAG,IAAC,KAAK;AACxB,UAAM,gBAAgBA,cAAAA,IAAI,MAAM,YAAY;AAE5C,UAAM,aAAa,MAAM;AACxB,aAAO,QAAQ,CAAC,OAAO;AAAA,IACvB;AAED,UAAM,aAAa,CAAC,SAAS;AAC5B,oBAAc,QAAQ;AACtB,aAAO,QAAQ;AACf,WAAK,UAAU,IAAI;AAAA,IACnB;AAEDC,kBAAAA,UAAU,MAAM;AACfC,qGAAY,OAAO,OAAO,KAAK;AAC/B,aAAO,QAAQ;AAAA,IACjB,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrEF,GAAG,gBAAgB,SAAS;"}