{"version":3,"file":"common-modal.js","sources":["components/common-modal/common-modal.vue","/Users/sapphirell/Documents/git/dogdogdoll-uniapp/components/common-modal/common-modal.vue?type=component"],"sourcesContent":["<!-- components/common-modal.vue -->\r\n<template>\r\n\t<view class=\"modal-mask\" v-if=\"visible\" @tap.stop=\"closeModal\" @touchmove.stop.prevent=\"moveHandle\">\r\n\t\t<uni-transition :mode-class=\"modeClass\" :show=\"visible\">\r\n\t\t\t<view class=\"modal-container\" :style=\"containerStyle\" @tap.stop>\r\n\t\t\t\t<view class=\"modal-content\">\r\n\t\t\t\t\t<slot></slot>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-transition>\r\n\t</view>\r\n\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tdefineProps,\r\n\t\tdefineEmits,\r\n\t\tcomputed,\r\n\t\tref,\r\n\t} from 'vue'\r\n\tconst props = defineProps({\r\n\t\tvisible: Boolean,\r\n\t\t// 新增参数\r\n\t\ttop: {\r\n\t\t\ttype: [String, Number],\r\n\t\t\tdefault: '30%'\r\n\t\t},\r\n\t\twidth: {\r\n\t\t\ttype: [String, Number],\r\n\t\t\tdefault: '80%'\r\n\t\t},\r\n\t\theight: {\r\n\t\t\ttype: [String, Number],\r\n\t\t\tdefault: 'auto'\r\n\t\t},\r\n\t\tcloseable: {\r\n\t\t\t// 点击遮罩层是否可以关闭\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t})\r\n\tlet modeClass = ref(['fade', 'zoom-in'])\r\n\r\n\tconst emit = defineEmits(['update:visible'])\r\n\r\n\t// 样式计算\r\n\tconst containerStyle = computed(() => ({\r\n\t\ttop: formatValue(props.top),\r\n\t\t// width: formatValue(props.width),\r\n\t\theight: formatValue(props.height)\r\n\t}))\r\n\tconst moveHandle = () => {\r\n\t\treturn false;\r\n\t};\r\n\r\n\r\n\t// 值格式化方法\r\n\tconst formatValue = (val) => {\r\n\t\tif (typeof val === 'number') {\r\n\t\t\treturn `${val}px`\r\n\t\t}\r\n\t\tif (/\\d$/.test(val)) { // 纯数字默认加px\r\n\t\t\treturn `${val}px`\r\n\t\t}\r\n\t\treturn val\r\n\t}\r\n\r\n\tconst closeModal = () => {\r\n\t\tif (props.closeable) {\r\n\t\t\temit('update:visible', false)\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.modal-mask {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tz-index: 1001;\r\n\t}\r\n\r\n\t.modal-container {\r\n\t\tposition: absolute;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 8px;\r\n\t\tpadding: 20px;\r\n\t\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.33);\r\n\t\tmin-width: 200px;\r\n\t\tmin-height: 100px;\r\n\t\tmax-width: 100vw;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t}\r\n\r\n\t.modal-content {\r\n\t\t/* position: relative; */\r\n\t}\r\n</style>","import Component from '/Users/sapphirell/Documents/git/dogdogdoll-uniapp/components/common-modal/common-modal.vue'\nwx.createComponent(Component)"],"names":["ref","computed"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqBC,UAAM,QAAQ;AAqBd,QAAI,YAAYA,cAAG,IAAC,CAAC,QAAQ,SAAS,CAAC;AAEvC,UAAM,OAAO;AAGb,UAAM,iBAAiBC,cAAAA,SAAS,OAAO;AAAA,MACtC,KAAK,YAAY,MAAM,GAAG;AAAA;AAAA,MAE1B,QAAQ,YAAY,MAAM,MAAM;AAAA,IAClC,EAAG;AACF,UAAM,aAAa,MAAM;AACxB,aAAO;AAAA,IACT;AAIC,UAAM,cAAc,CAAC,QAAQ;AAC5B,UAAI,OAAO,QAAQ,UAAU;AAC5B,eAAO,GAAG,GAAG;AAAA,MACb;AACD,UAAI,MAAM,KAAK,GAAG,GAAG;AACpB,eAAO,GAAG,GAAG;AAAA,MACb;AACD,aAAO;AAAA,IACP;AAED,UAAM,aAAa,MAAM;AACxB,UAAI,MAAM,WAAW;AACpB,aAAK,kBAAkB,KAAK;AAAA,MAC5B;AAAA,IACD;;;;;;;;;;;;;;;;;;;ACvEF,GAAG,gBAAgB,SAAS;"}