{"version":3,"file":"collocation.js","sources":["pages/collocation/collocation.vue","pages/collocation/collocation.vue?type=page"],"sourcesContent":["<template>\r\n\t<common-page>\r\n\t\t<!-- 上传图片列表 -->\r\n\t\t<scroll-view scroll-x=\"true\" class=\"upload_box\" ll-with-animation=\"true\" :show-scrollbar=\"false\">\r\n\t\t\t<view class=\"upload_item\" v-for=\"(item, index) in uploadList\" :key=\"index\">\r\n\t\t\t\t<image :src=\"item\" class=\"uploaded_image\" @tap=\"viewFullImage\" mode=\"aspectFill\" />\r\n\t\t\t\t<image src=\"../../static/cancel.png\" class=\"close_icon\" @tap=\"deleteImage(index)\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"uploadImageBox\" style=\"background: #f8f8f8;\">\r\n\t\t\t\t<image src=\"../../static/add2.png\" class=\"upload_img\" @tap=\"selectImage(index)\"\r\n\t\t\t\t\tstyle=\"width: 50px;height: 50px;margin: 25px;\" />\r\n\t\t\t</view>\r\n\r\n\t\t</scroll-view>\r\n\t\t<!-- 标题 -->\r\n\t\t<input v-model=\"title\" type=\"text\" placeholder=\"请输入标题\" style=\"padding: 10px;margin: 20px 15px 5px 15px;display: block;\">\n\t\t<view class=\"oneLine\"></view>\r\n\t\t<textarea v-model=\"content\" placeholder=\"请输入正文\" style=\"padding: 10px;margin:10px 15px 5px 15px;display: block;line-height: 28px;width: calc(100% - 50px);\"></textarea>\n\t\t<view class=\"oneLine\"></view>\n\t\t<view class=\"\">\n\t\t\t<view class=\"relation-trigger\"  @tap=\"showRelationPicker\">\n\t\t\t  <text class=\"placeholder\">点击关联娃物</text>\n\t\t\t  <image src=\"/static/right2.png\" class=\"arrow-icon\" />\n\t\t\t</view>\n\t\t</view>\n\t\t\r\n\t\t<!-- 相关 -->\r\n\t\t<view class=\"saveCollocationDataList\">\r\n\t\t\t<view v-for=\"(item, index) in saveCollocationDataList\" :key=\"index\">\r\n\t\t\t\t<view class=\"saveCollocationDataItem\">\n\t\t\t\t\t<image v-if=\"item.goods_image\" :src=\"item.goods_image\" mode=\"aspectFill\" style=\"width: 70px;height: 70px;\"></image>\n\t\t\t\t\t<text v-else class=\"no-image\">?</text>\n\t\t\t\t\t<text class=\"info-tap\" style=\"width: calc(100% - 120px);display: inline-block;\">{{item.type}} {{item.brand_name}} -\n\t\t\t\t\t\t{{item.goods_name}} </text>\n\t\t\t\t\t<image src=\"../../static/cancel.png\" class=\"close_icon\" @tap=\"deleteCollcation(index)\" />\n\t\t\t\t</view>\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t <relation-picker\n\t\t   v-model:visible=\"showSelectTab\"\n\t\t    :typeList=\"typeList\"\n\t\t    :goodsList=\"goodsList\"\n\t\t    @confirm=\"handleRelationConfirm\"\n\t\t    @cancel=\"handleRelationCancel\"\n\t\t  />\r\n\r\n\r\n\t\t<view class=\"footer\">\r\n\t\t\t<button @click=\"submitForm\">提交</button>\r\n\t\t</view>\r\n\r\n\t</common-page>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref\r\n\t} from 'vue';\r\n\timport {\r\n\t\twebsiteUrl,\r\n\t\timage1Url,\r\n\t\twechatSignLogin,\r\n\t\tgetUserInfo,\r\n\t\tglobal,\r\n\t\tasyncGetUserInfo,\n\t\tgetScene,\r\n\t} from \"../../common/config.js\";\r\n\r\n\timport {\r\n\t\tchooseImage,\r\n\t\tjumpToCroper,\r\n\t\tgetQiniuToken,\r\n\t\tuploadImageToQiniu,\n\t\tchooseImageList,\r\n\t} from \"../../common/image.js\";\n\t\n\t//接受参数 propsGoodsId propsGoodsName propsBrandId propsBrandName如果是非空或非0，添加一条\n\tconst props = defineProps([\"goods_id\", \"goods_name\", \"brand_id\", \"brand_name\", \"type\"])\n\r\n\tconst uploadList = ref([]);\r\n\tconst goodsList = ref([\r\n\t\t// {\"name\":\"aa\", \"id\":1}\r\n\t]);\r\n\tconst typeList = ref([]);\r\n\tconst showSelectTab = ref(false);\r\n\t// 信息输入框临时信息\r\n\tconst chooseBrandName = ref(\"\")\r\n\tconst chooseBrandId = ref(0)\r\n\tconst chooseGoodsName = ref(\"\")\r\n\tconst chooseGoodsId = ref(0)\r\n\tconst chooseType = ref(\"\")\n\t\n\t// 处理确认事件\n\tconst handleRelationConfirm = (data) => {\n\t  try {\n\t    const relationData = {\n\t      goods_id: data.goods.id || 0,\n\t      goods_name: data.goods.name,\n\t      goods_image: data.goods.image || '',\n\t      brand_id: data.brand.id || 0,\n\t      brand_name: data.brand.name || (data.isFuzzy ? '' : '未知品牌'),\n\t      type: data.type || (data.isFuzzy ? '未知类型' : '')\n\t    }\n\t\n\t    // 去重检查（同时匹配ID和名称）\n\t    const isExist = saveCollocationDataList.value.some(item => \n\t      (item.goods_id !== 0 && item.goods_id === relationData.goods_id) ||\n\t      item.goods_name === relationData.goods_name\n\t    )\n\t\n\t    if (!isExist) {\n\t      saveCollocationDataList.value.push(relationData)\n\t    } else {\n\t      uni.showToast({\n\t        title: '已存在相同关联项',\n\t        icon: 'none'\n\t      })\n\t    }\n\t  } catch (error) {\n\t    console.error('保存关联数据失败:', error)\n\t    uni.showToast({\n\t      title: '保存关联信息失败',\n\t      icon: 'none'\n\t    })\n\t  }\n\t}\n\t// 处理取消事件\n\tconst handleRelationCancel = () => {\n\t  console.log('用户取消选择')\n\t}\n\t\n\tconst showRelationPicker = () => {\n\t  showSelectTab.value = true;\n\t}\n\t\n\t//获取商品详情\n\tfunction getGoodsInfo(id) {\n\t  return new Promise((resolve, reject) => {\n\t\tuni.request({\n\t\t  url: websiteUrl + '/goods?id=' + id,\n\t\t  method: 'GET',\n\t\t  timeout: 5000,\n\t\t  success: (res) => {\n\t\t\tconsole.log(res.data.data);\n\t\t\tresolve(res.data);  // 请求成功，返回数据\n\t\t  },\n\t\t  fail: (err) => {\n\t\t\tconsole.log(err);\n\t\t\tuni.showToast({\n\t\t\t  title: '网络请求失败',\n\t\t\t  icon: 'none'\n\t\t\t})\n\t\t\treject(err);  // 请求失败，抛出错误\n\t\t  },\n\t\t  complete: () => {\n\t\t\tuni.hideLoading()\n\t\t  }\n\t\t})\n\t  });\n\t}\n\r\n\t//存储的信息框内容列表\r\n\tconst saveCollocationDataList = ref([])\n\tif (props.goods_id && props.goods_name && props.brand_id && props.brand_name && props.type) {\n\t\tgetGoodsInfo(props.goods_id).then((res) => {\n\t\t\t// console.log(res.data)\n\t\t\tlet data = {\n\t\t\t\t\"brand_id\": parseInt(props.brand_id, 10),\n\t\t\t\t\"goods_id\": parseInt(props.goods_id, 10) ,\n\t\t\t\t\"brand_name\": props.brand_name,\n\t\t\t\t\"goods_name\": props.goods_name,\n\t\t\t\t\"goods_image\": res.data.goods_images[0],\n\t\t\t\t\"type\": props.type\n\t\t\t}\n\t\t\tconsole.log(data)\n\t\t\tsaveCollocationDataList.value.push(data)\n\t\t})\n\n\t}\n\t\r\n\t//表单信息\r\n\tconst title = ref(\"\")\r\n\tconst content = ref(\"\")\r\n\r\n\tfunction viewFullImage(index) {\r\n\t\tuni.previewImage({\r\n\t\t\tcurrent: uploadList.value[index],\r\n\t\t\turls: uploadList.value\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t//选择图片\r\n\tasync function selectImage() {\n\t  try {\n\t    // 选择多张图片\n\t    const imagePaths = await chooseImageList(9);\n\t    \n\t    // 逐个上传\n\t    for (const path of imagePaths) {\n\t      // 为每个图片获取独立token\n\t      const tokenData = await getQiniuToken();\n\t      \n\t      // 上传到七牛云\n\t      await uploadImageToQiniu(path, tokenData.token, tokenData.path);\n\t      \n\t      // 添加到展示列表\n\t      uploadList.value.push(image1Url + tokenData.path);\n\t    }\n\t    \n\t    uni.showToast({ title: `成功上传${imagePaths.length}张图片`, icon: 'success' });\n\t  } catch (error) {\n\t    console.error('上传出错:', error);\n\t    uni.showToast({ title: '部分图片上传失败', icon: 'none' });\n\t  }\n\t}\n\t\n\tfunction addRelated() {}\n\t\n\t\r\n\r\n\t// 实现提交方法\r\n\tfunction submitForm() {\n\t\tconst token = uni.getStorageSync('token');\n\t\tif (!token) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '请先登录',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t\treturn;\n\t\t}\r\n\t\t// 基本验证\r\n\t\tif (!title.value.trim()) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '标题不能为空',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (uploadList.value.length === 0) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '请至少上传一张图片',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\n\t\tlet scene = getScene()\t\t\r\n\r\n\t\t// 构造请求数据\r\n\t\t  const postData = {\n\t\t    title: title.value,\n\t\t    content: content.value,\n\t\t    image_url_list: uploadList.value,\n\t\t    scene: scene,\n\t\t    relations: saveCollocationDataList.value.map(item => ({\n\t\t      relation_goods_id: item.goods_id,\n\t\t      relation_goods_name: item.goods_name,\n\t\t      relation_brand_id: item.brand_id,\n\t\t      relation_brand_name: item.brand_name,\n\t\t      type: item.type,\n\t\t      relation_origin: 1 // 标识关联的是collocation\n\t\t    }))\n\t\t  };\r\n\t\tconsole.log(postData)\r\n\r\n\t\tuni.request({\r\n\t\t\turl: websiteUrl + '/with-state/add-collocation',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tdata: postData,\r\n\t\t\theader: {\r\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t'Authorization': token,\r\n\t\t\t},\r\n\t\t\ttimeout: 5000,\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tif (res.data.status === \"success\") {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '提交成功'\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// 清空表单\r\n\t\t\t\t\ttitle.value = '';\r\n\t\t\t\t\tcontent.value = '';\r\n\t\t\t\t\tuploadList.value = [];\r\n\t\t\t\t\tsaveCollocationDataList.value = [];\n\t\t\t\t\t// 返回上一页\n\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: res.data.msg || '提交失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfail: (err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '网络请求失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t});\r\n\r\n\r\n\r\n\t}\r\n\r\n\r\n\t// 获取goods列表\r\n\tfunction getGoods(id) {\r\n\t\t// 请求 /goods-name-list 并赋值goodsList\r\n\t\tuni.request({\r\n\t\t\turl: websiteUrl + '/goods-name-list?id=' + id,\r\n\t\t\tmethod: 'GET',\r\n\t\t\ttimeout: 5000,\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tconsole.log(res.data.data);\r\n\t\t\t\tgoodsList.value = res.data.data\r\n\t\t\t\tconsole.log(goodsList.value)\r\n\t\t\t},\n\t\t\r\n\t\t\tfail: (err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '网络请求失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n\r\n\r\n\t// 获取types列表\r\n\tfunction getTypes() {\r\n\t\t///goods-types\r\n\t\tuni.request({\r\n\t\t\turl: websiteUrl + '/goods-types',\r\n\t\t\tmethod: 'GET',\r\n\t\t\ttimeout: 5000,\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tconsole.log(res.data.data);\r\n\t\t\t\ttypeList.value = res.data.data\r\n\t\t\t},\r\n\t\t\tfail: (err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '网络请求失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// 存储一条搭配信息\r\n\tfunction saveCollocation() {\n\t\tif (chooseBrandName.value == \"\" ) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '请选择或填写品牌名称',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\tif (chooseGoodsName.value == \"\") {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '请选择或填写商品名称',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\t\n\t\t//如果没有goods_id，存储goods_name进去即可\n\t\tif (chooseGoodsId.value == 0) {\n\t\t\tlet data  = {\n\t\t\t\t\"brand_id\": chooseBrandId.value,\n\t\t\t\t\"goods_id\": 0,\n\t\t\t\t\"brand_name\": chooseBrandName.value,\n\t\t\t\t\"goods_name\": chooseGoodsName.value,\n\t\t\t\t\"goods_image\": \"\",\n\t\t\t\t\"type\": chooseType.value,\n\t\t\t}\n\t\t\tsaveCollocationDataList.value.push(data)\n\t\t\tshowSelectTab.value = false\n\t\t\tchooseBrandId.value = 0\n\t\t\tchooseBrandName.value = \"\"\n\t\t\tchooseGoodsId.value = 0\n\t\t\tchooseGoodsName.value = \"\"\n\t\t\tchooseType.value = \"\"\n\t\t\treturn\n\t\t}\n\t\t\n\t\t\n\t\tgetGoodsInfo(chooseGoodsId.value).then((res) => {\n\t\t\tlet data = {\n\t\t\t\t\"brand_id\": chooseBrandId.value,\n\t\t\t\t\"goods_id\": chooseGoodsId.value,\n\t\t\t\t\"brand_name\": chooseBrandName.value,\n\t\t\t\t\"goods_name\": chooseGoodsName.value,\n\t\t\t\t\"goods_image\": res.data.goods_images[0],\n\t\t\t\t\"type\": chooseType.value,\n\t\t\t}\n\t\t\tsaveCollocationDataList.value.push(data)\n\t\t\tshowSelectTab.value = false\n\t\t\tchooseBrandId.value = 0\n\t\t\tchooseBrandName.value = \"\"\n\t\t\tchooseGoodsId.value = 0\n\t\t\tchooseGoodsName.value = \"\"\n\t\t\tchooseType.value = \"\"\n\t\t})\n\t}\r\n\r\n\tfunction deleteImage(index) {\n\t\tuploadList.value.splice(index, 1)\n\t}\r\n\t\n\tfunction deleteCollcation(index) {\n\t\tsaveCollocationDataList.value.splice(index, 1)\n\t}\r\n\tgetTypes()\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t.uploaded_image {\r\n\t\twidth: 100px;\r\n\t\theight: 100px;\r\n\t\tmargin-right: 10px;\r\n\r\n\t}\r\n\r\n\t.upload_box {\r\n\t\t// 核心修改点：\r\n\t\twidth: 100%; // 避免使用 100vw（可能因滚动条导致宽度溢出）\r\n\t\twhite-space: nowrap; // 强制子元素不换行\r\n\t\toverflow-x: auto; // 确保横向滚动生效（UniApp的scroll-view组件已封装滚动逻辑，此处为保险可保留）\r\n\t\tdisplay: block; // 明确容器为块级元素\n\t\tmargin-top: 15px;\n\t\tpadding: 10px;\r\n\t\tmargin-left: 10px;\r\n\t\tview {\r\n\t\t\tdisplay: inline-block; // 关键！强制子元素横向排列（替代 float）\r\n\t\t\tvertical-align: top; // 对齐方式（避免图片底部留白）\r\n\t\t}\r\n\r\n\t\t.upload_item {\r\n\t\t\tposition: relative;\r\n\t\t\twidth: 100px;\r\n\t\t\tmargin-right: 10px;\n\t\t\r\n\t\t\tborder-radius: 5px;\r\n\t\t\toverflow: hidden;\r\n\r\n\t\t\t.uploaded_image {\r\n\t\t\t\twidth: 100px;\r\n\t\t\t\theight: 100px;\r\n\t\t\t}\r\n\r\n\t\t\t.close_icon {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: 0;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\twidth: 20px;\r\n\t\t\t\theight: 20px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\n\t.saveCollocationDataList{\n\t\tpadding-bottom: 80px;\n\t\tmin-height: 300rpx;\n\t\t.saveCollocationDataItem {\n\t\t\tposition: relative;\n\t\t\tbackground: #fafafa;\n\t\t\twidth: 90vw;\n\t\t\tmargin: 10px auto;\n\r\n\t\t\t.info-tap {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: 30px;\r\n\t\t\t\tmargin-left: 10px;\r\n\t\t\t}\n\t\t\t\n\t\t\t.no-image {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\twidth: 70px;\n\t\t\t\theight: 70px;\n\t\t\t\tbottom: 0px;\n\t\t\t\tmargin-left: 0px;\n\t\t\t\tcolor: #fda7a7;\n\t\t\t\tfont-size: 30px;\n\t\t\t\ttext-align: center;\n\t\t\t\tline-height: 70px;\n\t\t\t\tfont-weight: 1000;\n\t\t\t}\n\t\t\t\n\t\t\t.close_icon {\n\t\t\t\twidth: 20px;\n\t\t\t\theight: 20px;\n\t\t\t\tposition: absolute;\n\t\t\t\tbottom: 30px;\n\t\t\t\tright: 10px;\n\t\t\t\tmargin-left: 10px;\n\t\t\t\tbackground: #f2f2f2;\n\t\t\t\tborder-radius: 100%;\n\t\t\t}\n\t\t}\n\t\t\n\t\n\t}\r\n\r\n\t.footer {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0px;\r\n\t\twidth: 100%;\r\n\t\tbox-shadow: 0 0 5px rbga(0, 0, 0, 0.2);\r\n\t\talign-items: center;\r\n\r\n\t\tbutton {\r\n\t\t\twidth: 80%;\r\n\t\t\tbackground-color: #78d0dd;\r\n\t\t\tcolor: #fff;\r\n\t\t\tfont-size: 16px;\r\n\t\t\ttext-align: center;\r\n\t\t\tpadding: 10px;\r\n\t\t\tborder-radius: 30px;\r\n\t\t\tmargin-bottom: 10px;\r\n\t\t}\r\n\t}\n\t\n\t.oneLine {\n\t\tborder-bottom: 1px solid #dadada;\n\t\twidth: calc(100vw - 50px);\n\t\tmargin: 0px 25px;\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t// 关联娃物\n\t.relation-trigger {\n\t  display: flex;\n\t  align-items: center;\n\t  padding: 20rpx 30rpx;\n\t  background: #f8f8f8;\n\t  border-radius: 12rpx;\n\t  margin: 20rpx;\n\t  \n\t  .placeholder {\n\t    flex: 1;\n\t    color: #999;\n\t    font-size: 28rpx;\n\t  }\n\t  \n\t  .arrow-icon {\n\t    width: 30rpx;\n\t    height: 30rpx;\n\t  }\n\t}\r\n</style>","import MiniProgramPage from '/Users/sapphirell/Documents/git/dogdogdoll-uniapp/pages/collocation/collocation.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","websiteUrl","chooseImageList","getQiniuToken","uploadImageToQiniu","image1Url","getScene","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;;;;;;AA8EC,UAAM,QAAQ;AAEd,UAAM,aAAaA,kBAAI,CAAA,CAAE;AACzB,UAAM,YAAYA,cAAAA,IAAI;AAAA;AAAA,IAEvB,CAAE;AACD,UAAM,WAAWA,kBAAI,CAAA,CAAE;AACvB,UAAM,gBAAgBA,kBAAI,KAAK;AAEPA,kBAAAA,IAAI,EAAE;AACRA,kBAAAA,IAAI,CAAC;AACHA,kBAAAA,IAAI,EAAE;AACRA,kBAAAA,IAAI,CAAC;AACRA,kBAAAA,IAAI,EAAE;AAGzB,UAAM,wBAAwB,CAAC,SAAS;AACtC,UAAI;AACF,cAAM,eAAe;AAAA,UACnB,UAAU,KAAK,MAAM,MAAM;AAAA,UAC3B,YAAY,KAAK,MAAM;AAAA,UACvB,aAAa,KAAK,MAAM,SAAS;AAAA,UACjC,UAAU,KAAK,MAAM,MAAM;AAAA,UAC3B,YAAY,KAAK,MAAM,SAAS,KAAK,UAAU,KAAK;AAAA,UACpD,MAAM,KAAK,SAAS,KAAK,UAAU,SAAS;AAAA,QAC7C;AAGD,cAAM,UAAU,wBAAwB,MAAM;AAAA,UAAK,UAChD,KAAK,aAAa,KAAK,KAAK,aAAa,aAAa,YACvD,KAAK,eAAe,aAAa;AAAA,QAClC;AAED,YAAI,CAAC,SAAS;AACZ,kCAAwB,MAAM,KAAK,YAAY;AAAA,QACtD,OAAY;AACLC,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,UACf,CAAQ;AAAA,QACF;AAAA,MACF,SAAQ,OAAO;AACdA,sBAAAA,iEAAc,aAAa,KAAK;AAChCA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACb,CAAM;AAAA,MACF;AAAA,IACF;AAED,UAAM,uBAAuB,MAAM;AACjCA,oBAAAA,MAAA,MAAA,OAAA,4CAAY,QAAQ;AAAA,IACrB;AAED,UAAM,qBAAqB,MAAM;AAC/B,oBAAc,QAAQ;AAAA,IACvB;AAGD,aAAS,aAAa,IAAI;AACxB,aAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACzCA,sBAAAA,MAAI,QAAQ;AAAA,UACV,KAAKC,cAAAA,aAAa,eAAe;AAAA,UACjC,QAAQ;AAAA,UACR,SAAS;AAAA,UACT,SAAS,CAAC,QAAQ;AACnBD,0BAAA,MAAA,MAAA,OAAA,4CAAY,IAAI,KAAK,IAAI;AACzB,oBAAQ,IAAI,IAAI;AAAA,UACd;AAAA,UACD,MAAM,CAAC,QAAQ;AAChBA,0BAAAA,MAAA,MAAA,OAAA,4CAAY,GAAG;AACfA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,YACX,CAAI;AACD,mBAAO,GAAG;AAAA,UACR;AAAA,UACD,UAAU,MAAM;AACjBA,0BAAAA,MAAI,YAAa;AAAA,UACf;AAAA,QACL,CAAG;AAAA,MACH,CAAI;AAAA,IACF;AAGD,UAAM,0BAA0BD,cAAG,IAAC,EAAE;AACtC,QAAI,MAAM,YAAY,MAAM,cAAc,MAAM,YAAY,MAAM,cAAc,MAAM,MAAM;AAC3F,mBAAa,MAAM,QAAQ,EAAE,KAAK,CAAC,QAAQ;AAE1C,YAAI,OAAO;AAAA,UACV,YAAY,SAAS,MAAM,UAAU,EAAE;AAAA,UACvC,YAAY,SAAS,MAAM,UAAU,EAAE;AAAA,UACvC,cAAc,MAAM;AAAA,UACpB,cAAc,MAAM;AAAA,UACpB,eAAe,IAAI,KAAK,aAAa,CAAC;AAAA,UACtC,QAAQ,MAAM;AAAA,QACd;AACDC,sBAAAA,MAAA,MAAA,OAAA,4CAAY,IAAI;AAChB,gCAAwB,MAAM,KAAK,IAAI;AAAA,MAC1C,CAAG;AAAA,IAED;AAGD,UAAM,QAAQD,cAAG,IAAC,EAAE;AACpB,UAAM,UAAUA,cAAG,IAAC,EAAE;AAEtB,aAAS,cAAc,OAAO;AAC7BC,oBAAAA,MAAI,aAAa;AAAA,QAChB,SAAS,WAAW,MAAM,KAAK;AAAA,QAC/B,MAAM,WAAW;AAAA,MACpB,CAAG;AAAA,IACD;AAID,mBAAe,cAAc;AAC3B,UAAI;AAEF,cAAM,aAAa,MAAME,6BAAgB,CAAC;AAG1C,mBAAW,QAAQ,YAAY;AAE7B,gBAAM,YAAY,MAAMC,aAAAA;AAGxB,gBAAMC,aAAAA,mBAAmB,MAAM,UAAU,OAAO,UAAU,IAAI;AAG9D,qBAAW,MAAM,KAAKC,cAAS,YAAG,UAAU,IAAI;AAAA,QACjD;AAEDL,sBAAAA,MAAI,UAAU,EAAE,OAAO,OAAO,WAAW,MAAM,OAAO,MAAM,UAAW,CAAA;AAAA,MACxE,SAAQ,OAAO;AACdA,uFAAc,SAAS,KAAK;AAC5BA,sBAAG,MAAC,UAAU,EAAE,OAAO,YAAY,MAAM,OAAM,CAAE;AAAA,MAClD;AAAA,IACF;AAOD,aAAS,aAAa;AACrB,YAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AACxC,UAAI,CAAC,OAAO;AACXA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAI;AACD;AAAA,MACA;AAED,UAAI,CAAC,MAAM,MAAM,QAAQ;AACxBA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAI;AACD;AAAA,MACA;AACD,UAAI,WAAW,MAAM,WAAW,GAAG;AAClCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACV,CAAI;AACD;AAAA,MACA;AAED,UAAI,QAAQM,cAAAA,SAAU;AAGpB,YAAM,WAAW;AAAA,QACf,OAAO,MAAM;AAAA,QACb,SAAS,QAAQ;AAAA,QACjB,gBAAgB,WAAW;AAAA,QAC3B;AAAA,QACA,WAAW,wBAAwB,MAAM,IAAI,WAAS;AAAA,UACpD,mBAAmB,KAAK;AAAA,UACxB,qBAAqB,KAAK;AAAA,UAC1B,mBAAmB,KAAK;AAAA,UACxB,qBAAqB,KAAK;AAAA,UAC1B,MAAM,KAAK;AAAA,UACX,iBAAiB;AAAA;AAAA,QACzB,EAAQ;AAAA,MACR;AACEN,oBAAAA,MAAY,MAAA,OAAA,4CAAA,QAAQ;AAEpBA,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAKC,cAAU,aAAG;AAAA,QAClB,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,QAAQ;AAAA,UACP,gBAAgB;AAAA,UAChB,iBAAiB;AAAA,QACjB;AAAA,QACD,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AACjB,cAAI,IAAI,KAAK,WAAW,WAAW;AAClCD,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAO;AAAA,YACb,CAAM;AAED,kBAAM,QAAQ;AACd,oBAAQ,QAAQ;AAChB,uBAAW,QAAQ;AACnB,oCAAwB,QAAQ;AAEhCA,0BAAG,MAAC,aAAY;AAAA,UACrB,OAAW;AACNA,0BAAAA,MAAI,UAAU;AAAA,cACb,OAAO,IAAI,KAAK,OAAO;AAAA,cACvB,MAAM;AAAA,YACZ,CAAM;AAAA,UACD;AAAA,QACD;AAAA,QACD,MAAM,CAAC,QAAQ;AACdA,wBAAAA,MAAA,MAAA,OAAA,4CAAY,GAAG;AACfA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,UACX,CAAK;AAAA,QACD;AAAA,MACJ,CAAG;AAAA,IAID;AA6BD,aAAS,WAAW;AAEnBA,oBAAAA,MAAI,QAAQ;AAAA,QACX,KAAKC,cAAU,aAAG;AAAA,QAClB,QAAQ;AAAA,QACR,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AACjBD,uFAAY,IAAI,KAAK,IAAI;AACzB,mBAAS,QAAQ,IAAI,KAAK;AAAA,QAC1B;AAAA,QACD,MAAM,CAAC,QAAQ;AACdA,wBAAAA,MAAA,MAAA,OAAA,4CAAY,GAAG;AACfA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,UACX,CAAK;AAAA,QACD;AAAA,MACJ,CAAG;AAAA,IACD;AA2DD,aAAS,YAAY,OAAO;AAC3B,iBAAW,MAAM,OAAO,OAAO,CAAC;AAAA,IAChC;AAED,aAAS,iBAAiB,OAAO;AAChC,8BAAwB,MAAM,OAAO,OAAO,CAAC;AAAA,IAC7C;AACD,aAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClaX,GAAG,WAAWO,SAAe;"}