{"version":3,"file":"order_plane.js","sources":["pages/creator_base/order_plane/order_plane.vue","pages/creator_base/order_plane/order_plane.vue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"order-plan-page\">\r\n\t\t\r\n\r\n\t\t<!-- 状态筛选 -->\r\n\t\t<view class=\"filter-tabs\">\r\n\t\t\t<view v-for=\"tab in tabs\" :key=\"tab.value\" class=\"tab-item\" :class=\"{ active: activeTab === tab.value }\"\r\n\t\t\t\t@click=\"switchTab(tab.value)\">\r\n\t\t\t\t{{ tab.label }}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 开单计划列表 -->\r\n\t\t<scroll-view class=\"plan-list\" scroll-y @scrolltolower=\"loadMore\" :style=\"{ height: scrollHeight + 'px' }\">\r\n\t\t\t<!-- 加载状态 -->\r\n\t\t\t<view v-if=\"loading\" class=\"loading-container\">\r\n\t\t\t\t<uni-load-more status=\"loading\"></uni-load-more>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 列表内容 -->\n\t\t\t    <view v-for=\"plan in planList\" :key=\"plan.id\" class=\"plan-item\" v-else-if=\"planList.length > 0\">\n\t\t\t      <!-- 头部区域 -->\n\t\t\t      <view class=\"plan-header\">\n\t\t\t        <view class=\"header-left\">\n\t\t\t          <text class=\"plan-title\">{{ plan.artist_name }} - {{ getOrderTypeText(plan.order_type) }}</text>\n\t\t\t          <view class=\"plan-status\" :class=\"getStatusClass(plan)\">\n\t\t\t            {{ getStatusText(plan) }}\n\t\t\t          </view>\n\t\t\t        </view>\n\t\t\t        <!-- 操作按钮移到标题右侧 -->\n\t\t\t        <view class=\"action-btns\">\n\t\t\t          <button class=\"edit-btn\" @click=\"editPlan(plan)\">编辑</button>\n\t\t\t          <button class=\"delete-btn\" @click=\"confirmDelete(plan.id)\">删除</button>\n\t\t\t        </view>\n\t\t\t      </view>\n\t\t\t      <!-- 图片区域 -->\n\t\t\t      <view class=\"plan-images\" v-if=\"plan.images && plan.images.length\">\n\t\t\t        <image v-for=\"(img, index) in plan.images\" :key=\"index\" :src=\"img\" mode=\"aspectFill\"\n\t\t\t                class=\"plan-image\" @click=\"previewImages(plan.images, index)\"></image>\n\t\t\t      </view>\n\t\t\t      <!-- 信息区域 -->\n\t\t\t      <view class=\"plan-info\">\n\t\t\t        <view class=\"info-row\">\n\t\t\t          <uni-icons type=\"person\" size=\"16\" color=\"#666\"></uni-icons>\n\t\t\t          <text class=\"info-item\">名额: {{ plan.max_participants }}人/每人{{ plan.max_submissions_per_user }}单</text>\n\t\t\t        </view>\n\t\t\t        <view class=\"info-row\">\n\t\t\t          <uni-icons type=\"calendar\" size=\"16\" color=\"#666\"></uni-icons>\n\t\t\t          <text class=\"info-item\">\n\t\t\t            {{ formatDate(plan.open_time * 1000) }} 至 {{ formatDate(plan.close_time * 1000) }}\n\t\t\t          </text>\n\t\t\t        </view>\n\t\t\t      </view>\n\t\t\t      <!-- 档位展示 -->\n\t\t\t      <view class=\"tiers-section\"\n\t\t\t            v-if=\"plan.order_config && plan.order_config.tiers && plan.order_config.tiers.length\">\n\t\t\t        <text class=\"section-title\">档位选择</text>\n\t\t\t        <view class=\"tiers-container\">\n\t\t\t          <view v-for=\"(tier, index) in plan.order_config.tiers\" :key=\"index\" class=\"tier-item\">\n\t\t\t            <text class=\"tier-title\">{{ tier.title }}</text>\n\t\t\t            <text class=\"tier-price\">¥{{ tier.price }}</text>\n\t\t\t            <text class=\"tier-desc\">{{ tier.description }}</text>\n\t\t\t          </view>\n\t\t\t        </view>\n\t\t\t      </view>\n\t\t\t    </view>\r\n\r\n\t\t\t<!-- 加载更多 -->\r\n\t\t\t<view class=\"load-more\" v-if=\"!loading\">\r\n\t\t\t\t<text v-if=\"loadingStatus === 'loading'\">加载中...</text>\r\n\t\t\t\t<text v-if=\"loadingStatus === 'noMore' && planList.length !== 0\">— 没有更多了 —</text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 空状态 -->\r\n\t\t\t<view class=\"empty\" v-if=\"planList.length === 0 && !loading\">\r\n\t\t\t\t<image class=\"empty-icon\" src=\"/static/images/empty.png\"></image>\r\n\t\t\t\t<text class=\"empty-text\">暂无开单计划</text>\r\n\t\t\t\t<text class=\"empty-tip\">点击加号按钮创建您的第一个开单计划</text>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<button class=\"add-btn\" @click=\"showAddDialog\">\n\t\t\t<uni-icons type=\"plusempty\" size=\"30\" color=\"#fff\"></uni-icons>\n\t\t</button>\r\n\t\t<!-- 新增/编辑弹窗 -->\r\n\t\t<uni-popup ref=\"popup\" type=\"bottom\">\r\n\t\t\t<view class=\"popup-content\">\r\n\t\t\t\t<view class=\"popup-header\">\r\n\t\t\t\t\t<text class=\"popup-title\">{{ isEditMode ? '编辑开单计划' : '新增开单计划' }}</text>\r\n\t\t\t\t\t<uni-icons type=\"closeempty\" size=\"24\" color=\"#999\" @click=\"closeDialog\"></uni-icons>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<scroll-view scroll-y class=\"form-container\">\r\n\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t<text class=\"form-label\">计划名称</text>\r\n\t\t\t\t\t\t<input class=\"form-input\" v-model=\"formData.artist_name\" placeholder=\"请输入计划名称\" />\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t<text class=\"form-label\">接单类型</text>\r\n\t\t\t\t\t\t<picker @change=\"onArtistTypeChange\" :value=\"formData.artist_type\" :range=\"artistTypes\"\r\n\t\t\t\t\t\t\trange-key=\"text\">\r\n\t\t\t\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t\t\t\t{{ artistTypes[formData.artist_type - 1]?.text || '请选择接单类型' }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t<text class=\"form-label\">接单方式</text>\r\n\t\t\t\t\t\t<picker @change=\"onOrderTypeChange\" :value=\"getOrderTypeIndex(formData.order_type)\" :range=\"orderTypes\" range-key=\"text\">\n\t\t\t\t\t\t      <view class=\"picker\">\n\t\t\t\t\t\t        {{ orderTypes.find(t => t.value === formData.order_type)?.text || '请选择接单方式' }}\n\t\t\t\t\t\t      </view>\n\t\t\t\t\t\t    </picker>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t<text class=\"form-label\">最大参与人数</text>\r\n\t\t\t\t\t\t<uni-number-box v-model=\"formData.max_participants\" :min=\"1\" :max=\"1000\" />\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t<text class=\"form-label\">每人最大投递数</text>\r\n\t\t\t\t\t\t<uni-number-box v-model=\"formData.max_submissions_per_user\" :min=\"1\" :max=\"10\" />\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 开始时间选择器 -->\r\n\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t<text class=\"form-label\">开始时间</text>\r\n\t\t\t\t\t\t<picker mode=\"date\" :value=\"formData.open_date\" @change=\"onOpenDateChange\">\r\n\t\t\t\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t\t\t\t{{ formData.open_date || '选择日期' }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t<picker mode=\"time\" :value=\"formData.open_time\" @change=\"onOpenTimeChange\">\r\n\t\t\t\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t\t\t\t{{ formData.open_time || '选择时间' }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 结束时间选择器 -->\r\n\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t<text class=\"form-label\">结束时间</text>\r\n\t\t\t\t\t\t<picker mode=\"date\" :value=\"formData.close_date\" @change=\"onCloseDateChange\">\r\n\t\t\t\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t\t\t\t{{ formData.close_date || '选择日期' }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t<picker mode=\"time\" :value=\"formData.close_time\" @change=\"onCloseTimeChange\">\r\n\t\t\t\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t\t\t\t{{ formData.close_time || '选择时间' }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t<text class=\"form-label\">展示图片</text>\r\n\t\t\t\t\t\t<view class=\"image-uploader\">\r\n\r\n\r\n\t\t\t\t\t\t\t<!-- 上传状态提示 -->\r\n\t\t\t\t\t\t\t<view v-if=\"uploading\" class=\"uploading-container\">\r\n\t\t\t\t\t\t\t\t<uni-load-more status=\"loading\"></uni-load-more>\r\n\t\t\t\t\t\t\t\t<text class=\"uploading-text\">上传中 ({{ uploadedCount }}/{{ totalToUpload }})</text>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<!-- 图片预览 -->\r\n\t\t\t\t\t\t\t<view v-for=\"(img, index) in formData.images\" :key=\"index\" class=\"image-preview\">\r\n\t\t\t\t\t\t\t\t<image :src=\"img\" mode=\"aspectFill\" class=\"preview-image\"></image>\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"close\" size=\"18\" color=\"#fff\" class=\"delete-icon\"\r\n\t\t\t\t\t\t\t\t\t@click=\"removeImage(index)\"></uni-icons>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<!-- 上传按钮 -->\r\n\t\t\t\t\t\t\t<view class=\"upload-btn\" @click=\"chooseAndUploadImages\"\r\n\t\t\t\t\t\t\t\tv-if=\"formData.images.length < 9 && !uploading\">\r\n\t\t\t\t\t\t\t\t<uni-icons type=\"plusempty\" size=\"28\" color=\"#999\"></uni-icons>\r\n\t\t\t\t\t\t\t\t<text>添加图片</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\r\n\t\t\t\t\t<!-- 档位配置 -->\r\n\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t<view class=\"form-label-row\">\r\n\t\t\t\t\t\t\t<text class=\"form-label\">档位配置</text>\r\n\t\t\t\t\t\t\t<view class=\"header-buttons\">\r\n\t\t\t\t\t\t\t\t<picker :range=\"tierOptions\" range-key=\"label\" @change=\"onTierPickerChange\">\r\n\t\t\t\t\t\t\t\t\t<button class=\"small-btn\">+ 添加档位</button>\r\n\t\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"tier-config\">\r\n\t\t\t\t\t\t\t<view v-for=\"(tier, index) in formData.order_config.tiers\" :key=\"index\" class=\"tier-item\">\r\n\t\t\t\t\t\t\t\t<view class=\"tier-header\">\r\n\t\t\t\t\t\t\t\t\t<!-- <text>可选 {{ index + 1 }}</text> -->\r\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"18\" color=\"#f56c6c\" @click=\"removeTier(index)\"\r\n\t\t\t\t\t\t\t\t\t\tv-if=\"formData.order_config.tiers.length > 1\"></uni-icons>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"tier-inputs\">\r\n\t\t\t\t\t\t\t\t\t<input class=\"tier-input\" v-model=\"tier.title\" placeholder=\"档位名称\" />\r\n\t\t\t\t\t\t\t\t\t<input class=\"tier-input\" v-model=\"tier.price\" placeholder=\"价格\" type=\"number\" />\r\n\t\t\t\t\t\t\t\t\t<input class=\"tier-input\" v-model=\"tier.description\" placeholder=\"描述\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 加购配置 -->\r\n\t\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t\t<view class=\"form-label-row\">\r\n\t\t\t\t\t\t\t<text class=\"form-label\">加购配置</text>\r\n\t\t\t\t\t\t\t<view class=\"header-buttons\">\r\n\t\t\t\t\t\t\t\t<picker :range=\"addonOptions\" range-key=\"label\" @change=\"onAddonPickerChange\">\r\n\t\t\t\t\t\t\t\t\t<button class=\"small-btn\">+ 添加加购</button>\r\n\t\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"tier-config\">\n\t\t\t\t\t\t\t<view v-for=\"(addon, index) in formData.order_config.addons\" :key=\"index\" class=\"tier-item\">\r\n\t\t\t\t\t\t\t\t<view class=\"tier-header\">\r\n\t\t\t\t\t\t\t\t\t<text>加购 {{ index + 1 }}</text>\r\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"18\" color=\"#f56c6c\" @click=\"removeAddon(index)\"\r\n\t\t\t\t\t\t\t\t\t\tv-if=\"formData.order_config.addons.length > 1\"></uni-icons>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"tier-inputs\">\r\n\t\t\t\t\t\t\t\t\t<input class=\"tier-input\" v-model=\"addon.title\" placeholder=\"加购名称\" />\r\n\t\t\t\t\t\t\t\t\t<input class=\"tier-input\" v-model=\"addon.price\" placeholder=\"价格\" type=\"number\" />\r\n\t\t\t\t\t\t\t\t\t<input class=\"tier-input\" v-model=\"addon.description\" placeholder=\"描述\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\r\n\r\n\t\t\t\t</scroll-view>\r\n\r\n\t\t\t\t<button class=\"submit-btn\" @click=\"submitPlan\" :disabled=\"submitting\">\r\n\t\t\t\t\t{{ submitting ? '提交中...' : '提交' }}\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tonMounted,\r\n\t\twatch\r\n\t} from 'vue'\r\n\timport {\r\n\t\tonShow\r\n\t} from '@dcloudio/uni-app'\r\n\timport {\r\n\t\tchooseImageList,\r\n\t\tgetQiniuToken,\r\n\t\tuploadImageToQiniu\r\n\t} from '@/common/image.js';\r\n\timport {\r\n\t\twebsiteUrl\r\n\t} from '@/common/config.js';\r\n\r\n\t// 状态筛选选项\r\n\tconst tabs = [{\r\n\t\t\tlabel: '全部',\r\n\t\t\tvalue: 'all'\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: '进行中',\r\n\t\t\tvalue: 'active'\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: '未开始',\r\n\t\t\tvalue: 'upcoming'\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: '已结束',\r\n\t\t\tvalue: 'inactive'\r\n\t\t}\r\n\t]\r\n\tconst activeTab = ref('all')\r\n\r\n\t// 列表数据\r\n\tconst planList = ref([])\r\n\tconst currentPage = ref(1)\r\n\tconst pageSize = ref(10)\r\n\tconst total = ref(0)\r\n\tconst loading = ref(false)\r\n\tconst submitting = ref(false)\r\n\tconst loadingStatus = ref('more')\r\n\tconst scrollHeight = ref(0)\r\n\r\n\t// 表单相关\r\n\tconst popup = ref(null)\r\n\tconst isEditMode = ref(false)\r\n\tconst currentPlanId = ref(null)\r\n\r\n\t// 上传相关状态\r\n\tconst uploading = ref(false)\r\n\tconst uploadedCount = ref(0)\r\n\tconst totalToUpload = ref(0)\r\n\tconst uploadStatusText = ref('')\r\n\r\n\t// 新增状态变量\r\n\tconst tierPicker = ref(null)\r\n\tconst showTierPicker = ref(false)\r\n\tconst showAddonPicker = ref(false)\r\n\tconst commonTiers = ref([])\r\n\tconst commonAddons = ref([])\r\n\r\n\tconst tierOptions = ref([{\r\n\t\tlabel: \"添加空白档位\",\r\n\t\tvalue: \"blank\"\r\n\t}])\r\n\tconst addonOptions = ref([{\r\n\t\tlabel: \"添加空白加购\",\r\n\t\tvalue: \"blank\"\r\n\t}])\r\n\r\n\tconst formData = ref({\r\n\t\tartist_name: '',\r\n\t\tartist_type: 1, // 1: 妆师, 2: 毛娘\r\n\t\torder_type: 1, // 1: 长期接单, 2: 限时手速, 3: 限时抽选\r\n\t\tmax_participants: 10,\r\n\t\tmax_submissions_per_user: 1,\r\n\t\topen_date: '',\r\n\t\topen_time: '',\r\n\t\tclose_date: '',\r\n\t\tclose_time: '',\r\n\t\timages: [],\r\n\t\torder_config: {\r\n\t\t\ttiers: [],\r\n\t\t\t// 新增加购配置\r\n\t\t\taddons: []\r\n\t\t}\r\n\t})\r\n\r\n\tconst artistTypes = [{\r\n\t\t\tvalue: 1,\r\n\t\t\ttext: '妆师'\r\n\t\t},\r\n\t\t// {\r\n\t\t// \tvalue: 2,\r\n\t\t// \ttext: '毛娘'\r\n\t\t// }\r\n\t]\r\n\r\n\tconst orderTypes = [{\r\n\t\t\tvalue: 1,\r\n\t\t\ttext: '长期接单'\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 2,\r\n\t\t\ttext: '限时手速'\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 3,\r\n\t\t\ttext: '限时抽选'\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 4,\r\n\t\t\ttext: '限时黑箱卡'\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 9,\r\n\t\t\ttext: '关闭投递'\r\n\t\t}\r\n\t]\r\n\r\n\t// 初始化页面\r\n\tonMounted(() => {\r\n\t\tcalcScrollHeight()\r\n\t\tfetchCommonConfigs() // 加载默认配置\n\t\tuni.setNavigationBarTitle({\n\t\t\ttitle: \"接单计划管理\"\n\t\t})\r\n\t})\r\n\r\n\tonShow(() => {\r\n\t\tfetchPlanList(true)\r\n\t})\r\n\r\n\t// 监听选择器显示状态\r\n\twatch(showTierPicker, (newVal) => {\r\n\t\tif (newVal) {\r\n\t\t\tpopup.value.close() // 关闭主弹窗\r\n\t\t\ttierPicker.value.open() // 打开档位选择器\r\n\t\t} else {\r\n\t\t\ttierPicker.value.close()\r\n\t\t}\r\n\t})\r\n\r\n\twatch(showAddonPicker, (newVal) => {\r\n\t\tif (newVal) {\r\n\t\t\tpopup.value.close() // 关闭主弹窗\r\n\t\t\taddonPicker.value.open() // 打开加购选择器\r\n\t\t} else {\r\n\t\t\taddonPicker.value.close()\r\n\t\t}\r\n\t})\r\n\r\n\t// 获取默认配置\r\n\tconst fetchCommonConfigs = async () => {\r\n\t\ttry {\r\n\t\t\t// 获取默认档位配置\r\n\t\t\tconst tierRes = await uni.request({\r\n\t\t\t\turl: websiteUrl.value + '/brand-manager/order-plane/common-tiers',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'Authorization': getAuthorization()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tif (tierRes.data.status === 'success') {\r\n\t\t\t\ttierOptions.value = [{\r\n\t\t\t\t\t\tlabel: \"添加空白档位\",\r\n\t\t\t\t\t\tvalue: \"blank\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t...tierRes.data.data.map(item => ({\r\n\t\t\t\t\t\tlabel: item.title,\r\n\t\t\t\t\t\tvalue: item\r\n\t\t\t\t\t}))\r\n\t\t\t\t]\r\n\t\t\t}\r\n\r\n\t\t\t// 获取默认加购配置\r\n\t\t\tconst addonRes = await uni.request({\r\n\t\t\t\turl: websiteUrl.value + '/brand-manager/order-plane/common-addons',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'Authorization': getAuthorization()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tif (addonRes.data.status === 'success') {\r\n\t\t\t\taddonOptions.value = [{\r\n\t\t\t\t\t\tlabel: \"添加空白加购\",\r\n\t\t\t\t\t\tvalue: \"blank\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t...addonRes.data.data.map(item => ({\r\n\t\t\t\t\t\tlabel: item.title,\r\n\t\t\t\t\t\tvalue: item\r\n\t\t\t\t\t}))\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('获取默认配置失败:', error)\r\n\t\t}\r\n\t}\r\n\t// 档位选择器变化\r\n\tconst onTierPickerChange = (e) => {\r\n\t\tconst index = e.detail.value\r\n\t\tconst option = tierOptions.value[index]\r\n\r\n\t\tif (option.value === \"blank\") {\r\n\t\t\t// 添加空白档位\r\n\t\t\tformData.value.order_config.tiers.push({\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tprice: 0,\r\n\t\t\t\tdescription: ''\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t// 添加默认档位\r\n\t\t\tformData.value.order_config.tiers.push({\r\n\t\t\t\t...option.value,\r\n\t\t\t\tprice: parseFloat(option.value.price) || 0\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t// 加购选择器变化\r\n\tconst onAddonPickerChange = (e) => {\r\n\t\tconst index = e.detail.value\r\n\t\tconst option = addonOptions.value[index]\r\n\r\n\t\tif (option.value === \"blank\") {\r\n\t\t\t// 添加空白加购\r\n\t\t\tformData.value.order_config.addons.push({\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tprice: 0,\r\n\t\t\t\tdescription: ''\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t// 添加默认加购\r\n\t\t\tformData.value.order_config.addons.push({\r\n\t\t\t\t...option.value,\r\n\t\t\t\tprice: parseFloat(option.value.price) || 0\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// 添加档位选项\r\n\tconst addTierOption = (option) => {\r\n\t\tif (option === 'blank') {\r\n\t\t\t// 添加空白档位\r\n\t\t\tformData.value.order_config.tiers.push({\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tprice: 0,\r\n\t\t\t\tdescription: ''\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t// 添加默认档位\r\n\t\t\tformData.value.order_config.tiers.push({\r\n\t\t\t\t...option,\r\n\t\t\t\tprice: parseFloat(option.price) || 0\r\n\t\t\t})\r\n\t\t}\r\n\t\tshowTierPicker.value = false\r\n\t\tpopup.value.open() // 重新打开主弹窗\r\n\t}\r\n\r\n\t// 添加加购选项\r\n\tconst addAddonOption = (option) => {\r\n\t\tif (option === 'blank') {\r\n\t\t\t// 添加空白加购\r\n\t\t\tformData.value.order_config.addons.push({\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tprice: 0,\r\n\t\t\t\tdescription: ''\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t// 添加默认加购\r\n\t\t\tformData.value.order_config.addons.push({\r\n\t\t\t\t...option,\r\n\t\t\t\tprice: parseFloat(option.price) || 0\r\n\t\t\t})\r\n\t\t}\r\n\t\tshowAddonPicker.value = false\r\n\t\tpopup.value.open() // 重新打开主弹窗\r\n\t}\r\n\r\n\t// 计算滚动区域高度\r\n\tconst calcScrollHeight = () => {\r\n\t\tconst systemInfo = uni.getSystemInfoSync()\r\n\t\tscrollHeight.value = systemInfo.windowHeight - 180 // 减去头部和筛选栏高度\r\n\t}\r\n\r\n\t// 获取Authorization\r\n\tconst getAuthorization = () => {\r\n\t\tconst token = uni.getStorageSync('token') || ''\r\n\t\treturn token\r\n\t}\r\n\t// 加载默认档位配置\r\n\tconst loadCommonTiers = async () => {\r\n\t\ttry {\r\n\t\t\tconst res = await uni.request({\r\n\t\t\t\turl: websiteUrl.value + '/brand-manager/order-plane/common-tiers',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'Authorization': getAuthorization()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tif (res.data.status === 'success') {\r\n\t\t\t\tconst commonTiers = res.data.data || []\r\n\t\t\t\t// 追加到现有配置\r\n\t\t\t\tformData.value.order_config.tiers = [\r\n\t\t\t\t\t...formData.value.order_config.tiers,\r\n\t\t\t\t\t...commonTiers\r\n\t\t\t\t]\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '默认档位已添加',\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: res.data.message || '获取默认档位失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('获取默认档位失败:', error)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '获取默认档位失败',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// 加载默认加购配置\r\n\tconst loadCommonAddons = async () => {\r\n\t\ttry {\r\n\t\t\tconst res = await uni.request({\r\n\t\t\t\turl: websiteUrl.value + '/brand-manager/order-plane/common-addons',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'Authorization': getAuthorization()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tif (res.data.status === 'success') {\r\n\t\t\t\tconst commonAddons = res.data.data || []\r\n\t\t\t\t// 追加到现有配置\r\n\t\t\t\tformData.value.order_config.addons = [\r\n\t\t\t\t\t...formData.value.order_config.addons,\r\n\t\t\t\t\t...commonAddons\r\n\t\t\t\t]\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '默认加购已添加',\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: res.data.message || '获取默认加购失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('获取默认加购失败:', error)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '获取默认加购失败',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t// 选择并上传图片\r\n\tconst chooseAndUploadImages = async () => {\r\n\t\ttry {\r\n\t\t\t// 计算还能上传的数量\r\n\t\t\tconst remaining = 9 - formData.value.images.length\r\n\t\t\tif (remaining <= 0) return\r\n\r\n\t\t\t// 选择图片\r\n\t\t\tconst tempFilePaths = await chooseImageList(remaining)\r\n\t\t\tif (!tempFilePaths || tempFilePaths.length === 0) return\r\n\r\n\t\t\t// 获取七牛云凭证\r\n\t\t\tconst qiniuData = await getQiniuToken()\r\n\t\t\tconst token = qiniuData.token\r\n\t\t\tconst basePath = qiniuData.path // 使用返回的path作为基础路径\r\n\r\n\t\t\t// 设置上传状态\r\n\t\t\tuploading.value = true\r\n\t\t\ttotalToUpload.value = tempFilePaths.length\r\n\t\t\tuploadedCount.value = 0\r\n\r\n\t\t\t// 依次上传每张图片\r\n\t\t\tconst uploadedUrls = []\r\n\t\t\tfor (let i = 0; i < tempFilePaths.length; i++) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst filePath = tempFilePaths[i]\r\n\r\n\t\t\t\t\t// 更新上传状态\r\n\t\t\t\t\tuploadStatusText.value = `上传中 (${i+1}/${tempFilePaths.length})`\r\n\t\t\t\t\tuploadedCount.value = i + 1\r\n\r\n\t\t\t\t\t// 使用七牛云返回的path作为文件名基础\r\n\r\n\r\n\t\t\t\t\t// 上传到七牛云\r\n\t\t\t\t\tconst result = await uploadImageToQiniu(\r\n\t\t\t\t\t\tfilePath,\r\n\t\t\t\t\t\ttoken,\r\n\t\t\t\t\t\tbasePath\r\n\t\t\t\t\t)\r\n\r\n\t\t\t\t\tif (result && result.imageUrl) {\r\n\t\t\t\t\t\tuploadedUrls.push(result.imageUrl)\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (uploadError) {\r\n\t\t\t\t\tconsole.error(`第 ${i+1} 张图片上传失败:`, uploadError)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: `第 ${i+1} 张图片上传失败`,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 更新表单中的图片列表\r\n\t\t\tformData.value.images = [...formData.value.images, ...uploadedUrls]\r\n\r\n\t\t\t// 显示上传结果\r\n\t\t\tif (uploadedUrls.length > 0) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: `成功上传 ${uploadedUrls.length} 张图片`,\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('图片选择或上传失败:', error)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '图片上传失败: ' + (error.message || '未知错误'),\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t} finally {\r\n\t\t\tuploading.value = false\r\n\t\t\tuploadedCount.value = 0\r\n\t\t\ttotalToUpload.value = 0\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t// 获取开单计划列表\r\n\tconst fetchPlanList = async (reset = false) => {\r\n\t\tif (loading.value) return\r\n\r\n\t\tif (reset) {\r\n\t\t\tcurrentPage.value = 1\r\n\t\t\tplanList.value = []\r\n\t\t\tloadingStatus.value = 'more'\r\n\t\t}\r\n\r\n\t\tloading.value = true\r\n\t\tloadingStatus.value = 'loading'\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await uni.request({\r\n\t\t\t\turl: websiteUrl.value + '/brand-manager/order-plan/list',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tpage: currentPage.value,\r\n\t\t\t\t\tpage_size: pageSize.value,\r\n\t\t\t\t\tstatus: activeTab.value\r\n\t\t\t\t},\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'Authorization': getAuthorization()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tif (res.data.status === 'success') {\r\n\t\t\t\tconst data = res.data.data\r\n\t\t\t\tconst newList = data.list || []\r\n\t\t\t\ttotal.value = data.total\r\n\r\n\t\t\t\t// 处理图片数据\r\n\t\t\t\tconst processedList = newList.map(plan => {\n\t\t\t\t  // 处理图片数据：将逗号分隔的字符串转为数组\n\t\t\t\t  const images = typeof plan.images === 'string' \n\t\t\t\t    ? plan.images.split(',').filter(url => url.trim() !== '') \n\t\t\t\t    : plan.images || [];\n\t\t\t\t  \n\t\t\t\t  // 处理 order_config 数据\n\t\t\t\t  let orderConfig = {};\n\t\t\t\t  try {\n\t\t\t\t    orderConfig = plan.order_config ? JSON.parse(plan.order_config) : {};\n\t\t\t\t  } catch (e) {\n\t\t\t\t    console.error('解析 order_config 失败:', e);\n\t\t\t\t  }\n\t\t\t\t  \n\t\t\t\t  return {\n\t\t\t\t    ...plan,\n\t\t\t\t    images,\n\t\t\t\t    order_config: orderConfig\n\t\t\t\t  }\n\t\t\t\t})\r\n\r\n\t\t\t\tif (reset) {\r\n\t\t\t\t\tplanList.value = processedList\r\n\t\t\t\t} else {\r\n\t\t\t\t\tplanList.value = [...planList.value, ...processedList]\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (planList.value.length >= total.value) {\r\n\t\t\t\t\tloadingStatus.value = 'noMore'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tloadingStatus.value = 'more'\r\n\t\t\t\t\tcurrentPage.value++\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: res.data.message || '获取列表失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '网络错误',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t} finally {\r\n\t\t\tloading.value = false\r\n\t\t}\r\n\t}\r\n\r\n\t// 加载更多\r\n\tconst loadMore = () => {\r\n\t\tif (loadingStatus.value === 'noMore') return\r\n\t\tfetchPlanList()\r\n\t}\r\n\r\n\t// 切换状态筛选\r\n\tconst switchTab = (tab) => {\r\n\t\tactiveTab.value = tab\r\n\t\tfetchPlanList(true)\r\n\t}\r\n\r\n\t// 显示新增弹窗\r\n\tconst showAddDialog = () => {\r\n\t\tresetForm()\r\n\t\tisEditMode.value = false\r\n\t\tpopup.value.open()\r\n\t}\r\n\r\n\t// 编辑开单计划\r\n\tconst editPlan = (plan) => {\r\n\t\tresetForm()\r\n\t\tisEditMode.value = true\r\n\t\tcurrentPlanId.value = plan.id\r\n\r\n\t\t// 填充表单数据\r\n\t\tformData.value = {\r\n\t\t\tartist_name: plan.artist_name,\r\n\t\t\tartist_type: plan.artist_type,\r\n\t\t\torder_type: plan.order_type,\r\n\t\t\tmax_participants: plan.max_participants,\r\n\t\t\tmax_submissions_per_user: plan.max_submissions_per_user,\r\n\t\t\timages: [...(plan.images || [])],\r\n\t\t\torder_config: {\r\n\t\t\t\ttiers: [...(plan.order_config?.tiers || [])],\n\t\t\t\taddons: [...(plan.order_config?.addons || [])] \r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// 设置时间\r\n\t\tif (plan.open_time) {\r\n\t\t\tformData.value.open_date = formatDate(plan.open_time * 1000, 'yyyy-MM-dd')\r\n\t\t\tformData.value.open_time = formatDate(plan.open_time * 1000, 'HH:mm')\r\n\t\t}\r\n\r\n\t\tif (plan.close_time) {\r\n\t\t\tformData.value.close_date = formatDate(plan.close_time * 1000, 'yyyy-MM-dd')\r\n\t\t\tformData.value.close_time = formatDate(plan.close_time * 1000, 'HH:mm')\r\n\t\t}\r\n\r\n\t\tpopup.value.open()\r\n\t}\r\n\r\n\t// 重置表单\r\n\tconst resetForm = () => {\r\n\t\tformData.value = {\r\n\t\t\tartist_name: '',\r\n\t\t\tartist_type: 1,\r\n\t\t\torder_type: 1,\r\n\t\t\tmax_participants: 10,\r\n\t\t\tmax_submissions_per_user: 1,\r\n\t\t\topen_date: '',\r\n\t\t\topen_time: '',\r\n\t\t\tclose_date: '',\r\n\t\t\tclose_time: '',\r\n\t\t\timages: [],\r\n\t\t\torder_config: {\r\n\t\t\t\ttiers: [],\r\n\t\t\t\t// 确保addons有初始值\r\n\t\t\t\taddons: []\r\n\t\t\t}\r\n\t\t}\r\n\t\tcurrentPlanId.value = null\r\n\t\tsubmitting.value = false\r\n\t}\r\n\r\n\t// 时间选择器事件处理\r\n\tconst onOpenDateChange = (e) => {\r\n\t\tformData.value.open_date = e.detail.value\r\n\t}\r\n\r\n\tconst onOpenTimeChange = (e) => {\r\n\t\tformData.value.open_time = e.detail.value\r\n\t}\r\n\r\n\tconst onCloseDateChange = (e) => {\r\n\t\tformData.value.close_date = e.detail.value\r\n\t}\r\n\r\n\tconst onCloseTimeChange = (e) => {\r\n\t\tformData.value.close_time = e.detail.value\r\n\t}\r\n\r\n\t// 提交表单\r\n\tconst submitPlan = async () => {\r\n\t\tif (!formData.value.artist_name) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '请填写计划名称',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (!formData.value.open_date || !formData.value.open_time ||\r\n\t\t\t!formData.value.close_date || !formData.value.close_time) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '请选择开始和结束时间',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// 处理时间格式\r\n\t\tconst openTime = new Date(`${formData.value.open_date} ${formData.value.open_time}`).getTime() / 1000\r\n\t\tconst closeTime = new Date(`${formData.value.close_date} ${formData.value.close_time}`).getTime() / 1000\r\n\r\n\t\tif (closeTime <= openTime) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '结束时间必须晚于开始时间',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// 准备请求参数\r\n\t\tconst params = {\r\n\t\t\tartist_name: formData.value.artist_name,\r\n\t\t\tartist_type: formData.value.artist_type,\r\n\t\t\torder_type: formData.value.order_type,\r\n\t\t\tmax_participants: formData.value.max_participants,\r\n\t\t\tmax_submissions_per_user: formData.value.max_submissions_per_user,\r\n\t\t\topen_time: openTime,\r\n\t\t\tclose_time: closeTime,\r\n\t\t\timages: formData.value.images,\r\n\t\t\torder_config: {\r\n\t\t\t\t// 确保价格是浮点数\r\n\t\t\t\ttiers: formData.value.order_config.tiers.map(tier => ({\r\n\t\t\t\t\t...tier,\r\n\t\t\t\t\tprice: parseFloat(tier.price) || 0\r\n\t\t\t\t})),\r\n\t\t\t\t// 新增加购配置，确保价格是浮点数\r\n\t\t\t\taddons: formData.value.order_config.addons.map(addon => ({\r\n\t\t\t\t\t...addon,\r\n\t\t\t\t\tprice: parseFloat(addon.price) || 0\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (isEditMode.value) {\r\n\t\t\tparams.id = currentPlanId.value\r\n\t\t}\r\n\r\n\t\tsubmitting.value = true\r\n\r\n\t\ttry {\r\n\t\t\tconst url = websiteUrl.value + (isEditMode.value ?\r\n\t\t\t\t'/brand-manager/order-plan/update' :\r\n\t\t\t\t'/brand-manager/order-plan/add')\r\n\r\n\t\t\tconst method = 'POST'\r\n\r\n\t\t\tconst res = await uni.request({\r\n\t\t\t\turl,\r\n\t\t\t\tmethod,\r\n\t\t\t\tdata: params,\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'Authorization': getAuthorization(),\r\n\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tif (res.data.status === 'success') {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: isEditMode.value ? '更新成功' : '添加成功',\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t})\r\n\t\t\t\tpopup.value.close()\r\n\t\t\t\tfetchPlanList(true)\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: res.data.message || (isEditMode.value ? '更新失败' : '添加失败'),\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('提交失败:', error)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '请求失败，请稍后重试',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t} finally {\r\n\t\t\tsubmitting.value = false\r\n\t\t}\r\n\t}\r\n\r\n\t// 关闭弹窗\r\n\tconst closeDialog = () => {\r\n\t\tpopup.value.close()\r\n\t}\r\n\r\n\t// 确认删除\r\n\tconst confirmDelete = (id) => {\r\n\t\tuni.showModal({\r\n\t\t\ttitle: '提示',\r\n\t\t\tcontent: '确定要删除该开单计划吗？',\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\tdeletePlan(id)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除开单计划\r\n\tconst deletePlan = async (id) => {\r\n\t\ttry {\r\n\t\t\tconst res = await uni.request({\r\n\t\t\t\turl: websiteUrl.value + '/brand-manager/order-plan/delete?id=' + id,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'Authorization': getAuthorization(),\r\n\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\tif (res.data.status === 'success') {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '删除成功',\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t})\r\n\t\t\t\tfetchPlanList(true)\r\n\t\t\t} else {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: res.data.message || '删除失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('删除失败:', error)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '网络错误',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// 选择图片\r\n\tconst chooseImage = () => {\r\n\t\tuni.chooseImage({\r\n\t\t\tcount: 9 - formData.value.images.length,\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tformData.value.images = [...formData.value.images, ...res.tempFilePaths]\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除图片\r\n\tconst removeImage = (index) => {\r\n\t\tformData.value.images.splice(index, 1)\r\n\t}\r\n\r\n\t// 添加档位\r\n\tconst addTier = () => {\r\n\t\tformData.value.order_config.tiers.push({\r\n\t\t\ttitle: '',\r\n\t\t\tprice: 0,\r\n\t\t\tdescription: ''\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除档位\r\n\tconst removeTier = (index) => {\r\n\t\tif (formData.value.order_config.tiers.length > 1) {\r\n\t\t\tformData.value.order_config.tiers.splice(index, 1)\r\n\t\t}\r\n\t}\r\n\t// 添加加购\r\n\tconst addAddon = () => {\r\n\t\tformData.value.order_config.addons.push({\r\n\t\t\ttitle: '',\r\n\t\t\tprice: 0, // 初始化为数字类型\r\n\t\t\tdescription: ''\r\n\t\t})\r\n\t}\r\n\r\n\t// 删除加购\r\n\tconst removeAddon = (index) => {\r\n\t\tif (formData.value.order_config.addons.length > 1) {\r\n\t\t\tformData.value.order_config.addons.splice(index, 1)\r\n\t\t}\r\n\t}\r\n\t// 接单类型选择\r\n\tconst onArtistTypeChange = (e) => {\r\n\t\tformData.value.artist_type = parseInt(e.detail.value) + 1\r\n\t}\r\n\r\n\t// 订单类型选择\r\n\tconst onOrderTypeChange = (e) => {\n\t  // 直接使用索引从orderTypes数组中获取对应的值\n\t  const selectedIndex = parseInt(e.detail.value);\n\t  formData.value.order_type = orderTypes[selectedIndex].value;\n\t}\n\n\t// 添加获取订单类型索引的方法\n\tconst getOrderTypeIndex = (type) => {\n\t  return orderTypes.findIndex(item => item.value === type);\n\t}\r\n\r\n\t// 预览图片\r\n\tconst previewImages = (images, current) => {\r\n\t\tuni.previewImage({\r\n\t\t\tcurrent,\r\n\t\t\turls: images,\r\n\t\t\tindicator: 'number'\r\n\t\t})\r\n\t}\r\n\r\n\t// 格式化日期\r\n\tconst formatDate = (timestamp, format = 'yyyy-MM-dd HH:mm') => {\r\n\t\tif (!timestamp) return ''\r\n\t\tconst date = new Date(timestamp)\r\n\r\n\t\tconst year = date.getFullYear()\r\n\t\tconst month = (date.getMonth() + 1).toString().padStart(2, '0')\r\n\t\tconst day = date.getDate().toString().padStart(2, '0')\r\n\t\tconst hours = date.getHours().toString().padStart(2, '0')\r\n\t\tconst minutes = date.getMinutes().toString().padStart(2, '0')\r\n\r\n\t\tif (format === 'yyyy-MM-dd') {\r\n\t\t\treturn `${year}-${month}-${day}`\r\n\t\t}\r\n\r\n\t\tif (format === 'HH:mm') {\r\n\t\t\treturn `${hours}:${minutes}`\r\n\t\t}\r\n\r\n\t\treturn `${year}-${month}-${day} ${hours}:${minutes}`\r\n\t}\r\n\r\n\t// 获取订单类型文本\r\n\tconst getOrderTypeText = (type) => {\r\n\t\tconst map = {\r\n\t\t\t1: '长期接单',\r\n\t\t\t2: '限时手速',\r\n\t\t\t3: '限时抽选',\r\n\t\t\t4: '限时黑箱卡',\r\n\t\t\t9: '关闭投递'\r\n\t\t}\r\n\t\treturn map[type] || '未知类型'\r\n\t}\r\n\r\n\t// 获取状态文本\r\n\tconst getStatusText = (plan) => {\r\n\t\tconst now = Math.floor(Date.now() / 1000)\r\n\t\tif (now < plan.open_time) return '未开始'\r\n\t\tif (now > plan.close_time) return '已结束'\r\n\t\treturn '进行中'\r\n\t}\r\n\r\n\t// 获取状态样式类\r\n\tconst getStatusClass = (plan) => {\r\n\t\tconst now = Math.floor(Date.now() / 1000)\r\n\t\tif (now < plan.open_time) return 'upcoming'\r\n\t\tif (now > plan.close_time) return 'inactive'\r\n\t\treturn 'active'\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\t.order-plan-page {\r\n\t\tpadding: 20rpx;\r\n\t\tbackground-color: #f8f8f8;\r\n\t\tmin-height: 100vh;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tpadding: 20rpx 0;\r\n\r\n\t\t.title {\r\n\t\t\tfont-size: 36rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: #333;\r\n\t\t}\r\n\r\n\t\t.add-btn {\r\n\t\t\tbackground-color: #171e22;\r\n\t\t\tcolor: white;\r\n\t\t\tborder-radius: 40rpx;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tpadding: 8rpx 24rpx;\r\n\t\t\tline-height: 1.5;\r\n\r\n\t\t\t&::after {\r\n\t\t\t\tborder: none;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t/* 新增上传状态样式 */\r\n\t.uploading-container {\r\n\t\twidth: 100%;\r\n\t\tpadding: 20rpx 0;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\r\n\t\t.uploading-text {\r\n\t\t\tmargin-top: 10rpx;\r\n\t\t\tcolor: #999;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.filter-tabs {\r\n\t\tdisplay: flex;\r\n\t\tbackground: white;\r\n\t\tborder-radius: 12rpx;\r\n\t\tpadding: 10rpx 0;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\r\n\r\n\t\t.tab-item {\r\n\t\t\tflex: 1;\r\n\t\t\ttext-align: center;\r\n\t\t\tpadding: 20rpx 0;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t&.active {\r\n\t\t\t\tcolor: #171e22;\r\n\t\t\t\tfont-weight: 600;\r\n\r\n\t\t\t\t&::after {\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\tleft: 50%;\r\n\t\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t\t\twidth: 80rpx;\r\n\t\t\t\t\theight: 6rpx;\r\n\t\t\t\t\tbackground-color: #171e22;\r\n\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.plan-list {\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 16rpx;\r\n\r\n\t\t.loading-container {\r\n\t\t\tpadding: 40rpx 0;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\r\n\t\t.plan-item {\r\n\t\t  padding: 30rpx;\n\t\t  border-radius: 16rpx;\n\t\t  background-color: #fff;\n\t\t  margin-bottom: 20rpx;\n\t\t  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.06);\r\n\r\n\t\t\t&:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\r\n/* 图片区域调整 */\n.plan-images {\n  display: flex;\n  overflow-x: auto;\n  gap: 16rpx;\n  margin-bottom: 24rpx;\n  padding-bottom: 8rpx;\n  \n  .plan-image {\n    width: 180rpx;\n    height: 180rpx;\n    border-radius: 12rpx;\n    flex-shrink: 0;\n    background-color: #f5f5f5;\n  }\n}\n\r\n.plan-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 20rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n  padding-bottom: 20rpx;\n  \n  .header-left {\n    flex: 1;\n  }\n  \n  .plan-title {\n    font-size: 32rpx;\n    font-weight: 600;\n    color: #333;\n    margin-bottom: 10rpx;\n    display: block;\n  }\n  \n  .plan-status {\n    display: inline-block;\n    font-size: 24rpx;\n    padding: 6rpx 16rpx;\n    border-radius: 20rpx;\n    font-weight: 500;\n    \n    &.active {\n      background-color: #e8f5ff;\n      color: #1890ff;\n    }\n    \n    &.inactive {\n      background-color: #f5f5f5;\n      color: #999;\n    }\n    \n    &.upcoming {\n      background-color: #fff8e8;\n      color: #ff9c00;\n    }\n  }\n}\r\n.plan-info {\n  margin-bottom: 24rpx;\n  \n  .info-row {\n    display: flex;\n    align-items: center;\n    gap: 10rpx;\n    margin-bottom: 12rpx;\n    \n    .info-item {\n      font-size: 26rpx;\n      color: #666;\n    }\n  }\n}\n\r\n/* 档位区域调整 */\n.tiers-section {\n  margin-bottom: 10rpx;\n  \n  .section-title {\n    font-size: 28rpx;\n    font-weight: 600;\n    color: #333;\n    margin-bottom: 16rpx;\n    display: block;\n  }\n  \n  .tiers-container {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    gap: 16rpx;\n  }\n  \n  .tier-item {\n    background-color: #f9f9f9;\n    border-radius: 12rpx;\n    padding: 20rpx;\n    \n    .tier-title {\n      font-size: 26rpx;\n      font-weight: 500;\n      color: #333;\n      display: block;\n    }\n    \n    .tier-price {\n      font-size: 28rpx;\n      font-weight: bold;\n      color: #ff4d6a;\n      display: block;\n      margin: 8rpx 0;\n    }\n    \n    .tier-desc {\n      font-size: 24rpx;\n      color: #999;\n      display: block;\n    }\n  }\n}\n\r\n\r\n\t\t.action-btns {\n\t\t  display: flex;\n\t\t  gap: 12rpx;\n\t\t  \n\t\t  .edit-btn, .delete-btn {\n\t\t    height: 50rpx;\n\t\t    line-height: 50rpx;\n\t\t    font-size: 24rpx;\n\t\t    padding: 0 20rpx;\n\t\t    border-radius: 25rpx;\n\t\t    margin: 0;\n\t\t    \n\t\t    &::after {\n\t\t      border: none;\n\t\t    }\n\t\t  }\n\t\t  \n\t\t  .edit-btn {\n\t\t    background-color: #e8f5ff;\n\t\t    color: #1890ff;\n\t\t    \n\t\t    &:active {\n\t\t      background-color: #d1e9ff;\n\t\t    }\n\t\t  }\n\t\t  \n\t\t  .delete-btn {\n\t\t    background-color: #ffeeee;\n\t\t    color: #ff4d6a;\n\t\t    \n\t\t    &:active {\n\t\t      background-color: #ffe0e0;\n\t\t    }\n\t\t  }\n\t\t}\n\r\n\t\t.load-more {\r\n\t\t\ttext-align: center;\r\n\t\t\tpadding: 30rpx 0;\r\n\t\t\tcolor: #999;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t}\r\n\r\n\t\t.empty {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 80rpx 0;\r\n\r\n\t\t\t.empty-icon {\r\n\t\t\t\twidth: 200rpx;\r\n\t\t\t\theight: 200rpx;\r\n\t\t\t\topacity: 0.6;\r\n\t\t\t\tmargin-bottom: 30rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.empty-text {\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.empty-tip {\r\n\t\t\t\tcolor: #aaa;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.popup-content {\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 30rpx 30rpx 0 0;\r\n\t\tpadding: 40rpx;\r\n\t\tmax-height: 80vh;\r\n\r\n\t\t.popup-header {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin-bottom: 30rpx;\r\n\r\n\t\t\t.popup-title {\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.form-container {\r\n\t\t\tmax-height: 60vh;\r\n\r\n\t\t\t.form-group {\r\n\t\t\t\tmargin-bottom: 30rpx;\r\n\r\n\t\t\t\t.form-label {\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.form-input {\r\n\t\t\t\t\tbackground-color: #f8f8f8;\r\n\t\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\t\tpadding: 20rpx;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.picker {\r\n\t\t\t\t\tbackground-color: #f8f8f8;\r\n\t\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\t\tpadding: 20rpx;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\tmargin-bottom: 10rpx;\r\n\r\n\t\t\t\t\t&:last-child {\r\n\t\t\t\t\t\tmargin-bottom: 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.image-uploader {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\tgap: 20rpx;\r\n\r\n\t\t\t\t.image-preview {\r\n\t\t\t\t\twidth: 150rpx;\r\n\t\t\t\t\theight: 150rpx;\r\n\t\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\tposition: relative;\r\n\r\n\t\t\t\t\t.preview-image {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.delete-icon {\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\ttop: 6rpx;\r\n\t\t\t\t\t\tright: 6rpx;\r\n\t\t\t\t\t\tbackground: rgba(0, 0, 0, 0.5);\r\n\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\tpadding: 4rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.upload-btn {\r\n\t\t\t\t\twidth: 150rpx;\r\n\t\t\t\t\theight: 150rpx;\r\n\t\t\t\t\tborder: 2rpx dashed #ddd;\r\n\t\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.tier-config {\r\n\t\t\t\t.tier-item {\r\n\t\t\t\t\tbackground-color: #f8f8f8;\r\n\t\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\t\tpadding: 20rpx;\r\n\t\t\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t\t\t.tier-header {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.tier-inputs {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\t\tgap: 16rpx;\r\n\r\n\t\t\t\t\t\t.tier-input {\r\n\t\t\t\t\t\t\tbackground-color: #fff;\r\n\t\t\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\t\t\tpadding: 16rpx;\r\n\t\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.add-tier {\r\n\t\t\t\t\tbackground-color: #e8f5ff;\r\n\t\t\t\t\tcolor: #1890ff;\r\n\t\t\t\t\tborder-radius: 40rpx;\r\n\t\t\t\t\tpadding: 12rpx 0;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tmargin-top: 10rpx;\r\n\r\n\t\t\t\t\t&::after {\r\n\t\t\t\t\t\tborder: none;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.submit-btn {\r\n\t\t\tborder-radius: 40rpx;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tpadding: 20rpx 0;\r\n\t\t\tmargin-top: 30rpx;\r\n\t\t\tbackground: linear-gradient(135deg, #8fecff, #c1ddff);\n\t\t\tcolor: #2c3e50;\n\t\t\tbox-shadow: 0 0.125rem 0.5rem rgba(0, 0, 0, 0.2);\n\t\t\t\n\t\t\t\r\n\t\t\t&:disabled {\r\n\t\t\t\tbackground-color: #cccccc;\r\n\t\t\t\topacity: 0.7;\r\n\t\t\t}\r\n\r\n\t\t\t&::after {\r\n\t\t\t\tborder: none;\r\n\t\t\t}\n\t\t\t\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\t/* 新增配置按钮样式 */\r\n\t.config-buttons {\r\n\t\tdisplay: flex;\r\n\t\tgap: 10rpx;\r\n\t\tmargin-top: 10rpx;\r\n\r\n\t\t.add-tier {\r\n\t\t\tflex: 1;\r\n\t\t\tbackground-color: #e8f5ff;\r\n\t\t\tcolor: #1890ff;\r\n\t\t\tborder-radius: 40rpx;\r\n\t\t\tpadding: 12rpx 0;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\ttext-align: center;\r\n\t\t\tmargin-top: 10rpx;\r\n\t\t\tline-height: 1.5;\r\n\r\n\t\t\t&::after {\r\n\t\t\t\tborder: none;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 新增标题行样式 */\r\n\t.form-label-row {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 16rpx;\r\n\r\n\t\t.form-label {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tfont-weight: 500;\r\n\t\t}\r\n\r\n\t\t.header-buttons {\r\n\t\t\tdisplay: flex;\r\n\t\t\tgap: 10rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 小按钮样式 */\r\n\t.small-btn {\r\n\t\tbackground-color: #171e22;\r\n\t\tcolor: white;\r\n\t\tborder-radius: 30rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\tpadding: 6rpx 16rpx;\r\n\t\tline-height: 1.4;\r\n\t\tmargin: 0;\r\n\r\n\t\t&::after {\r\n\t\t\tborder: none;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 调整档位项样式 */\r\n\t.tier-item {\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tbackground-color: #f8f8f8;\r\n\t\tborder-radius: 12rpx;\r\n\t\tpadding: 20rpx;\r\n\r\n\t\t.tier-header {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin-bottom: 16rpx;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tfont-weight: 500;\r\n\t\t}\r\n\r\n\t\t.tier-inputs {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tgap: 16rpx;\r\n\r\n\t\t\t.tier-input {\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\tpadding: 16rpx;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 移除底部按钮区域 */\r\n\t.config-buttons {\r\n\t\tdisplay: none;\r\n\t}\n\t\n\t.add-btn {\n\t\tposition: fixed;\n\t\tright: 40rpx;\n\t\tbottom: 120rpx;\n\t\twidth: 90rpx;\n\t\theight: 90rpx;\n\t\tbackground: linear-gradient(135deg, #a6e9f7, #1ed1e1);\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbox-shadow: 0 6rpx 20rpx rgba(30, 209, 225, 0.4);\n\t\tz-index: 99;\n\t\ttransition: all 0.3s ease;\n\t\n\t\t&:active {\n\t\t\ttransform: scale(0.95);\n\t\t\tbox-shadow: 0 4rpx 12rpx rgba(30, 209, 225, 0.3);\n\t\t}\n\t}\r\n</style>","import MiniProgramPage from '/Users/sapphirell/Documents/git/dogdogdoll-uniapp/pages/creator_base/order_plane/order_plane.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onMounted","uni","onShow","watch","websiteUrl","chooseImageList","getQiniuToken","uploadImageToQiniu"],"mappings":"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"}