{"version":3,"file":"artist_setting.js","sources":["pages/creator_base/artist_setting/artist_setting.vue","pages/creator_base/artist_setting/artist_setting.vue?type=page"],"sourcesContent":["<template>\n\t<view>\n\t\t\n\t\t<!-- 功能按钮区域 -->\n\t\t<view class=\"function-section\">\n\t\t\t<view class=\"function-item\" @click=\"navigateTo('makeupGallery')\">\n\t\t\t\t<view class=\"function-icon\">\n\t\t\t\t\t<uni-icons type=\"color\" size=\"24\" color=\"#3c3b48\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"function-info\">\n\t\t\t\t\t<text class=\"function-title\">设置妆图展示</text>\n\t\t\t\t\t<text class=\"function-desc\">管理你的妆面作品展示</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"function-arrow\">\n\t\t\t\t\t<uni-icons type=\"arrowright\" size=\"20\" color=\"#999\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"function-item\" @click=\"navigateTo('wigGallery')\">\n\t\t\t\t<view class=\"function-icon\">\n\t\t\t\t\t<uni-icons type=\"headphones\" size=\"24\" color=\"#3c3b48\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"function-info\">\n\t\t\t\t\t<text class=\"function-title\">设置假毛展示</text>\n\t\t\t\t\t<text class=\"function-desc\">管理你的假发作品展示</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"function-arrow\">\n\t\t\t\t\t<uni-icons type=\"arrowright\" size=\"20\" color=\"#999\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"function-item\" @click=\"navigateTo('profileEdit')\">\n\t\t\t\t<view class=\"function-icon\">\n\t\t\t\t\t<uni-icons type=\"person\" size=\"24\" color=\"#3c3b48\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"function-info\">\n\t\t\t\t\t<text class=\"function-title\">编辑个人信息</text>\n\t\t\t\t\t<text class=\"function-desc\">修改个人资料和联系方式</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"function-arrow\">\n\t\t\t\t\t<uni-icons type=\"arrowright\" size=\"20\" color=\"#999\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"function-item\" @click=\"navigateTo('orderPlan')\">\n\t\t\t\t<view class=\"function-icon\">\n\t\t\t\t\t<uni-icons type=\"calendar\" size=\"24\" color=\"#3c3b48\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"function-info\">\n\t\t\t\t\t<text class=\"function-title\">发布接单计划</text>\n\t\t\t\t\t<text class=\"function-desc\">设置你的接单时间和规则</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"function-arrow\">\n\t\t\t\t\t<uni-icons type=\"arrowright\" size=\"20\" color=\"#999\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { websiteUrl } from '@/common/config.js'\n\n\nconst activeTab = ref('')\nconst formData = ref({})\n\n// 页面跳转\nconst navigateTo = (type) => {\n  let url = ''\n  switch(type) {\n    case 'makeupGallery':\n      url = '/pages/creator_base/set_showcase/set_showcase'\n      break\n    case 'wigGallery':\n\t\tuni.showToast({\n\t\t\ttitle: \"将在下一个版本支持\",\n\t\t\ticon: 'none'\n\t\t})\n      // url = '/pages/artist/wigGallery'\n      break\n    case 'profileEdit':\n      url = '/pages/creator_base/artist_info/artist_info'\n      break\n    case 'orderPlan':\n      url = '/pages/creator_base/order_plane/order_plane'\n      break\n    default:\n      return\n  }\n  \n  uni.navigateTo({\n    url: url\n  })\n}\n\n// 获取创作者信息\nconst fetchArtistInfo = async () => {\n  const token = uni.getStorageSync('token')\n  if (!token) {\n    uni.showToast({\n      title: '请先登录',\n      icon: 'none'\n    })\n    return\n  }\n  uni.showLoading({\n    title: '加载中...'\n  })\n  try {\n    const res = await uni.request({\n      url: `${websiteUrl.value}/brand-manager/get-artist-info`,\n      method: 'GET',\n      header: {\n        Authorization: token\n      }\n    })\n    if (res.data.status === 'success') {\n      console.log(res.data.data)\n      const data = res.data.data\n      formData.value = {\n        artist_highlight_images: data.artist_highlight_images || [],\n        hairstylist_highlight_images: data.hairstylist_highlight_images || [],\n        status_of_artist: Number(data.status_of_artist) || 0,\n        status_of_hairstylist: Number(data.status_of_hairstylist) || 0,\n        base_price_of_artist: parseFloat(data.base_price_of_artist) || 0,\n        base_price_of_hairstylist: parseFloat(data.base_price_of_hairstylist) || 0,\n        overload_ratio_of_artist: parseFloat(data.overload_ratio_of_artist) || 1,\n        overload_ratio_of_hairstylist: parseFloat(data.overload_ratio_of_hairstylist) || 1,\n        rule_of_artist: data.rule_of_artist || '',\n        rule_of_hairstylist: data.rule_of_hairstylist || ''\n      }\n      // 设置身份状态\n      isArtist.value = data.status_of_artist > 0\n      isHairstylist.value = data.status_of_hairstylist > 0\n    } else {\n      uni.showToast({\n        title: res.data.msg || '获取信息失败',\n        icon: 'none'\n      })\n    }\n  } catch (error) {\n    console.error('获取创作者信息失败:', error)\n    uni.showToast({\n      title: '网络请求失败',\n      icon: 'none'\n    })\n  } finally {\n    uni.hideLoading()\n  }\n}\n\n// 初始化加载数据\nonMounted(() => {\n  // fetchArtistInfo()\n})\n</script>\n\n<style lang=\"less\">\n\n/* 功能按钮区域样式 */\n.function-section {\n  background: white;\n  border-radius: 16rpx;\n  margin: 20rpx;\n  overflow: hidden;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n}\n.function-item {\n  display: flex;\n  align-items: center;\n  padding: 30rpx;\n  border-bottom: 1rpx solid #f5f5f5;\n  transition: all 0.2s ease;\n  \n  &:active {\n    background-color: #f9f9f9;\n  }\n  \n  &:last-child {\n    border-bottom: none;\n  }\n}\n.function-icon {\n  width: 80rpx;\n  height: 80rpx;\n  margin-right: 20rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  image {\n    width: 60rpx;\n    height: 60rpx;\n  }\n}\n.function-info {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n.function-title {\n  font-size: 32rpx;\n  color: #333;\n  font-weight: 500;\n  margin-bottom: 8rpx;\n}\n.function-desc {\n  font-size: 24rpx;\n  color: #999;\n}\n.function-arrow {\n  margin-left: 20rpx;\n}\n</style>","import MiniProgramPage from '/Users/sapphirell/Documents/git/dogdogdoll-uniapp/pages/creator_base/artist_setting/artist_setting.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","onMounted","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;AA8DkBA,kBAAG,IAAC,EAAE;AACPA,kBAAG,IAAC,EAAE;AAGvB,UAAM,aAAa,CAAC,SAAS;AAC3B,UAAI,MAAM;AACV,cAAO,MAAI;AAAA,QACT,KAAK;AACH,gBAAM;AACN;AAAA,QACF,KAAK;AACPC,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,UACT,CAAG;AAEG;AAAA,QACF,KAAK;AACH,gBAAM;AACN;AAAA,QACF,KAAK;AACH,gBAAM;AACN;AAAA,QACF;AACE;AAAA,MACH;AAEDA,oBAAAA,MAAI,WAAW;AAAA,QACb;AAAA,MACJ,CAAG;AAAA,IACH;AA2DAC,kBAAAA,UAAU,MAAM;AAAA,IAEhB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxJD,GAAG,WAAWC,SAAe;"}