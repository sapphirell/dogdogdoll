{"version":3,"file":"index.js","sources":["pages/index/index.vue","pages/index/index.vue?type=page"],"sourcesContent":["<template>\n\t<meta name=\"theme-color\" content=\"#ffe6d7\">\n\t</meta>\n\t<common-page head_color=\"rgb(255 230 215) \">\n\t\t<view class=\"body\">\n\t\t\t<view class=\"index_header\">\n\t\t\t\t<view>\n\t\t\t\t\t<image src=\"/static/main/2.png\"\n\t\t\t\t\t\tstyle=\"width: 100rpx;height: 100rpx;display: inline-block;  vertical-align: top; \"\n\t\t\t\t\t\tmode=\"aspectFill\"></image>\n\t\t\t\t\t<view style=\"display: inline-block;\">\n\t\t\t\t\t\t<text class=\"font-alimamashuhei logo\"\n\t\t\t\t\t\t\tstyle=\"color: #4cbbd0;width: 250rpx;padding-top: 10rpx; vertical-align: top;position: relative;\">娃圈狗狗助手</text>\n\t\t\t\t\t</view>\n\n\t\t\t\t</view>\n\n\t\t\t\t<view>\n\t\t\t\t\t<common-search width=\"680rpx\"></common-search>\n\t\t\t\t\t<div style=\"clear: both;\"></div>\n\t\t\t\t</view>\n\t\t\t\t<view style=\"position: relative;height: 250rpx;\">\n\t\t\t\t\t<!-- 轮播图部分 -->\n\t\t\t\t\t<swiper :interval=\"3000\" :duration=\"200\" class=\"banner_swiper\" indicator-active-color=\"#4cbbd0\"\n\t\t\t\t\t\tindicator-color=\"rgba(255,255,255,0.5)\">\n\t\t\t\t\t\t<swiper-item v-for=\"item in data\" :key=\"item.id\" class=\"banner_swiper_item\">\n\t\t\t\t\t\t\t<!-- <view>{{item}}</view> -->\n\t\t\t\t\t\t\t<view class=\"swiper-item\">\n\t\t\t\t\t\t\t\t<image :src=\"item.banner\" mode=\"aspectFill\" style=\"width: 100%;height: 250rpx;\"\n\t\t\t\t\t\t\t\t\t@click=\"handleBannerClick(item)\" />\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</swiper-item>\n\n\t\t\t\t\t\t<!-- 空状态 -->\n\t\t\t\t\t\t<swiper-item v-if=\"data.length === 0\">\n\t\t\t\t\t\t\t<view class=\"empty-banner\">\n\t\t\t\t\t\t\t\t<image src=\"/static/default-banner.jpg\" mode=\"aspectFill\"\n\t\t\t\t\t\t\t\t\tstyle=\"width: 100%;height: 250rpx;\" />\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</swiper-item>\n\t\t\t\t\t</swiper>\n\n\n\t\t\t\t</view>\n\n\t\t\t\t<view style=\"margin: 40rpx 0rpx\">\n\t\t\t\t\t<!-- 四个小方块按钮 -->\n\t\t\t\t\t<view class=\"index_page_article\">\n\t\t\t\t\t\t<view class=\"swich_box\" :class=\"{ 'active': activeTab === 'news' }\" @click=\"switchTab('news')\">\n\t\t\t\t\t\t\t<image src=\"../../static/cat-1.png\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t\t<text>品牌图透</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"swich_box\" :class=\"{ 'active': activeTab === 'brands' }\"\n\t\t\t\t\t\t\t@click=\"switchTab('brands')\">\n\t\t\t\t\t\t\t<image src=\"../../static/cat-2.png\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t\t<text>品牌图鉴</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"swich_box\" :class=\"{ 'active': activeTab === 'hot' }\" @click=\"switchTab('hot')\">\n\t\t\t\t\t\t\t<image src=\"../../static/cat-3.png\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t\t<text>热门搭配</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"swich_box\" :class=\"{ 'active': activeTab === 'second' }\"\n\t\t\t\t\t\t\t@click=\"switchTab('second')\">\n\t\t\t\t\t\t\t<image src=\"../../static/cat-10.png\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t\t<text>树洞投稿</text>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"body_container\">\n\t\t\t\t<transition name=\"fade\" mode=\"out-in\">\n\t\t\t\t\t<!-- 品牌图透 -->\n\t\t\t\t\t<view class=\"body_list news-box\" v-if=\"activeTab === 'news'\">\n\t\t\t\t\t\t<view v-for=\"item in newsList\" :key=\"item.id\" class=\"news-item\" @tap=\"jump2saleNews(item)\">\n\t\t\t\t\t\t\t<view class=\"news-images\">\n\t\t\t\t\t\t\t\t<swiper v-if=\"item.image_list.length > 0\" class=\"image-swiper\" :autoplay=\"true\"\n\t\t\t\t\t\t\t\t\t:circular=\"true\">\n\t\t\t\t\t\t\t\t\t<swiper-item v-for=\"(img, idx) in item.image_list\" :key=\"idx\">\n\t\t\t\t\t\t\t\t\t\t<image :src=\"img\" mode=\"aspectFill\" class=\"swiper-image\" />\n\t\t\t\t\t\t\t\t\t</swiper-item>\n\t\t\t\t\t\t\t\t</swiper>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"news-content\">\n\t\t\t\t\t\t\t\t<text class=\"news-title\">{{ item.title }}</text>\n\t\t\t\t\t\t\t\t<text class=\"news-desc\">{{ item.content }}</text>\n\t\t\t\t\t\t\t\t<view class=\"news-footer\">\n\t\t\t\t\t\t\t\t\t<text class=\"brand-tag\">{{ item.brand_name }}</text>\n\t\t\t\t\t\t\t\t\t<text class=\"news-time\">{{ formatTime(item.created_at) }}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<!-- 加载状态 -->\n\t\t\t\t\t\t<view class=\"loading-more\">\n\t\t\t\t\t\t\t<text v-if=\"newsLoading\">加载中...</text>\n\t\t\t\t\t\t\t<text v-if=\"!newsHasMore\">没有更多了~</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</transition>\n\n\n\t\t\t\t<!-- 品牌图鉴 -->\n\t\t\t\t<transition name=\"fade\" mode=\"out-in\">\n\t\t\t\t\t<view class=\"body_list brand_box\" style=\"position: relative;\" v-if=\"activeTab === 'brands'\">\n\t\t\t\t\t\t<view class=\"filter-tabs\">\n\t\t\t\t\t\t\t<view v-for=\"(tab, index) in tabs\" :key=\"index\" class=\"tab-item\"\n\t\t\t\t\t\t\t\t:class=\"{ 'active': activeSearchType === tab.value }\"\n\t\t\t\t\t\t\t\t@click=\"handleTabClick(tab.value)\">\n\t\t\t\t\t\t\t\t{{ tab.label }}\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"brand_type_description\" style=\"display: block;width: 100%;\">\n\t\t\t\t\t\t\t<text v-if=\"activeSearchType == 1\">中国公司制作的BJD在打磨、分模线等工艺的处理上比较优秀，价格也比外社低很多。</text>\n\t\t\t\t\t\t\t<text v-if=\"activeSearchType == 2\">个人作者在贩售娃物前基本都是圈内玩家，在设计方面花的心思很多。</text>\n\t\t\t\t\t\t\t<text v-if=\"activeSearchType == 3\">国外娃社起步较早，风格设计也比较多样化。</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view v-for=\"(item, index) in brandsList\" :key=\"item.id\">\n\t\t\t\t\t\t\t<index-brand :brand=\"item\"></index-brand>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<!-- 添加加载状态提示 -->\n\t\t\t\t\t\t<view class=\"loading-more\">\n\t\t\t\t\t\t\t<text v-if=\"loading\">加载中...</text>\n\t\t\t\t\t\t\t<text v-if=\"!hasMore\">没有更多数据了</text>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t</view>\n\t\t\t\t</transition>\n\t\t\t\t<!-- 热门搭配 -->\n\t\t\t\t<transition name=\"fade\" mode=\"out-in\">\n\t\t\t\t\t<view class=\"body_list hot-box\" v-if=\"activeTab === 'hot'\">\n\t\t\t\t\t\t<view v-for=\"item in hotList\" :key=\"item.collocation_id\" class=\"hot-item\"\n\t\t\t\t\t\t\t@tap=\"jumpToCollocationDetail(item)\">\n\t\t\t\t\t\t\t<view class=\"images-box\">\n\t\t\t\t\t\t\t\t<swiper v-if=\"item.image_urls.length > 0\" class=\"image-swiper\" :autoplay=\"true\"\n\t\t\t\t\t\t\t\t\t:circular=\"true\">\n\t\t\t\t\t\t\t\t\t<swiper-item v-for=\"(img, idx) in item.image_urls\" :key=\"idx\">\n\t\t\t\t\t\t\t\t\t\t<image :src=\"img\" mode=\"aspectFill\" class=\"swiper-image\" />\n\t\t\t\t\t\t\t\t\t</swiper-item>\n\t\t\t\t\t\t\t\t</swiper>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"content-box\">\n\t\t\t\t\t\t\t\t<text class=\"title\">{{ item.title }}</text>\n\t\t\t\t\t\t\t\t<text class=\"desc\">{{ item.content }}</text>\n\t\t\t\t\t\t\t\t<view class=\"tags-box\">\n\t\t\t\t\t\t\t\t\t<view v-for=\"(tag, tIdx) in item.relation_list\" :key=\"tIdx\" class=\"tag-item\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"tag-text\">{{ tag.relation_goods_name }}</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"brand-text\">{{ tag.relation_brand_name }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"footer\">\n\t\t\t\t\t\t\t\t\t<view class=\"user-info\">\n\t\t\t\t\t\t\t\t\t\t<image :src=\"item.avatar\" class=\"avatar\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t\t\t\t\t<text class=\"time\"> 发布{{ item.origin == 1? \"搭配\" : \"展示柜\" }}于\n\t\t\t\t\t\t\t\t\t\t\t{{ formatTime(item.created_at) }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"like-box\">\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"heart\" size=\"18\" color=\"#ff4d4f\"></uni-icons>\n\t\t\t\t\t\t\t\t\t\t<text class=\"like-count\">{{ item.like_count }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<!-- 加载状态 -->\n\t\t\t\t\t\t<view class=\"loading-more\">\n\t\t\t\t\t\t\t<text v-if=\"hotLoading\">加载中...</text>\n\t\t\t\t\t\t\t<text v-if=\"!hotHasMore\">没有更多了~</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</transition>\n\t\t\t\t<!-- 说给树洞 -->\n\t\t\t\t<transition name=\"fade\" mode=\"out-in\">\n\t\t\t\t\t<view class=\"body_list treehole-box\" v-if=\"activeTab === 'second'\">\n\t\t\t\t\t\t<!-- 发布按钮 -->\n\t\t\t\t\t\t<view class=\"publish-btn\" @click=\"handlePublish\">\n\t\t\t\t\t\t\t<uni-icons type=\"plusempty\" size=\"30\" color=\"#fff\"></uni-icons>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<!-- 树洞列表 -->\n\t\t\t\t\t\t<view v-for=\"item in treeholeList\" :key=\"item.id\" class=\"treehole-item\"\n\t\t\t\t\t\t\t@tap=\"jump2treeholeDetail(item)\">\n\t\t\t\t\t\t\t<!-- 用户信息 -->\n\t\t\t\t\t\t\t<view class=\"user-info\" @tap.stop=\"jump2userWhenNotAnonymous(item)\">\n\n\t\t\t\t\t\t\t\t<image v-if=\"item.avatar !== ''\" :src=\"item.avatar\" class=\"avatar\" mode=\"aspectFill\">\n\t\t\t\t\t\t\t\t</image>\n\t\t\t\t\t\t\t\t<image v-else src=\"/static/noname.png\" class=\"avatar\" mode=\"scaleToFill\"></image>\n\t\t\t\t\t\t\t\t<text class=\"username\">{{ item.is_anonymous ? '匿名用户' : item.author_name }}</text>\n\t\t\t\t\t\t\t\t<text class=\"time\">{{ formatTime(item.created_at) }}</text>\n\t\t\t\t\t\t\t\t<text class=\"cid\">【{{item.id}}】</text>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- 内容 -->\n\t\t\t\t\t\t\t<text class=\"content\">{{ item.content }}</text>\n\n\t\t\t\t\t\t\t<!-- 图片 -->\n\t\t\t\t\t\t\t<view v-if=\"item.images.length > 0\" class=\"image-grid\">\n\t\t\t\t\t\t\t\t<swiper class=\"image-swiper\" :autoplay=\"true\" :circular=\"true\" indicator-dots>\n\t\t\t\t\t\t\t\t\t<swiper-item v-for=\"(img, idx) in item.images\" :key=\"idx\">\n\t\t\t\t\t\t\t\t\t\t<image :src=\"img\" mode=\"aspectFill\" class=\"swiper-image\"\n\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"previewImage(item.images, idx)\" />\n\t\t\t\t\t\t\t\t\t</swiper-item>\n\t\t\t\t\t\t\t\t</swiper>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- 操作栏 -->\n\t\t\t\t\t\t\t<view class=\"action-bar\">\n\t\t\t\t\t\t\t\t<view class=\"action-item\" @click=\"handleLike(item)\">\n\t\t\t\t\t\t\t\t\t<uni-icons :type=\"item.has_liked ? 'hand-up-filled' : 'hand-up'\" size=\"18\"\n\t\t\t\t\t\t\t\t\t\t:color=\"item.has_liked ? '#ff4d4f' : '#666'\"></uni-icons>\n\t\t\t\t\t\t\t\t\t<text class=\"count\">{{ item.like_count || 0 }}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"action-item\">\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"chat\" size=\"18\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t\t\t<text class=\"count\">{{ item.comment_count || 0 }}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"action-item\" @click.stop=\"copyUrl(item)\">\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"redo\" size=\"18\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t\t\t<text class=\"count\">分享</text>\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<!-- 加载状态 -->\n\t\t\t\t\t\t<view class=\"loading-more\">\n\t\t\t\t\t\t\t<text v-if=\"treeholeLoading\">加载中...</text>\n\t\t\t\t\t\t\t<text v-if=\"!treeholeHasMore\">没有更多了~</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</transition>\n\t\t\t</view>\n\n\n\t\t</view>\n\t</common-page>\n\n\n</template>\n\n<script setup>\n\timport {\n\t\tonLoad,\n\t\tonReachBottom,\n\t} from \"@dcloudio/uni-app\"\n\timport {\n\t\tref\n\t} from 'vue';\n\timport {\n\t\twebsiteUrl,\n\t\twechatSignLogin,\n\t\tgetUserInfo,\n\t\tglobal,\n\t} from \"../../common/config.js\";\n\n\t//轮播图组件\n\timport sdp from '@/components/swiper-dynamic-bullets/swiper-dynamic-bullets.vue';\n\tlet brandsList = ref([]);\n\tlet data = ref({})\n\n\t// 筛选相关代码\n\tconst tabs = ref([{\n\t\t\tlabel: '中国娃社',\n\t\t\tvalue: 1\n\t\t},\n\t\t{\n\t\t\tlabel: '个人作者',\n\t\t\tvalue: 2\n\t\t},\n\t\t{\n\t\t\tlabel: '外国娃社',\n\t\t\tvalue: 3\n\t\t},\n\t]);\n\t// 默认选中中国娃社\n\tconst activeSearchType = ref(1);\n\n\t//轮播\n\tvar swiperIndex = ref(0)\n\tconst systemInfo = uni.getSystemInfoSync();\n\t// const statusBarHeight = ref(systemInfo.statusBarHeight + 15);\n\t// console.log(\"状态栏高度\" + statusBarHeight.value)\n\n\t//收录Brands总数\n\tvar totalBrand = ref(0)\n\n\t//分页相关变量\n\tconst page = ref(1)\n\tconst pageSize = ref(10)\n\tconst hasMore = ref(true)\n\tconst loading = ref(false)\n\n\t// 图透部分\n\tlet newsList = ref([])\n\tconst newsPage = ref(1)\n\tconst newsPageSize = ref(10)\n\tconst newsHasMore = ref(true)\n\tconst newsLoading = ref(false)\n\n\t// 新增热门搭配相关变量\n\tlet hotList = ref([])\n\tconst hotPage = ref(1)\n\tconst hotPageSize = ref(10)\n\tconst hotHasMore = ref(true)\n\tconst hotLoading = ref(false)\n\n\t// 树洞相关变量\n\tlet treeholeList = ref([])\n\tconst treeholePage = ref(1)\n\tconst treeholePageSize = ref(10)\n\tconst treeholeHasMore = ref(true)\n\tconst treeholeLoading = ref(false)\n\n\n\t// 新增切换状态\n\tconst activeTab = ref('news')\n\t// 切换选项卡方法\n\tconst switchTab = (tab) => {\n\t\tactiveTab.value = tab\n\t\t// 这里可以添加切换时加载对应数据的逻辑\n\t}\n\n\tconst onShareAppMessage = () => ({\n\t\ttitle: 'BJD娃圈你想知道的这里都有~',\n\t\tpath: '/pages/news/news',\n\t\timageUrl: '/static/share',\n\t\tsuccess(res) {\n\t\t\tconsole.log('分享成功', res)\n\t\t},\n\t\tfail(err) {\n\t\t\tconsole.log('分享失败', err)\n\t\t},\n\t\tmp: {\n\t\t\twxpath: '/pages/index/index.html'\n\t\t}\n\t})\n\n\tfunction jump2collocationSquare() {\n\t\tuni.navigateTo({\n\t\t\turl: \"/pages/collocation_square/collocation_square\"\n\t\t})\n\t}\n\n\tconst handleBannerClick = (item) => {\n\t\t// console.log(item)\n\t\tuni.navigateTo({\n\t\t\turl: `/pages/article_detail/article_detail?id=${item.id}`\n\t\t})\n\t}\n\n\tfunction jump2saleNews(item) {\n\t\tuni.navigateTo({\n\t\t\turl: \"/pages/sale_news/sale_news?id=\" + item.id + \"&brand_id=\" + item.brand_id\n\t\t})\n\t}\n\t// 新增获取文章列表方法\n\tconst getArticles = () => {\n\t\tuni.request({\n\t\t\turl: websiteUrl + '/articles',\n\t\t\tdata: {\n\t\t\t\tpage: 1,\n\t\t\t\tpage_size: 10,\n\t\t\t\tstatus: 1 // 只获取已发布文章\n\t\t\t},\n\t\t\tsuccess: (res) => {\n\t\t\t\tif (res.data.status === 'success') {\n\t\t\t\t\t// 过滤有效banner并更新数据\n\t\t\t\t\tdata.value = res.data.data.list\n\t\t\t\t}\n\t\t\t},\n\t\t\tfail: (err) => {\n\t\t\t\tconsole.error('获取Banner失败:', err)\n\t\t\t\tdata.value = {}\n\t\t\t}\n\t\t})\n\t}\n\n\tfunction onChange(e) {\n\t\tthis.swiperIndex.value = e.detail.current\n\t}\n\n\tconst handleTabClick = (value) => {\n\t\t// 切换筛选类型时重置分页和数据\n\t\tif (activeSearchType.value === value) {\n\t\t\tactiveSearchType.value = null; // 点击已选中的tab取消筛选\n\t\t} else {\n\t\t\tactiveSearchType.value = value;\n\t\t}\n\t\tpage.value = 1;\n\t\thasMore.value = true;\n\t\tbrandsList.value = [];\n\t\tgetBrands();\n\t}\n\n\tfunction jump2userWhenNotAnonymous(item) {\n\t\tif (item.is_anonymous == 1) {\n\t\t\treturn\n\t\t}\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/user_page/user_page?uid=' + item.uid\n\t\t})\n\t}\n\n\tfunction copyUrl(item) {\n\t\tlet url = \"http://m.dogdogdoll.com/#/\" + \"pages/treehole_detail/treehole_detail?id=\" + item.id\n\t\t// 复制到剪贴板\n\t\tuni.setClipboardData({\n\t\t\tdata: url,\n\t\t\tsuccess: function() {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '复制链接成功',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction getNews() {\n\t\tif (!newsHasMore.value || newsLoading.value) return\n\n\t\tnewsLoading.value = true\n\t\tuni.showLoading()\n\t\tuni.request({\n\t\t\turl: websiteUrl + '/sale-news',\n\t\t\tdata: {\n\t\t\t\tpage: newsPage.value,\n\t\t\t\tpageSize: newsPageSize.value\n\t\t\t},\n\t\t\tsuccess: (res) => {\n\t\t\t\tconst newData = res.data.data.news_list\n\t\t\t\tif (newData.length === 0) {\n\t\t\t\t\tnewsHasMore.value = false\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tnewsList.value = [...newsList.value, ...newData]\n\t\t\t\tnewsHasMore.value = newsList.value.length < res.data.data.total\n\t\t\t\tnewsPage.value++\n\t\t\t},\n\t\t\tfail: (err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '加载失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t},\n\t\t\tcomplete: () => {\n\t\t\t\tnewsLoading.value = false\n\t\t\t\tuni.hideLoading()\n\t\t\t}\n\t\t})\n\t}\n\n\tfunction jump2treeholeDetail(item) {\n\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/treehole_detail/treehole_detail?id=' + item.id\n\t\t})\n\t}\n\n\t// 获取热门搭配数据\n\tfunction getHotCollocations() {\n\t\tif (!hotHasMore.value || hotLoading.value) return\n\n\t\thotLoading.value = true\n\t\tuni.showLoading()\n\t\tuni.request({\n\t\t\turl: websiteUrl + '/hot-collocation',\n\t\t\tdata: {\n\t\t\t\tpage: hotPage.value,\n\t\t\t\tpageSize: hotPageSize.value\n\t\t\t},\n\t\t\tsuccess: (res) => {\n\t\t\t\tconst newData = res.data.data.collocation_relation_list\n\t\t\t\tif (newData.length === 0) {\n\t\t\t\t\thotHasMore.value = false\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\thotList.value = [...hotList.value, ...newData.map(item => ({\n\t\t\t\t\t...item,\n\t\t\t\t}))]\n\t\t\t\thotHasMore.value = hotList.value.length < res.data.data.total\n\t\t\t\thotPage.value++\n\t\t\t},\n\t\t\tfail: (err) => {\n\t\t\t\tconsole.log(err)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '加载失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t},\n\t\t\tcomplete: () => {\n\t\t\t\thotLoading.value = false\n\t\t\t\tuni.hideLoading()\n\t\t\t}\n\t\t})\n\t}\n\n\t// 跳转到搭配详情\n\tfunction jumpToCollocationDetail(item) {\n\t\tuni.navigateTo({\n\t\t\turl: `/pages/collocation_share/collocation_share?collocation_id=${item.collocation_id}&origin=${item.origin}`\n\t\t})\n\t}\n\n\n\tfunction getBrands() {\n\t\tif (!hasMore.value || loading.value) {\n\t\t\treturn\n\t\t}\n\n\t\tloading.value = true;\n\t\tuni.showLoading();\n\t\tuni.request({\n\t\t\turl: websiteUrl + '/brands',\n\t\t\tdata: {\n\t\t\t\tpage: page.value,\n\t\t\t\tpageSize: pageSize.value,\n\t\t\t\t...(activeSearchType.value && {\n\t\t\t\t\tsearchType: activeSearchType.value\n\t\t\t\t})\n\t\t\t},\n\t\t\tsuccess: (res) => {\n\t\t\t\tconst newData = res.data.data.brands_list;\n\t\t\t\tif (newData.length === 0) {\n\t\t\t\t\thasMore.value = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tbrandsList.value = [...brandsList.value, ...newData];\n\t\t\t\t//是否还有更多数据\n\t\t\t\thasMore.value = brandsList.value.length < res.data.data.total;\n\t\t\t\tpage.value++;\n\t\t\t},\n\t\t\tfail: (err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '网络请求失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t},\n\t\t\tcomplete: () => {\n\t\t\t\tloading.value = false\n\t\t\t\tuni.hideLoading()\n\t\t\t}\n\t\t})\n\t}\n\n\n\t// 获取树洞列表\n\tfunction getTreeholeList() {\n\t\tif (!treeholeHasMore.value || treeholeLoading.value) return\n\n\t\ttreeholeLoading.value = true\n\t\tuni.showLoading()\n\t\tuni.request({\n\t\t\turl: websiteUrl + '/treehole-submissions',\n\t\t\tdata: {\n\t\t\t\tpage: treeholePage.value,\n\t\t\t\tpageSize: treeholePageSize.value\n\t\t\t},\n\t\t\tsuccess: (res) => {\n\t\t\t\tconst newData = res.data.data.submission_list.map(item => ({\n\t\t\t\t\t...item,\n\t\t\t\t\timages: item.images || []\n\t\t\t\t}))\n\n\t\t\t\tif (newData.length === 0) {\n\t\t\t\t\ttreeholeHasMore.value = false\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\ttreeholeList.value = [...treeholeList.value, ...newData]\n\t\t\t\ttreeholeHasMore.value = treeholeList.value.length < res.data.data.total\n\t\t\t\ttreeholePage.value++\n\t\t\t},\n\t\t\tfail: (err) => {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '加载失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t},\n\t\t\tcomplete: () => {\n\t\t\t\ttreeholeLoading.value = false\n\t\t\t\tuni.hideLoading()\n\t\t\t}\n\t\t})\n\t}\n\n\t// 处理发布\n\tfunction handlePublish() {\n\t\t// 检查登录状态\n\t\tif (!global.isLogin) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '需要登录后才能发布树洞',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.confirm) uni.navigateTo({\n\t\t\t\t\t\turl: '/pages/login/login'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/treehole_publish/treehole_publish'\n\t\t})\n\t}\n\n\t// 图片预览\n\tfunction previewImage(images, index) {\n\n\t\tuni.previewImage({\n\t\t\tcurrent: index,\n\t\t\turls: images\n\t\t})\n\n\t}\n\n\t// 处理点赞\n\tfunction handleLike(item) {\n\t\tif (!global.isLogin) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '请先登录',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\tlet token = uni.getStorageSync('token')\n\t\tif (!token) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '请先登录',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\tuni.request({\n\t\t\turl: websiteUrl + (item.has_liked ? '/with-state/unlike' : '/with-state/add-like'),\n\t\t\tmethod: 'POST',\n\t\t\theader: {\n\t\t\t\tAuthorization: token,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\tid: item.id,\n\t\t\t\ttype: 5\n\t\t\t}, // 5表示树洞类型\n\t\t\tsuccess: (res) => {\n\t\t\t\tif (res.data.status === \"success\") {\n\t\t\t\t\titem.has_liked = !item.has_liked\n\t\t\t\t\titem.like_count += item.has_liked ? 1 : -1\n\t\t\t\t} else {\n\t\t\t\t\tuni.showD\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\n\t// 时间格式化方法\n\tconst formatTime = (timestamp) => {\n\t\tconst date = new Date(timestamp * 1000)\n\t\treturn `${date.getFullYear()}-${date.getMonth()+1}-${date.getDate()}`\n\t}\n\n\t// 初始化加载\n\tonLoad(() => {\n\t\tgetUserInfo()\n\t\tgetBrands()\n\t\tgetNews() // 新增初始化加载\n\t\tgetHotCollocations()\n\t\t//加载树洞\n\t\tgetTreeholeList()\n\t\t//获取轮播图\n\t\tgetArticles()\n\t})\n\n\n\n\t// 上拉加载更多\n\tonReachBottom(() => {\n\t\tif (activeTab.value === 'brands') {\n\t\t\tgetBrands()\n\t\t} else if (activeTab.value === 'news') {\n\t\t\tgetNews()\n\t\t} else if (activeTab.value === 'second') {\n\t\t\tgetTreeholeList()\n\t\t}\n\t})\n</script>\n\n<style lang=\"scss\" scoped>\n\t.body {\n\t\t/* background: linear-gradient(180deg, rgb(218 238 255) 0%, rgb(255 255 255) 100%); */\n\t\t// background: #fff;\n\t}\n\n\t.index_header {\n\t\t// background: linear-gradient(180deg, rgb(218 238 255) 0%, rgb(255 255 255) 100%);\n\t\tbackground: linear-gradient(180deg, rgb(255 230 215) 0%, rgb(211 245 255) 100%);\n\t\t// background: transparent;\n\t\tpadding: 15rpx;\n\t\tpadding-bottom: 30rpx;\n\t\tcolor: #4cbbd0;\n\t\tdisplay: block;\n\n\t\t.logo {\n\t\t\tmargin: 20rpx 10rpx;\n\t\t\tdisplay: block;\n\t\t\twidth: 100rpx;\n\t\t\tfont-size: 30rpx;\n\t\t\tfont-weight: 1000;\n\t\t\t// position: relative;\n\t\t\t// top: 10rpx;\n\t\t}\n\n\t\t.domain_text {\n\t\t\tfont-size: 13rpx;\n\t\t}\n\n\n\t\t/* 四个小按钮 */\n\t\t.index_page_article {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-around;\n\t\t\theight: 100rpx;\n\t\t\twidth: 100%;\n\n\t\t\t.swich_box {\n\t\t\t\tbackground: #fff;\n\t\t\t\twidth: 130rpx;\n\t\t\t\theight: 130rpx;\n\t\t\t\talign-items: center;\n\t\t\t\tborder-radius: 10rpx;\n\n\t\t\t\t/* 基础样式 */\n\t\t\t\tposition: relative;\n\t\t\t\ttransition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\t\t\t\ttransform: scale(1);\n\n\t\t\t\t/* 初始状态 */\n\t\t\t\tbackground: rgba(255, 255, 255, 0.9);\n\t\t\t\tbox-shadow: 0 4rpx 12rpx rgba(76, 187, 208, 0.1);\n\n\t\t\t\t&::after {\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\t// background: linear-gradient(180deg, #f3ebff 0%, #9dc4cf 100%);\n\t\t\t\t\tbackground: linear-gradient(180deg, #e0cbff 0%, #a5ceda 100%);\n\t\t\t\t\topacity: 0;\n\t\t\t\t\ttransition: opacity 0.3s ease;\n\t\t\t\t\tborder-radius: 100%;\n\t\t\t\t}\n\n\t\t\t\t/* 激活状态 */\n\t\t\t\t&.active {\n\t\t\t\t\ttransform: scale(0.98);\n\t\t\t\t\tborder-radius: 100%;\n\n\t\t\t\t\t&::after {\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t}\n\n\t\t\t\t\ttext {\n\t\t\t\t\t\ttransform: translateY(2rpx);\n\t\t\t\t\t\tcolor: #fff;\n\t\t\t\t\t}\n\n\t\t\t\t\timage {\n\t\t\t\t\t\ttransform: scale(1.05) translateY(-4rpx);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\ttext {\n\t\t\t\t\ttransition: all 0.3s ease;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tz-index: 1;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tcolor: #4cbbd0;\n\t\t\t\t\tborder-radius: 5rpx;\n\t\t\t\t\tmargin-right: 10rpx;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tfont-size: 20rpx;\n\t\t\t\t\tfont-weight: 1000;\n\t\t\t\t}\n\n\t\t\t\timage {\n\t\t\t\t\ttransition: all 0.3s ease;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tz-index: 1;\n\t\t\t\t\twidth: 40rpx;\n\t\t\t\t\theight: 40rpx;\n\t\t\t\t\tmargin: auto;\n\t\t\t\t\tmargin-top: 20rpx;\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tpadding: 10rpx;\n\t\t\t\t\tbackground: #fff;\n\t\t\t\t\tborder-radius: 100%;\n\t\t\t\t}\n\n\t\t\t\t/* 点击涟漪效果 */\n\t\t\t\t&:active:not(.active) {\n\t\t\t\t\ttransform: scale(0.95);\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t}\n\t}\n\n\t.body_container {\n\t\tborder-radius: 1.25rem 1.25rem 0 0;\n\t\toverflow: hidden;\n\t\tbackground: #fff;\n\t}\n\n\t.body_list {\n\t\tposition: relative;\n\t\tmin-height: 110vh;\n\n\t\t// top: -60rpx;\n\t\ttransition: all 0.3s ease;\n\t\ttransform-origin: top center;\n\n\t\t// 保证初始状态样式\n\t\t&::before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\theight: 30rpx;\n\t\t\tbackground: inherit;\n\t\t\tborder-radius: 1.25rem 1.25rem 0 0;\n\t\t}\n\t}\n\n\t// 选项卡\n\t.filter-tabs {\n\t\tdisplay: flex;\n\t\tjustify-content: space-around;\n\t\tpadding: 20rpx 0;\n\t\tbackground: #fff;\n\t\tposition: sticky;\n\t\ttop: 0;\n\t\tz-index: 1;\n\t}\n\n\t.tab-item {\n\t\tpadding: 10rpx 20rpx;\n\t\tborder-radius: 30rpx;\n\t\tborder: 1rpx solid #4cbbd0;\n\t\tcolor: #4cbbd0;\n\t\tfont-size: 26rpx;\n\t\ttransition: all 0.3s;\n\t\tmargin: 0 20rpx;\n\t\theight: 26rpx;\n\t\tline-height: 26rpx;\n\n\t\t&.active {\n\t\t\tbackground: #4cbbd0;\n\t\t\tcolor: #fff;\n\t\t}\n\t}\n\n\t.index_search_box {\n\t\twidth: calc(100vw - 145rpx);\n\t\tborder-radius: 15rpx;\n\t\tbackground-color: #fff;\n\n\t\t.icon_image {\n\t\t\twidth: 25rpx;\n\t\t\theight: 25rpx;\n\t\t}\n\n\t\t.common_search_input {\n\t\t\twidth: 75% !important;\n\t\t\tmargin-left: 5rpx !important;\n\t\t}\n\n\n\t}\n\n\t.index_avatar {\n\n\t\tfloat: right;\n\n\t\timage {\n\t\t\tborder-radius: 100%;\n\t\t\twidth: 30rpx;\n\t\t\theight: 30rpx;\n\t\t}\n\t}\n\n\t.search_input {\n\t\t/* width: calc(100vw-25rpx); */\n\t\tdisplay: inline;\n\t}\n\n\t.brand_box {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: flex-start;\n\t\t/* 修改为从左开始 */\n\t\tgap: 10rpx;\n\t\twidth: 100vw;\n\t\tpadding: 0 15rpx;\n\t\t/* 添加两侧间距 */\n\t\tbox-sizing: border-box;\n\n\t\toverflow: hidden;\n\t\tposition: relative;\n\t\tbox-shadow: 0 0px 10px #ffffff30;\n\n\t\t.dolls {\n\t\t\t/* 计算宽度：屏幕宽度减去两侧padding后分4列 */\n\t\t\twidth: calc((100% - 30rpx - 3*10rpx) / 4);\n\t\t\t/* 解释：\n\t\t   100% = 父容器宽度\n\t\t   30rpx = 两侧padding（15rpx*2）\n\t\t   3*10rpx = 3个间隙（4列有3个间隙）\n\t\t*/\n\t\t\tbox-sizing: border-box;\n\n\t\t\t/* 如果内容需要保持宽高比可以添加 */\n\t\t\taspect-ratio: 1/1;\n\t\t\t/* 可选：保持正方形 */\n\t\t}\n\t}\n\n\t/*轮播图*/\n\t.banner_swiper {\n\t\twidth: calc(100vw - 40rpx);\n\t\tbox-sizing: border-box;\n\t\tmargin: 20rpx 5rpx;\n\t\tborder-radius: 10rpx;\n\t\toverflow: hidden;\n\t\theight: 250rpx;\n\t\tposition: relative;\n\n\n\t\t&::after {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\theight: 60rpx;\n\t\t\tbackground: linear-gradient(transparent, rgba(0, 0, 0, 0.2));\n\t\t\tz-index: 1;\n\t\t}\n\n\t\t.banner_swiper_item {\n\t\t\tbackground: #fff;\n\t\t}\n\t}\n\n\t.loading-more {\n\t\tdisplay: block;\n\t\twidth: 100vw;\n\n\t\ttext {\n\t\t\tdisplay: block;\n\t\t\ttext-align: center;\n\t\t\twidth: 100%;\n\t\t\tcolor: #888;\n\t\t}\n\t}\n\n\t//  图透样式\n\n\t.news-box {\n\t\tpadding: 20rpx;\n\t\tposition: relative;\n\t\tpadding-top: 50rpx;\n\n\t\t.news-item {\n\t\t\tmargin-bottom: 30rpx;\n\t\t\tmargin: 0rpx 20rpx 30rpx 20rpx;\n\t\t\tborder-radius: 16rpx;\n\t\t\toverflow: hidden;\n\t\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n\t\t\tdisplay: flex;\n\n\t\t\t.news-images {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\twidth: 200rpx;\n\t\t\t\tmin-height: 250rpx;\n\n\t\t\t}\n\n\t\t\t.image-swiper {\n\n\t\t\t\t.swiper-image {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.news-content {\n\t\t\t\tpadding: 10rpx 20rpx 20rpx 20rpx;\n\t\t\t\twidth: 400rpx;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tposition: relative;\n\n\t\t\t\t.news-title {\n\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\tcolor: #333;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tmargin-bottom: 10rpx;\n\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t\t\t-webkit-line-clamp: 1;\n\t\t\t\t}\n\n\t\t\t\t.news-desc {\n\t\t\t\t\tfont-size: 22rpx;\n\t\t\t\t\tcolor: #666;\n\t\t\t\t\tline-height: 1.6;\n\t\t\t\t\tdisplay: -webkit-box;\n\t\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t\t\t-webkit-line-clamp: 2;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t}\n\n\t\t\t\t.news-footer {\n\t\t\t\t\tmargin-top: 20rpx;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tbottom: 20rpx;\n\n\t\t\t\t\t.brand-tag {\n\t\t\t\t\t\tbackground: #4cbbd0;\n\t\t\t\t\t\tcolor: #fff;\n\t\t\t\t\t\tpadding: 4rpx 12rpx;\n\t\t\t\t\t\tborder-radius: 6rpx;\n\t\t\t\t\t\tfont-size: 20rpx;\n\t\t\t\t\t\tmargin-right: 15rpx;\n\t\t\t\t\t}\n\n\t\t\t\t\t.news-time {\n\t\t\t\t\t\tcolor: #999;\n\t\t\t\t\t\tfont-size: 20rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.loading-more {\n\t\t\tpadding: 30rpx 0;\n\t\t\ttext-align: center;\n\t\t\tcolor: #888;\n\t\t}\n\t}\n\n\n\t.hot-box {\n\t\tpadding: 20rpx;\n\t\tpadding-top: 50rpx;\n\n\t\t.hot-item {\n\t\t\tmargin: 0 20rpx 30rpx;\n\t\t\tbackground: #fff;\n\t\t\tborder-radius: 16rpx;\n\t\t\toverflow: hidden;\n\t\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n\n\t\t\t.images-box {\n\t\t\t\theight: 400rpx;\n\n\t\t\t\t.image-swiper {\n\t\t\t\t\theight: 100%;\n\n\t\t\t\t\t.swiper-image {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.content-box {\n\t\t\t\tpadding: 20rpx;\n\n\t\t\t\t.title {\n\t\t\t\t\tfont-size: 32rpx;\n\t\t\t\t\tcolor: #333;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tmargin-bottom: 10rpx;\n\t\t\t\t}\n\n\t\t\t\t.desc {\n\t\t\t\t\tfont-size: 26rpx;\n\t\t\t\t\tcolor: #666;\n\t\t\t\t\tline-height: 1.4;\n\t\t\t\t\tdisplay: -webkit-box;\n\t\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t\t\t-webkit-line-clamp: 2;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\tmargin-bottom: 20rpx;\n\t\t\t\t}\n\n\t\t\t\t.tags-box {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-wrap: wrap;\n\t\t\t\t\tgap: 10rpx;\n\t\t\t\t\tmargin-bottom: 20rpx;\n\n\t\t\t\t\t.tag-item {\n\t\t\t\t\t\tbackground: #f5f5f5;\n\t\t\t\t\t\tborder-radius: 6rpx;\n\t\t\t\t\t\tpadding: 6rpx 12rpx;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\n\t\t\t\t\t\t.tag-text {\n\t\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\t\tcolor: #4cbbd0;\n\t\t\t\t\t\t\tmargin-right: 8rpx;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t.brand-text {\n\t\t\t\t\t\t\tfont-size: 22rpx;\n\t\t\t\t\t\t\tcolor: #999;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.footer {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\talign-items: center;\n\n\t\t\t\t\t.user-info {\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\n\t\t\t\t\t\t.avatar {\n\t\t\t\t\t\t\twidth: 40rpx;\n\t\t\t\t\t\t\theight: 40rpx;\n\t\t\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\t\tmargin-right: 10rpx;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t.time {\n\t\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\t\tcolor: #999;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t.like-box {\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\n\t\t\t\t\t\t.like-count {\n\t\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\t\tcolor: #ff4d4f;\n\t\t\t\t\t\t\tmargin-left: 6rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.loading-more {\n\t\t\tpadding: 30rpx 0;\n\t\t\ttext-align: center;\n\t\t\tcolor: #888;\n\t\t}\n\t}\n\n\t// 说给树洞\n\t/* 在style部分新增以下样式 */\n\t.treehole-box {\n\t\tpadding: 20rpx;\n\t\tpadding-top: 50rpx;\n\t}\n\n\t.treehole-item {\n\t\tbackground: #fff;\n\t\tborder-radius: 16rpx;\n\t\tmargin: 0 20rpx 30rpx;\n\t\tpadding: 20rpx;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n\t}\n\n\t.user-info {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 20rpx;\n\n\t\t.avatar {\n\t\t\twidth: 60rpx;\n\t\t\theight: 60rpx;\n\t\t\tborder-radius: 50%;\n\t\t\tmargin-right: 15rpx;\n\t\t}\n\n\t\t.cid {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #666;\n\t\t\tmargin-left: 20rpx;\n\t\t}\n\n\t\t.username {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #333;\n\t\t\tmargin-right: 60rpx;\n\t\t\twidth: 250rpx;\n\t\t\toverflow: hidden;\n\t\t\tmargin-left: 10rpx;\n\t\t\tmargin-right: 40rpx;\n\t\t\tfont-weight: 800;\n\t\t\tdisplay: inline-block;\n\n\t\t\t// 只显示一行\n\t\t\toverflow: hidden;\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t\t// display: -webkit-box;\n\t\t\t-webkit-box-orient: vertical;\n\t\t\t-webkit-line-clamp: 1;\n\t\t}\n\n\t\t.time {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n\n\t.content {\n\t\tfont-size: 22rpx;\n\t\tcolor: #888;\n\t\tline-height: 1.6;\n\t\tmargin-bottom: 30rpx;\n\t\tdisplay: inline-block;\n\t}\n\n\t.image-grid {\n\t\tmargin-bottom: 20rpx;\n\n\t\t.image-swiper {\n\t\t\theight: 400rpx;\n\t\t\tborder-radius: 12rpx;\n\t\t\toverflow: hidden;\n\n\t\t\t.swiper-image {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\t}\n\n\t.action-bar {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding-top: 20rpx;\n\t\tborder-top: 1rpx solid #eee;\n\n\t\t.action-item {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tmargin-right: 40rpx;\n\n\t\t\t.count {\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #666;\n\t\t\t\tmargin-left: 8rpx;\n\t\t\t}\n\t\t}\n\t}\n\n\t.publish-btn {\n\t\tposition: fixed;\n\t\tright: 40rpx;\n\t\tbottom: 120rpx;\n\t\twidth: 100rpx;\n\t\theight: 100rpx;\n\t\tbackground: #4cbbd0;\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tbox-shadow: 0 8rpx 20rpx rgba(76, 187, 208, 0.3);\n\t\tz-index: 999;\n\t}\n\n\n\n\n\t/* 全局过渡动画 */\n\t.fade-enter-active,\n\t.fade-leave-active {\n\t\ttransition:\n\t\t\topacity 0.3s ease,\n\t\t\ttransform 0.3s ease;\n\t}\n\n\t.fade-enter-from {\n\t\topacity: 0;\n\t\ttransform: translateY(20rpx) scale(0.98);\n\t}\n\n\t.fade-leave-to {\n\t\topacity: 0;\n\t\ttransform: translateY(-20rpx) scale(0.98);\n\t}\n\n\t.body {\n\t\tposition: relative;\n\t\tmin-height: 100vh;\n\t\t/* 确保有足够的高度 */\n\t\tbackground: #d3f5ff;\n\t}\n\n\t.brand_type_description {\n\t\ttext {\n\t\t\tfont-size: 22rpx;\n\t\t\tcolor: #888;\n\t\t\tpadding: 10rpx 30rpx;\n\t\t}\n\t}\n\n\n\t.brand_type_description {\n\t\tbackground: rgba(76, 187, 208, 0.05);\n\t\tborder-radius: 12rpx;\n\t\tpadding: 24rpx;\n\t\tmargin: 20rpx 0;\n\t\tposition: relative;\n\t\toverflow: hidden;\n\n\t\t&::before {\n\t\t\tcontent: \"\";\n\t\t\tposition: absolute;\n\t\t\tleft: 0;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\t\t\twidth: 4rpx;\n\t\t\theight: 70%;\n\t\t\tbackground: #4cbbd0;\n\t\t\tborder-radius: 4rpx;\n\t\t}\n\n\t\ttext {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #7f8c8d;\n\t\t\tline-height: 1.6;\n\t\t\tdisplay: block;\n\t\t\tpadding-left: 16rpx;\n\t\t\tposition: relative;\n\t\t\ttext-align: justify;\n\n\t\t\t&::after {\n\t\t\t\tcontent: \" 🐻 \";\n\t\t\t\tcolor: rgba(76, 187, 208, 0.2);\n\t\t\t\tposition: absolute;\n\t\t\t\tfont-size: 40rpx;\n\t\t\t\tright: -10rpx;\n\t\t\t\tbottom: -20rpx;\n\t\t\t\ttransform: rotate(15deg);\n\t\t\t}\n\t\t}\n\n\n\n\t}\n</style>","import MiniProgramPage from '/Users/sapphirell/Documents/git/dogdogdoll-uniapp/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","websiteUrl","global","onLoad","getUserInfo","onReachBottom"],"mappings":"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"}