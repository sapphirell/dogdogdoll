{"version":3,"file":"stock.js","sources":["pages/stock/stock.vue","pages/stock/stock.vue?type=page"],"sourcesContent":["<template>\r\n\t<meta name=\"theme-color\" content=\"#d8deff\">\r\n\t</meta>\r\n\t<common-page head_color=\"#d8deff\">\r\n\t\t<view class=\"container\" style=\"overflow: hidden;\">\r\n\t\t\t<view class=\"head_container\">\r\n\t\t\t\t<view class=\"switch_tab\">\r\n\t\t\t\t\t<button @click=\"switch_tab(1)\" class=\"font-alimamashuhei\" :class=\"{'active': activeTab === 1}\">\r\n\t\t\t\t\t\t<text>我的物品</text>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button @click=\"switch_tab(2)\" class=\"font-alimamashuhei\" :class=\"{'active': activeTab === 2}\">\r\n\t\t\t\t\t\t<text>展示柜</text>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button @click=\"switch_tab(3)\" class=\"font-alimamashuhei\" :class=\"{'active': activeTab === 3}\">\r\n\t\t\t\t\t\t<text>尾款日历</text>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"data_body\">\r\n\t\t\t\t<uni-transition :name=\"transitionName()\" :mode-class=\"['fade', 'slide-left']\" :duration=\"300\"\r\n\t\t\t\t\t:show=\"activeTab === 1\">\r\n\r\n\t\t\t\t\t<view class=\"tab_body_1st\">\r\n\t\t\t\t\t\t<view class=\"type-header\">\r\n\t\t\t\t\t\t\t<picker class=\"type-picker\" mode=\"selector\" :value=\"selectedType\" :range=\"typeOptions\"\r\n\t\t\t\t\t\t\t\t@change=\"updateSelectedType\">\r\n\t\t\t\t\t\t\t\t<view class=\"uni-input\">{{ typeOptions[selectedType] }}</view>\r\n\t\t\t\t\t\t\t</picker>\r\n\t\t\t\t\t\t\t<text class=\"manage-btn\" @tap=\"showTypeModal\">管理分类</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"summary-container\">\r\n\t\t\t\t\t\t\t<text class=\"total-text\">当前分类合计：¥{{ totalPrice }}</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\r\n\t\t\t\t\t\t<view class=\"content\" v-if=\"accountBookData.account_books?.length > 0\">\r\n\t\t\t\t\t\t\t<view class=\"content-grid\">\r\n\t\t\t\t\t\t\t\t<view v-for=\"(item, index) in accountBookData.account_books\" :key=\"index\"\r\n\t\t\t\t\t\t\t\t\tclass=\"grid-item\" @tap=\"go2editor(item.id)\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"getFirstImage(item.image_url)\" mode=\"aspectFill\" class=\"item-image\"></image>\r\n\t\t\t\t\t\t\t\t\t<text class=\"item-type\">{{ item.type }}</text>\r\n\t\t\t\t\t\t\t\t\t<view class=\"item-info\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"item-price\">{{ item.price }}￥</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"item-info\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"item-name one_line_text\">{{ item.name }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"empty-state\" v-else style=\"position: relative;bottom: 80px;\">\r\n\t\t\t\t\t\t\t<image class=\"empty-icon\" src=\"/static/empty.jpg\"></image>\r\n\t\t\t\t\t\t\t<text class=\"empty-text\">空空如也～</text>\r\n\t\t\t\t\t\t\t<text class=\"empty-tip\">点击下方按钮添加第一个物品吧！</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\n\t\t\t\t\t\t<!-- <view class=\"floating-button\" @tap=\"go2addAccountBook\">\n\t\t\t\t\t\t\t<uni-icons type=\"plusempty\" size=\"30\" color=\"#fff\"></uni-icons>\n\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</uni-transition>\r\n\t\t\t\t<uni-transition :name=\"transitionName()\" :mode-class=\"transitionName()\" :duration=\"300\"\r\n\t\t\t\t\t:show=\"activeTab === 2\">\r\n\r\n\t\t\t\t\t<view class=\"tab_body_sec\">\r\n\t\t\t\t\t\t<!-- 展示柜 -->\r\n\t\t\t\t\t\t<view v-if=\"showcaseData.showcases && showcaseData.showcases.length > 0\"\r\n\t\t\t\t\t\t\tclass=\"showcase-container\">\r\n\t\t\t\t\t\t\t<view v-for=\"(item, index) in showcaseData.showcases\" :key=\"index\" class=\"showcase-card\"\r\n\t\t\t\t\t\t\t\t@tap=\"go2editorShowCase(item.id)\">\r\n\t\t\t\t\t\t\t\t<view v-if=\"item.display !== 1\" class=\"status-overlay\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"status-text\">{{ getStatusText(item.display) }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t<view class=\"card-content\" :class=\"{ 'blur-effect': item.display !== 1 }\">\r\n\t\t\t\t\t\t\t\t\t<image :src=\"item.image_url_list[0]\" mode=\"aspectFill\" class=\"showcase-image\">\r\n\t\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"showcase-info\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"showcase-title one_line_text\">{{ item.name }}</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"showcase-description multi_line_text\">{{ item.description }}</text>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"interaction-bar\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"interaction-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image src=\"/static/eye.png\" class=\"interaction-icon\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"interaction-count\">{{ item.views || 0 }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"interaction-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<image src=\"/static/6.png\" class=\"interaction-icon\"></image>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"interaction-count\">{{ item.likes || 0 }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"empty-state\" v-else>\r\n\t\t\t\t\t\t\t<image class=\"empty-icon\" src=\"/static/empty.jpg\"></image>\r\n\t\t\t\t\t\t\t<text class=\"empty-text\">展示柜空空如也</text>\r\n\t\t\t\t\t\t\t<text class=\"empty-tip\">快来创建你的展示空间吧！</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 添加展示柜数据 -->\n\t\t\t\t\t\t<!-- <view class=\"floating-button\" @tap=\"go2addShowCase\">\n\t\t\t\t\t\t\t<uni-icons type=\"plusempty\" size=\"30\" color=\"#fff\"></uni-icons>\n\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</uni-transition>\r\n\t\t\t\t<uni-transition :name=\"transitionName()\" :mode-class=\"['fade', 'slide-bottom']\" :duration=\"300\"\r\n\t\t\t\t\t:show=\"activeTab === 3\">\r\n\r\n\t\t\t\t\t<view class=\"tab_body_3th\">\r\n\t\t\t\t\t\t<view class=\"calendar-container\" v-if=\"Object.keys(billData).length > 0\">\r\n\t\t\t\t\t\t\t<view v-for=\"(bills, month) in billData\" :key=\"month\">\r\n\t\t\t\t\t\t\t\t<view class=\"month-header-container\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"month-header font-alimamashuhei\">{{ month }} 账单</text>\n\t\t\t\t\t\t\t\t\t<!-- 已补/总计：{{ countPaid(bills) }}/{{ bills.length }} -->\r\n\t\t\t\t\t\t\t\t\t<text class=\"month-stats\">\r\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t{{ countPaid(bills) }}\r\n\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t<view v-for=\"bill in bills\" :key=\"bill.id\" class=\"bill-item\" @tap=\"go2addBill(bill.id)\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"bill-left\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"bill-name-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"bill-name\">{{ bill.name }}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"due-amount-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"due-label\">待补款:</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"due-amount\">¥{{ bill.price }}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t\t<view class=\"bill-right\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"date-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"date-text\">日期: {{ bill.ymd }}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"status-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"status-text\" :class=\"{'paid': bill.status === 1}\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{ bill.status === 0 ? '未补款' : '已补款' }}\r\n\t\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"empty-state\" v-else>\r\n\t\t\t\t\t\t\t<image class=\"empty-icon\" src=\"/static/empty.jpg\"></image>\r\n\t\t\t\t\t\t\t<text class=\"empty-text\">暂无待补尾款</text>\r\n\t\t\t\t\t\t\t<text class=\"empty-tip\">增加添加一个到账本试试吧～</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\n\t<!-- \t\t\t\t\t<view class=\"floating-button\" @tap=\"go2addBill(false)\">\n\t\t\t\t\t\t\t<uni-icons type=\"plusempty\" size=\"30\" color=\"#fff\"></uni-icons>\n\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</uni-transition>\r\n\t\t\t</view>\r\n\t\t</view>\n\t\t\n\t\t<!-- 新增分类管理弹窗 -->\n\t\t<common-modal :visible=\"typeModalVisible\" @update:visible=\"val => typeModalVisible = val\"\n\t\t\ttop=\"300rpx\" height=\"60%\">\n\t\t\t<view class=\"type-modal\">\n\t\t\t\t<view class=\"type-list\">\n\t\t\t\t\t<view v-for=\"(type, index) in customTypes\" :key=\"type.id\" class=\"type-item\">\n\t\t\t\t\t\t<text>{{ type.name }}</text>\n\t\t\t\t\t\t<uni-icons type=\"trash\" size=\"22\" color=\"#ff6666\"\n\t\t\t\t\t\t\t@tap=\"deleteType(type.id)\"></uni-icons>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"add-type-form\">\n\t\t\t\t\t<input v-model=\"newTypeName\" placeholder=\"输入新分类名称\" class=\"type-input\" />\n\t\t\t\t\t<button class=\"add-btn\" @tap=\"addNewType\">添加分类</button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</common-modal>\r\n\t\t<!-- 统一的悬浮按钮 - 固定在底部中央 -->\n\t\t<view class=\"unified-floating-button\" @tap=\"handleFloatingButton\">\n\t\t\t<uni-icons type=\"plusempty\" size=\"30\" color=\"#fff\"></uni-icons>\n\t\t</view>\r\n\t</common-page>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tcomputed\r\n\t} from 'vue';\r\n\timport {\r\n\t\tonShow\r\n\t} from '@dcloudio/uni-app';\r\n\timport {\r\n\t\twebsiteUrl,\r\n\t\twechatSignLogin,\r\n\t\tgetUserInfo,\r\n\t\tglobal,\r\n\t\tasyncGetUserInfo,\r\n\t} from \"../../common/config.js\";\r\n\r\n\t// 状态栏高度\r\n\tconst systemInfo = uni.getSystemInfoSync();\r\n\tconst statusBarHeight = ref(systemInfo.statusBarHeight);\r\n\r\n\t// 当前激活的 tab\r\n\tconst activeTab = ref(1);\r\n\tconst previousTab = ref(1); // 记录上一次的 tab\r\n\t// 切换动画名称\r\n\tfunction transitionName() {\r\n\t\tif (activeTab.value > 1) {\r\n\t\t\treturn ['fade', 'slide-left'];\r\n\t\t} else {\r\n\t\t\treturn ['fade', 'slide-right'];\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tfunction switch_tab(index) {\r\n\t\tconst oldIndex = activeTab.value;\r\n\t\tpreviousTab.value = oldIndex; // 记录上一次的 tab\r\n\t\tactiveTab.value = index; // 设置新的激活 tab\r\n\r\n\t\tconsole.log(`从 tab ${oldIndex} 切换到 tab ${index}，方向: ${transitionName()}`);\r\n\r\n\t\tswitch (index) {\r\n\t\t\tcase 1:\r\n\t\t\t\tgetAccountBookData();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tgetShowcaseData();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tgetBillData();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t// 计算当月账单金额\r\n\tfunction countPaid(bills) {\n\t  let totalAmount = 0; // 总金额\n\t  let paidAmount = 0; // 已补款金额\n\t  \n\t  // 遍历所有账单项\n\t  bills.forEach(bill => {\n\t    // 将价格转换为数字（确保处理字符串类型）\n\t    const price = parseFloat(bill.price) || 0;\n\t    \n\t    // 累加到总金额\n\t    totalAmount += price;\n\t    \n\t    // 如果状态为已补款（1），累加到已补款金额\n\t    if (bill.status === 1) {\n\t      paidAmount += price;\n\t    }\n\t  });\n\t  \n\t  // 返回格式 \"已补款金额/总金额\"\n\t  return `${paidAmount.toFixed(1)}/${totalAmount.toFixed(1)}`;\n\t}\r\n\t// 账本下选择的下拉菜单按钮\r\n\tconst selectedType = ref(0);\r\n\r\n\tconst typeModalVisible = ref(false);\r\n\tconst newTypeName = ref('');\r\n\tconst customTypes = ref([]); // 用户自定义分类\r\n\r\n\t// 账本下选择的下拉菜单按钮\r\n\tconst defaultTypes = ['全部', '娃头', '娃衣', '素体', '眼珠', '假发', '娃鞋'];\r\n\r\n\t// 组合分类选项\r\n\tconst typeOptions = computed(() => [\r\n\t\t...defaultTypes,\r\n\t\t...customTypes.value.map(t => t.name)\r\n\t]);\r\n\t// 在script setup部分添加\r\n\tconst showTypeModal = () => {\r\n\t\ttypeModalVisible.value = true;\r\n\t};\r\n\r\n\r\n\t// 获取分类数据\r\n\tconst getAccountTypes = async () => {\r\n\t\tconst token = uni.getStorageSync('token');\r\n\t\ttry {\r\n\t\t\tconst res = await uni.request({\r\n\t\t\t\turl: websiteUrl + '/with-state/account-types',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'Authorization': token\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tcustomTypes.value = res.data.data || [];\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('获取分类失败:', err);\r\n\t\t}\r\n\t};\r\n\r\n\t// 添加分类\r\n\tconst addNewType = async () => {\r\n\t\tif (!newTypeName.value.trim()) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '请输入分类名称',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst token = uni.getStorageSync('token');\r\n\t\ttry {\r\n\t\t\tawait uni.request({\r\n\t\t\t\turl: websiteUrl + '/with-state/add-account-type',\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'Authorization': token\r\n\t\t\t\t},\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tname: newTypeName.value.trim()\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tawait getAccountTypes();\r\n\t\t\tnewTypeName.value = '';\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '添加成功'\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '添加失败',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t// 删除分类\r\n\tconst deleteType = async (id) => {\r\n\t\tuni.showModal({\r\n\t\t\ttitle: '确认删除',\r\n\t\t\t// content: '如果该分类下存在物品，则不可以直接删除分类',\r\n\t\t\tsuccess: async (res) => {\r\n\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\tconst token = uni.getStorageSync('token');\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst response = await uni.request({\r\n\t\t\t\t\t\t\turl: websiteUrl + '/with-state/delete-account-type',\r\n\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t'Authorization': token,\r\n\t\t\t\t\t\t\t\t'Content-Type': 'application/json' // 添加Content-Type\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t}, // 使用JSON格式传参\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tconst resData = response.data;\r\n\r\n\t\t\t\t\t\tif (resData.status === \"success\") { // 严格判断状态\r\n\t\t\t\t\t\t\tawait getAccountTypes();\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '删除成功'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: resData.msg || '删除失败',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\tconsole.error('删除失败:', err);\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: err.errMsg || '请求失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t// 处理悬浮按钮点击事件\n\tfunction handleFloatingButton() {\n\t\tswitch (activeTab.value) {\n\t\t\tcase 1:\n\t\t\t\tgo2addAccountBook();\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tgo2addShowCase();\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tgo2addBill(false);\n\t\t\t\tbreak;\n\t\t}\n\t}\r\n\r\n\t// 账本数据\r\n\tconst accountBookData = ref({});\r\n\r\n\t// 展示柜数据\r\n\tconst showcaseData = ref({});\r\n\r\n\t// 账单数据\r\n\tconst billData = ref({});\r\n\r\n\r\n\t// 添加计算属性\r\n\tconst totalPrice = computed(() => {\r\n\t\tif (!accountBookData.value.account_books) return 0;\r\n\t\treturn accountBookData.value.account_books.reduce((sum, item) => {\r\n\t\t\treturn sum + (parseFloat(item.price) || 0);\r\n\t\t}, 0).toFixed(2);\r\n\t});\r\n\t// 切换账本选择类型\r\n\tfunction updateSelectedType(e) {\r\n\t\tselectedType.value = e.detail.value;\r\n\t\tconst selectedTypeName = typeOptions.value[selectedType.value];\r\n\t\tgetAccountBookData(selectedTypeName === \"全部\" ? \"\" : selectedTypeName);\r\n\t}\r\n\t//获取账本数据\r\n\tfunction getAccountBookData(type) {\r\n\t\tconsole.log(global)\r\n\t\tif (!global.isLogin) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tlet token = uni.getStorageSync('token');\r\n\t\tlet url = websiteUrl + '/with-state/account-book';\r\n\t\tif (type && type !== \"全部\") {\r\n\t\t\turl = websiteUrl + '/with-state/account-book?type=' + type;\r\n\t\t}\r\n\r\n\t\t// 获取账本数据 /with-state//account-book\r\n\t\tuni.request({\r\n\t\t\turl: url,\r\n\t\t\tmethod: 'GET',\r\n\t\t\theader: {\r\n\t\t\t\t'Authorization': token\r\n\t\t\t},\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tconsole.log(res.data.data);\r\n\t\t\t\taccountBookData.value = res.data.data;\r\n\t\t\t},\r\n\t\t\tfail: (err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\t//获取展示柜数据\r\n\tfunction getShowcaseData() {\r\n\t\tconsole.log(global)\r\n\t\tif (!global.isLogin) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tlet token = uni.getStorageSync('token');\r\n\r\n\t\t// 获取展示柜数据\r\n\t\tuni.request({\r\n\t\t\turl: websiteUrl + '/with-state/showcase',\r\n\t\t\tmethod: 'GET',\r\n\t\t\theader: {\r\n\t\t\t\t'Authorization': token\r\n\t\t\t},\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tconsole.log(res.data.data);\r\n\t\t\t\tshowcaseData.value = res.data.data;\r\n\t\t\t},\r\n\t\t\tfail: (err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t\t});\r\n\t}\n\t\n\t// 获取第一张图片URL\n\tfunction getFirstImage(imageUrls) {\n\t  if (!imageUrls) return ''; // 无图片时\n\t  \n\t  // 分割URL字符串\n\t  const urls = imageUrls.split(',');\n\t  \n\t  // 处理只有一张图片的情况\n\t  if (urls.length === 1 && urls[0].trim() !== '') {\n\t    return urls[0].trim();\n\t  }\n\t  \n\t  // 返回第一张有效图片\n\t  for (const url of urls) {\n\t    if (url.trim() !== '') {\n\t      return url.trim();\n\t    }\n\t  }\n\t  \n\n\t  return '';\n\t}\r\n\r\n\t//获取账单数据\r\n\tfunction getBillData() {\r\n\t\tconsole.log(global)\r\n\t\tif (!global.isLogin) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tlet token = uni.getStorageSync('token');\r\n\r\n\t\t// 获取账单数据\r\n\t\tuni.request({\r\n\t\t\turl: websiteUrl + '/with-state/tail-bill',\r\n\t\t\tmethod: 'GET',\r\n\t\t\theader: {\r\n\t\t\t\t'Authorization': token\r\n\t\t\t},\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tconsole.log(res.data.data);\r\n\t\t\t\tbillData.value = res.data.data;\r\n\t\t\t},\r\n\t\t\tfail: (err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t//跳转到添加账本数据\r\n\tfunction go2addAccountBook() {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/stock/account_book_form/account_book_form'\r\n\t\t})\r\n\t}\r\n\t//跳转到编辑\r\n\tfunction go2editor(id) {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/stock/account_book_form/account_book_form?account_book_id=' + id\r\n\t\t})\r\n\t}\r\n\t//跳转到添加展示柜数据\r\n\tfunction go2addShowCase() {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/stock/showcase_form/showcase_form'\r\n\t\t})\r\n\t}\r\n\t//跳转到编辑展示柜\r\n\tfunction go2editorShowCase(id) {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/stock/showcase_form/showcase_form?showcase_id=' + id\r\n\t\t})\r\n\t}\r\n\t//跳转到添加账单数据\r\n\tfunction go2addBill(id) {\r\n\t\tif (id == false) {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/stock/bill_form/bill_form',\r\n\t\t\t});\r\n\t\t\treturn\r\n\t\t}\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/stock/bill_form/bill_form?bill_id=' + id\r\n\t\t})\r\n\t}\r\n\t// 展示柜状态\r\n\tfunction getStatusClass(display) {\r\n\t\tconst statusMap = {\r\n\t\t\t0: 'reviewing',\r\n\t\t\t2: 'rechecking',\r\n\t\t\t3: 'violation'\r\n\t\t}\r\n\t\treturn statusMap[display] || '';\r\n\t}\r\n\r\n\tfunction getStatusText(display) {\r\n\t\tconst textMap = {\r\n\t\t\t0: '审核中',\r\n\t\t\t2: '人工复核中',\r\n\t\t\t3: '违规隐藏中'\r\n\t\t}\r\n\t\treturn textMap[display] || '';\r\n\t}\r\n\r\n\tonShow(() => {\r\n\t\t// 加载用户信息\r\n\t\tasyncGetUserInfo().then((userInfo) => {\r\n\t\t\t// 获取用户自定义分类\r\n\t\t\tgetAccountTypes();\r\n\t\t\t// 获取我的娃物\r\n\t\t\tgetAccountBookData();\r\n\t\t\t// 获取我的展示柜\r\n\t\t\tgetShowcaseData();\r\n\t\t\t// 获取账单数据\r\n\t\t\tgetBillData();\r\n\t\t})\r\n\t})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.container {\r\n\t\tbackground-color: #fff;\r\n\t\t// background: linear-gradient(180deg, #daeeff 0%, white 100%);\r\n\r\n\t}\r\n\r\n\t.content {\r\n\t\tmargin-top: 15rpx;\r\n\t}\r\n\r\n\t.head_container {\r\n\t\tbackground: linear-gradient(180deg, #d8deff 0%, #d3f5ff 100%);\r\n\t\toverflow: hidden;\n\t\t\n\t\t// background-image: url(\"/static/bg/bg1.jpg\");\n\t\t// background-size:cover;\r\n\t}\r\n\r\n\t.switch_tab {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\tbackground: #fff;\r\n\t\twidth: 100%;\r\n\t\theight: 100rpx;\r\n\t\tmargin: 70rpx 0 30rpx 0;\r\n\t\tposition: relative;\r\n\t\tbackground: transparent;\r\n\t\t/* 移除原渐变色背景 */\r\n\r\n\t\tbutton {\r\n\t\t\tposition: relative;\r\n\t\t\tbackground: transparent;\r\n\t\t\tcolor: #666;\r\n\t\t\twidth: 33.3%;\r\n\t\t\tpadding: 20rpx 0;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tmargin: 0;\r\n\t\t\tborder-radius: 0;\r\n\t\t\ttransition: all 0.3s ease;\r\n\r\n\t\t\t&::after {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 60rpx;\r\n\t\t\t\tleft: 50%;\r\n\t\t\t\twidth: 0;\r\n\t\t\t\theight: 0rpx;\r\n\t\t\t\tbackground: #74c9e5;\r\n\t\t\t\ttransition: all 0.3s ease;\r\n\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t}\r\n\r\n\t\t\ttext {\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\ttransition: all 0.3s ease;\n\t\t\t\t    z-index: 10;\n\t\t\t\t    position: relative;\r\n\t\t\t}\r\n\r\n\t\t\t&.active {\r\n\t\t\t\ttext {\r\n\t\t\t\t\tcolor: #464646;\r\n\t\t\t\t\tfont-weight: 800;\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t/* 选中时字体变大 */\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&::after {\r\n\t\t\t\t\twidth: 80%;\r\n\t\t\t\t\t/* 下划线宽度 */\r\n\t\t\t\t\tbackground: #747ee5b0;\n\t\t\t\t\tborder: none;\n\t\t\t\t\theight: 10px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 新增样式 */\n\t \n\t .unified-floating-button {\n\t \t\tposition: fixed;\n\t \t\tbottom: 120rpx;\n\t \t\tleft: 50%;\n\t \t\ttransform: translateX(-50%);\n\t \t\twidth: 100rpx;\n\t \t\theight: 100rpx;\n\t \t\tbackground: linear-gradient(135deg, #a6e9f7, #1ed1e1);\n\t \t\tborder-radius: 50%;\n\t \t\tdisplay: flex;\n\t \t\talign-items: center;\n\t \t\tjustify-content: center;\n\t \t\tbox-shadow: 0 6rpx 20rpx rgba(30, 209, 225, 0.4);\n\t \t\tz-index: 999;\n\t \t\ttransition: all 0.3s ease;\n\t \t\t\n\t \t\t/* 按钮动画效果 */\n\t \t\t&::after {\n\t \t\t\t    content: \"\";\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 33px;\n\t\t\t\tleft: 50%;\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0.125rem;\n\t\t\t\tbackground: #74c9e5;\n\t\t\t\ttransition: all 0.3s ease;\n\t\t\t\ttransform: translateX(-50%);\n\t \t\t}\n\t \t\t\n\t \t\t&:active {\n\t \t\t\ttransform: translateX(-50%) scale(0.95);\n\t \t\t\tbox-shadow: 0 4rpx 12rpx rgba(30, 209, 225, 0.3);\n\t \t\t}\n\t \t}\n\n\r\n\t.data_body {\r\n\t\tmin-height: 80vh;\r\n\r\n\t\t/* 根据实际内容设置合理高度，避免父容器塌陷 */\r\n\t\t// position: relative;\r\n\r\n\t}\r\n\r\n\t.tab_body_1st,\r\n\t.tab_body_sec,\r\n\t.tab_body_3th {\r\n\t\t/* 添加以下内容确保显示 */\r\n\t\tdisplay: block !important;\r\n\t\topacity: 1 !important;\r\n\t\tvisibility: visible !important;\r\n\t\ttransform: none !important;\r\n\r\n\r\n\t\t// border-radius: 50rpx 50rpx 0 0;\r\n\t\toverflow: hidden;\r\n\t\tbackground-color: #fff;\r\n\t\tpadding: 20rpx 20rpx;\r\n\t\t// height: 100vh;\r\n\t\tbox-sizing: border-box;\r\n\t\tmargin: 20rpx 0rpx 20rpx 0rpx;\r\n\t\t// box-shadow: 0 0 5rpx #dadada;\r\n\t\toverflow: hidden;\r\n\t\twidth: calc(100%);\r\n\t\t// min-height: 80vh;\r\n\t\tmin-height: 1400rpx;\r\n\t\t/* 根据实际内容设置合理高度，避免父容器塌陷 */\r\n\t}\r\n\r\n\r\n\r\n\t.light_button {\r\n\t\tcolor: #fff;\r\n\t\tbackground: #65C3D6;\r\n\t\tbox-shadow: 0 0 3rpx #1ed1e1;\r\n\t\tborder: 0rpx;\r\n\t\tmargin: 20rpx 0rpx;\r\n\t\tborder-radius: 15rpx;\r\n\r\n\t}\r\n\r\n\t.light_button:active {\r\n\t\tbackground: #4e98a9;\r\n\t}\r\n\r\n\r\n\t.inputer {\r\n\t\tfont-size: 20rpx;\r\n\t\tborder-bottom: 1rpx #ddd solid;\r\n\t\tpadding: 10rpx;\r\n\t\tmargin: 40rpx 0rpx;\r\n\t}\r\n\r\n\r\n\t// 1st下的\r\n\t/* 新增样式 */\r\n\t.type-picker {\r\n\t\tflex: 1;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #e9b6d7;\r\n\t\tpadding: 15rpx 25rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tbackground: white;\r\n\r\n\t\t.uni-input {\r\n\t\t\t&::before {\r\n\t\t\t\tcontent: '▼ ';\r\n\t\t\t\tmargin-left: 15rpx;\r\n\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\tcolor: #e9b6d7;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.content-grid {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tgap: 30rpx;\r\n\t\tpadding: 20rpx;\r\n\r\n\t\t.grid-item {\r\n\t\t\tposition: relative;\r\n\t\t\twidth: calc(33.33% - 22rpx); // 3列布局，考虑间隙\r\n\t\t\toverflow: hidden;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\tbackground: #fff;\r\n\t\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);\r\n\r\n\t\t\t.item-image {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 200rpx;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.item-type {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tbackground: rgb(122 181 255 / 65%);\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tpadding: 10rpx 20rpx;\r\n\t\t\t\tborder-radius: 10rpx 0 10rpx 0;\r\n\t\t\t\tfont-size: 22rpx;\n\t\t\t\tfont-weight: 900;\r\n\t\t\t}\r\n\r\n\t\t\t.item-info {\r\n\t\t\t\tpadding: 5rpx 15rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: 10rpx;\r\n\r\n\t\t\t\t.item-price {\r\n\t\t\t\t\tfont-family: 'alimamashuhei';\r\n\t\t\t\t\tfont-weight: 900;\r\n\t\t\t\t\tcolor: #ff827e;\r\n\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\tflex-shrink: 0;\r\n\t\t\t\t\ttext-shadow: 0 0 3rpx #fff;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.item-name {\r\n\t\t\t\t\tfont-family: 'alimamashuhei';\r\n\t\t\t\t\tcolor: #39110c;\r\n\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\tflex-grow: 1;\r\n\t\t\t\t\ttext-shadow: 0 0 3rpx #fff;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.type-header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\t// padding: 25rpx 30rpx;\r\n\t\t// background: linear-gradient(135deg, rgb(255 124 124 / 10%) 0%, white 100%);\r\n\t\tborder-radius: 16rpx;\r\n\t\tmargin: 20rpx 30rpx;\r\n\t\t// box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\r\n\t}\r\n\r\n\r\n\t.manage-btn {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: white;\r\n\t\tbackground: linear-gradient(135deg, #a6e9f7, #1ed1e1);\r\n\t\tmargin-left: 20rpx;\r\n\t\tpadding: 10rpx 25rpx;\r\n\t\tborder-radius: 50rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\ttransition: all 0.3s;\r\n\r\n\t\t&::before {\r\n\t\t\tcontent: '✎';\r\n\t\t\tmargin-right: 8rpx;\r\n\t\t}\r\n\r\n\t\t&:active {\r\n\t\t\ttransform: scale(0.95);\r\n\t\t\topacity: 0.9;\r\n\t\t}\r\n\t}\r\n\r\n\t.type-modal {\r\n\t\tpadding: 30rpx;\n\t\tbox-sizing: border-box;\n\t\twidth: 80vw;\n\t\t// height: 50vh;\r\n\r\n\t\t.type-list {\r\n\t\t\tmax-height: 500rpx;\r\n\t\t\toverflow-y: auto;\r\n\t\t\tmargin-bottom: 40rpx;\r\n\t\t}\r\n\r\n\t\t.type-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 25rpx;\r\n\t\t\tborder-bottom: 1rpx solid #eee;\r\n\r\n\t\t\ttext {\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.add-type-form {\r\n\t\t\tdisplay: flex;\r\n\t\t\tgap: 20rpx;\r\n\r\n\t\t\t.type-input {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tborder: 1rpx solid #ddd;\r\n\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\tpadding: 15rpx;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.add-btn {\r\n\t\t\t\tbackground: #74c9e5;\r\n\t\t\t\tcolor: white;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tpadding: 0 30rpx;\r\n\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\t/* 补款提醒表单样式 */\r\n\t.remind-form {\r\n\t\tmargin-top: 40rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tbackground: #f8f8f8;\r\n\t\tborder-radius: 16rpx;\r\n\r\n\t\t.form-item {\r\n\t\t\tmargin-bottom: 30rpx;\r\n\r\n\t\t\tlabel {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tmargin-bottom: 15rpx;\r\n\t\t\t}\r\n\r\n\t\t\tinput,\r\n\t\t\tpicker {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tpadding: 20rpx;\r\n\t\t\t\tborder: 1rpx solid #ddd;\r\n\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.hint-text {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t// 尾款日历\r\n\r\n\t.tab_body_3th {\r\n\t\t.calendar-container {\r\n\t\t\tpadding: 20rpx;\r\n\t\t}\r\n\r\n\t\t.month-header-container {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 20rpx 0;\r\n\t\t\tborder-bottom: 1rpx dashed #eee;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t}\r\n\r\n\t\t.month-header {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #333;\r\n\t\t}\r\n\r\n\t\t.month-stats {\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\r\n\t\t.bill-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tmargin: 20rpx 0;\r\n\t\t\tbackground: #fff;\r\n\t\t\tborder-radius: 16rpx;\r\n\t\t\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.05);\r\n\t\t\ttransition: all 0.2s ease;\r\n\r\n\t\t\t&:active {\r\n\t\t\t\ttransform: scale(0.98);\r\n\t\t\t\tbackground: #f8f8f8;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.bill-left {\r\n\t\t\tflex: 1;\r\n\t\t\tmargin-right: 30rpx;\r\n\t\t}\r\n\r\n\t\t.bill-name {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tdisplay: block;\r\n\t\t\tmargin-bottom: 15rpx;\r\n\t\t}\r\n\r\n\t\t.due-label {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t\tmargin-right: 10rpx;\r\n\t\t}\r\n\r\n\t\t.due-amount {\r\n\t\t\tcolor: #74c9e5;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t}\r\n\r\n\t\t.bill-right {\r\n\t\t\ttext-align: right;\r\n\t\t}\r\n\r\n\t\t.date-text {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t\tdisplay: block;\r\n\t\t\tmargin-bottom: 15rpx;\r\n\t\t}\r\n\r\n\t\t.status-text {\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #ff6666;\r\n\r\n\t\t\t&.paid {\r\n\t\t\t\tcolor: #74c9e5;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t// 展示柜\r\n\t.tab_body_sec {\r\n\t\t.showcase-container {\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tdisplay: grid;\r\n\t\t\tgap: 30rpx;\r\n\t\t}\r\n\r\n\t\t.showcase-card {\r\n\t\t\tposition: relative;\r\n\t\t\tbackground: #fff;\r\n\t\t\tborder-radius: 24rpx;\r\n\t\t\tbox-shadow: 0 8rpx 40rpx rgba(0, 0, 0, 0.08);\r\n\t\t\ttransition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);\r\n\t\t\toverflow: hidden;\r\n\r\n\t\t\t&:active {\r\n\t\t\t\ttransform: scale(0.98);\r\n\t\t\t\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.status-overlay {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tbackground: rgba(0, 0, 0, 0.4);\r\n\t\t\tz-index: 2;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tbackdrop-filter: blur(10rpx);\r\n\r\n\t\t\t&.reviewing {\r\n\t\t\t\tbackground: rgba(116, 202, 229, 0.8);\r\n\t\t\t}\r\n\r\n\t\t\t&.rechecking {\r\n\t\t\t\tbackground: rgba(255, 193, 7, 0.8);\r\n\t\t\t}\r\n\r\n\t\t\t&.violation {\r\n\t\t\t\tbackground: rgba(244, 67, 54, 0.8);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.status-text {\r\n\t\t\tcolor: #fff;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\ttext-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.2);\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t}\r\n\r\n\r\n\t\t.card-content {\r\n\t\t\tdisplay: flex;\r\n\t\t\theight: 320rpx;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\r\n\t\t.showcase-image {\r\n\t\t\twidth: 280rpx;\r\n\t\t\theight: 100%;\r\n\t\t\tflex-shrink: 0;\r\n\t\t\tborder-radius: 24rpx 0 0 24rpx;\r\n\t\t}\r\n\r\n\t\t.showcase-info {\r\n\t\t\tflex: 1;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: space-between;\r\n\t\t}\r\n\r\n\t\t.showcase-title {\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tfont-weight: 700;\r\n\t\t\tcolor: #333;\r\n\t\t\tline-height: 1.4;\r\n\t\t}\r\n\r\n\t\t.showcase-description {\r\n\t\t\tfont-size: 22rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\tline-height: 1.6;\r\n\t\t\tdisplay: -webkit-box;\r\n\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t-webkit-line-clamp: 3;\r\n\t\t\toverflow: hidden;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t}\r\n\r\n\t\t.interaction-bar {\r\n\t\t\tdisplay: flex;\r\n\t\t\tgap: 40rpx;\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t}\r\n\r\n\t\t.interaction-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tgap: 12rpx;\r\n\t\t}\r\n\r\n\t\t.interaction-icon {\r\n\t\t\twidth: 36rpx;\r\n\t\t\theight: 36rpx;\r\n\t\t\topacity: 0.8;\r\n\t\t}\r\n\r\n\t\t.interaction-count {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\r\n\t\t.blur-effect {\r\n\t\t\tfilter: blur(8rpx);\r\n\t\t\topacity: 0.9;\r\n\t\t}\r\n\r\n\t\t@keyframes rotating {\r\n\t\t\tfrom {\r\n\t\t\t\ttransform: rotate(0deg);\r\n\t\t\t}\r\n\r\n\t\t\tto {\r\n\t\t\t\ttransform: rotate(360deg);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/* 针对展示柜的特殊调整 */\r\n\t\t.tab_body_sec .empty-state {\r\n\t\t\tpadding-top: 100rpx;\r\n\r\n\t\t\t.empty-icon {\r\n\t\t\t\twidth: 380rpx;\r\n\t\t\t\theight: 380rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/* 尾款日历特殊样式 */\r\n\t\t.tab_body_3th .empty-state {\r\n\t\t\t.empty-icon {\r\n\t\t\t\twidth: 360rpx;\r\n\t\t\t\theight: 360rpx;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\n\t\n\t// 空数据样式\n\t.empty-state {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmin-height: 60vh;\n\t\tpadding: 40rpx;\n\t\ttext-align: center;\n\t\n\t\t.empty-icon {\n\t\t\twidth: 340rpx;\n\t\t\theight: 340rpx;\n\t\t\topacity: 0.8;\n\t\t\tmargin-bottom: 40rpx;\n\t\t}\n\t\n\t\t.empty-text {\n\t\t\tfont-size: 32rpx;\n\t\t\tcolor: #888;\n\t\t\tmargin-bottom: 20rpx;\n\t\t\tfont-weight: 500;\n\t\t}\n\t\n\t\t.empty-tip {\n\t\t\tfont-size: 26rpx;\n\t\t\tcolor: #aaa;\n\t\t\tline-height: 1.6;\n\t\t}\n\t}\n\t// 价格合计\n\t.summary-container {\n\t\tpadding: 20rpx 30rpx;\n\t\tborder-radius: 12rpx;\n\t\tmargin: 20rpx 5rpx;\n\t\n\t\t.total-text {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #74c9e5;\n\t\t\tfont-weight: bold;\n\t\n\t\t\t&::before {\n\t\t\t\tcontent: '💰 ';\n\t\t\t}\n\t\t}\n\t}\r\n</style>","import MiniProgramPage from '/Users/sapphirell/Documents/git/dogdogdoll-uniapp/pages/stock/stock.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","ref","computed","websiteUrl","global","onShow","asyncGetUserInfo"],"mappings":"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"}