{"version":3,"file":"account_book_form.js","sources":["pages/stock/account_book_form/account_book_form.vue","pages/stock/account_book_form/account_book_form.vue?type=page"],"sourcesContent":["<template>\n  <view-logs />\n  <view class=\"container\">\n    <meta name=\"theme-color\" content=\"#F8F8F8\">\n    </meta>\n    <!-- 分类管理弹窗 -->\n    <common-modal :visible=\"typeModalVisible\" @update:visible=\"val => typeModalVisible = val\" top=\"100rpx\">\n      <view class=\"type-modal\">\n        <view class=\"add-type-form\">\n          <input v-model=\"newTypeName\" placeholder=\"输入新分类名称\" class=\"type-input\" />\n          <button class=\"add-btn\" @tap=\"addNewType\">添加分类</button>\n        </view>\n        <view class=\"type-list\">\n          <view v-for=\"(type, index) in customTypes\" :key=\"type.id\" class=\"type-item\">\n            <text>{{ type.name }}</text>\n            <uni-icons type=\"trash\" size=\"22\" color=\"#ff6666\" @tap=\"deleteType(type.id)\"></uni-icons>\n          </view>\n        </view>\n      </view>\n    </common-modal>\n    \n    <!-- 表单卡片容器 -->\n    <view class=\"form-card\">\n      <!-- 分类选择 -->\n      <view class=\"form-item\">\n        <text class=\"form-label\">分类</text>\n        <view class=\"type-selector\">\n          <picker mode=\"selector\" class=\"form-input\" :value=\"selectedType\" :range=\"typeOptions\"\n            @change=\"updateSelectedType\">\n            <view class=\"picker-content\">\n              {{ typeOptions[selectedType] || '请选择分类' }}\n            </view>\n          </picker>\n          <text class=\"manage-type\" @tap=\"typeModalVisible = true\">管理分类</text>\n        </view>\n      </view>\n\n      <!-- 名称 -->\n      <view class=\"form-item\">\n        <text class=\"form-label\">名称</text>\n        <view class=\"form-input\" style=\"padding:0;\">\n\t\t\t<view class=\"custom-search-container\">\n\t\t\t\t<goods-search :font-size=\"'24rpx'\" mode=\"fill\" @select=\"handleGoodsSelect\" v-model=\"name\"\n\t\t\t\t  :background=\"'#fff'\" :width=\"'620rpx'\" :show-icon=\"false\" class=\"custom-search\" />\n\t\t\t</view>\n          \n        </view>\n      </view>\n\n      <!-- 价值 -->\n      <view class=\"form-item\">\n        <text class=\"form-label\">价值</text>\n        <input class=\"form-input\" type=\"digit\" placeholder=\"请输入价值\" placeholder-class=\"placeholder-style\"\n          v-model=\"price\" />\n      </view>\n\n      <!-- 个数 -->\n      <view class=\"form-item\">\n        <text class=\"form-label\">个数</text>\n        <input class=\"form-input\" type=\"number\" placeholder=\"请输入个数\" placeholder-class=\"placeholder-style\"\n          v-model=\"count\" />\n      </view>\n\n      <!-- 图片上传 -->\n      <view class=\"form-item\">\n        <text class=\"form-label\">物品图片</text>\n        <view class=\"upload-wrapper\">\n          <view class=\"image-grid\">\n            <!-- 已上传图片预览 -->\n            <view v-for=\"(img, index) in imageList\" :key=\"index\" class=\"preview-image\">\n              <image mode=\"aspectFill\" :src=\"img\" class=\"image-preview\" @tap=\"viewFullImage(index)\">\n              </image>\n              <view class=\"image-actions\">\n                <uni-icons type=\"close\" size=\"22\" color=\"#fff\" @tap=\"(e) => removeImage(index, e)\"\n                  class=\"delete-icon\"></uni-icons>\n              </view>\n            </view>\n\n            <!-- 添加图片按钮 -->\n            <view class=\"add-image-box\" @click=\"selectImage\">\n              <uni-icons type=\"plusempty\" size=\"40\" color=\"#ccc\"></uni-icons>\n              <text class=\"add-text\">添加图片</text>\n            </view>\n          </view>\n        </view>\n      </view>\n\n      <!-- 尺寸选择器 -->\n      <view class=\"form-item\">\n        <text class=\"form-label\">尺寸</text>\n        <uni-data-picker placeholder=\"请选择尺寸\" :localdata=\"sizeOptions\" :value=\"selectedSizePath\"\n          @change=\"onSizeChange\" class=\"size-picker\">\n        </uni-data-picker>\n      </view>\n\n      <!-- 更多信息折叠区域 -->\n      <view class=\"form-item\">\n        <label class=\"remind-label\" @tap=\"toggleMoreInfo()\">\n          <view class=\"arrow-icon\" :class=\"{ 'arrow-down': showMoreInfo }\"></view>\n          <text>更多信息</text>\n        </label>\n      </view>\n\n      <view v-if=\"showMoreInfo\" class=\"more-info-form\">\n        <!-- 尺寸详情 -->\n        <view class=\"form-item size_detail\">\n          <text class=\"form-label\">尺寸详情</text>\n          <input v-model=\"moreInfo.sizeDetail\" placeholder=\"请输入尺寸详情\" class=\"form-input\" />\n        </view>\n\n        <!-- 颜色 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">颜色</text>\n          <input v-model=\"moreInfo.color\" placeholder=\"请输入颜色\" class=\"form-input\" />\n        </view>\n\n        <!-- 新增字段开始 -->\n        <!-- 店名 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">店名</text>\n          <input v-model=\"moreInfo.shopName\" placeholder=\"请输入店名\" class=\"form-input\" />\n        </view>\n\n        <!-- 头围 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">头围</text>\n          <input v-model=\"moreInfo.headCircumference\" placeholder=\"请输入头围(cm)\" class=\"form-input\"\n            type=\"digit\" />\n        </view>\n\n        <!-- 肩宽 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">肩宽</text>\n          <input v-model=\"moreInfo.shoulderWidth\" placeholder=\"请输入肩宽(cm)\" class=\"form-input\" type=\"digit\" />\n        </view>\n\n        <!-- 妆师 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">妆师</text>\n          <input v-model=\"moreInfo.makeupArtist\" placeholder=\"请输入妆师\" class=\"form-input\" />\n        </view>\n        <!-- 新增字段结束 -->\n\n        <!-- 备注 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">备注</text>\n          <input v-model=\"moreInfo.remark\" placeholder=\"请输入备注\" class=\"form-input\" />\n        </view>\n\n        <!-- 购入时间 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">购入时间</text>\n          <view class=\"date-picker-wrapper\">\n            <picker mode=\"date\" :value=\"moreInfo.buyDate\"\n              @change=\"(e) => moreInfo.buyDate = e.detail.value\">\n              <view class=\"picker-content\">\n                {{ moreInfo.buyDate || '选择购入日期' }}\n              </view>\n            </picker>\n          </view>\n        </view>\n\n        <!-- 新增字段开始 -->\n        <!-- 到家日期 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">到家日期</text>\n          <view class=\"date-picker-wrapper\">\n            <picker mode=\"date\" :value=\"moreInfo.arrivalDate\"\n              @change=\"(e) => moreInfo.arrivalDate = e.detail.value\">\n              <view class=\"picker-content\">\n                {{ moreInfo.arrivalDate || '选择到家日期' }}\n              </view>\n            </picker>\n          </view>\n        </view>\n\n        <!-- 附加值 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">附加值（妆费或h了多少入）</text>\n          <input v-model=\"moreInfo.additionalValue\" placeholder=\"请输入附加值\" class=\"form-input\" type=\"digit\" />\n        </view>\n        <!-- 新增字段结束 -->\n\n        <!-- 存放位置 -->\n        <view class=\"form-item\">\n          <text class=\"form-label\">存放位置</text>\n          <input v-model=\"moreInfo.position\" placeholder=\"请输入存放位置\" class=\"form-input\" />\n        </view>\n      </view>\n\n      <!-- 补款提醒 -->\n      <view class=\"form-item\">\n        <label class=\"remind-label\" @tap=\"toggleRemind()\">\n          <view class=\"arrow-icon\" :class=\"{ 'arrow-down': form.isRemind }\"></view>\n          <text>需要补款提醒</text>\n          <!-- 新增小红点 -->\n          <view v-if=\"form.finalPrice > 0 \" class=\"remind-dot\"></view>\n        </label>\n      </view>\n\n      <view v-if=\"form.isRemind\" class=\"remind-form\">\n        <view class=\"form-item\">\n          <text class=\"form-label\">尾款金额</text>\n          <input type=\"number\" v-model=\"form.finalPrice\" placeholder=\"请输入待补款金额\" class=\"form-input\" />\n        </view>\n\n        <view class=\"form-item\">\n          <text class=\"form-label\">补款日期</text>\n          <view class=\"date-picker-wrapper\">\n            <picker mode=\"date\" :value=\"form.finalTime\" @change=\"form.finalTime = $event.detail.value\">\n              <view class=\"picker-content\">\n                {{ form.finalTime || '选择截止日期' }}\n              </view>\n            </picker>\n          </view>\n        </view>\n      </view>\n      \n      <view class=\"info-text\">\n        <image src=\"/static/info-circle.png\" mode=\"aspectFill\"></image>\n        <text>仅用于记录您所购买过的物品，其他人不会看到</text>\n      </view>\n\n      <!-- 操作按钮 -->\n      <view class=\"button-group\">\n        <button class=\"delete-button\" v-if=\"isEdit\" @click=\"handleDelete\">\n          删除账本\n        </button>\n        <button class=\"submit-button\" @click=\"postSubmit\">\n          记录{{ isEdit ? '修改' : '新增' }}\n        </button>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\n\timport {\n\t\tref,\n\t\tcomputed,\n\t\tonMounted\n\t} from 'vue';\n\timport {\n\t\tonShow,\n\t\tonLoad\n\t} from '@dcloudio/uni-app';\n\timport {\n\t\twebsiteUrl,\n\t\timage1Url,\n\t\twechatSignLogin,\n\t\tgetUserInfo,\n\t\tglobal,\n\t\tasyncGetUserInfo,\n\t} from \"../../../common/config.js\";\n\n\timport {\n\t\tchooseImage,\n\t\tjumpToCroper,\n\t\tgetQiniuToken,\n\t\tuploadImageToQiniu\n\t} from \"../../../common/image.js\";\n\n\n\tconst props = defineProps([\"account_book_id\"])\n\t//判断页面是否有参数，如果有代表编辑，如果没有代表新增\n\tconst isEdit = props.account_book_id ? true : false;\n\n\t// 新增：个数字段\n\tconst count = ref(1);\n\n\t// 修改：将accountImage改为imageList数组\n\tconst imageList = ref([]);\n\n\t// 状态栏高度\n\tconst systemInfo = uni.getSystemInfoSync();\n\tconst statusBarHeight = ref(systemInfo.statusBarHeight);\n\n\t// 提交表单数据\n\tlet name = ref(\"\");\n\tlet price = ref(\"\");\n\t// 当前激活的 tab\n\tconst activeTab = ref(1);\n\n\tfunction switch_tab(index) {\n\t\tactiveTab.value = index; // 切换激活 tab\n\t\tconsole.log(`切换到 tab ${index}`);\n\t}\n\t// 新增状态\n\tconst typeModalVisible = ref(false);\n\tconst newTypeName = ref('');\n\tconst customTypes = ref([]);\n\tconst defaultTypes = [];\n\n\t// 组合分类选项\n\tconst typeOptions = computed(() => [\n\t\t...defaultTypes,\n\t\t...customTypes.value.map(t => t.name)\n\t]);\n\n\t// 表单数据\n\tconst form = ref({\n\t\tisRemind: false,\n\t\tfinalPrice: 0,\n\t\tfinalTime: ''\n\t});\n\n\t// 更多信息折叠状态\n\tconst showMoreInfo = ref(false);\n\n\t// 尺寸选择器数据\n\tconst sizeOptions = ref([]);\n\tconst selectedSize = ref([]);\n\t// 存储用户选择的尺寸路径 [大分类, 小分类]\n\tconst selectedSizePath = ref([]);\n\n\t// 更多信息数据\n\tconst moreInfo = ref({\n\t\tsizeDetail: '',\n\t\tcolor: '',\n\t\tremark: '',\n\t\tbuyDate: '',\n\t\tposition: '',\n\t\tshopName: '', // 店名\n\t\theadCircumference: '', // 头围\n\t\tshoulderWidth: '', // 肩宽\n\t\tmakeupArtist: '', // 妆师\n\t\tarrivalDate: '', // 到家日期\n\t\tadditionalValue: '' // 附加值\n\t});\n\n\t// 获取尺寸数据\n\tconst fetchSizes = async () => {\n\t\ttry {\n\t\t\tconst res = await uni.request({\n\t\t\t\turl: websiteUrl.value + '/sizes',\n\t\t\t\tmethod: 'GET'\n\t\t\t});\n\n\t\t\tif (res.data.status === \"success\") {\n\t\t\t\tconst sizesData = res.data.data;\n\t\t\t\tconst formattedSizes = [];\n\n\t\t\t\t// 转换为正确的层级结构\n\t\t\t\tfor (const [category, items] of Object.entries(sizesData)) {\n\t\t\t\t\tformattedSizes.push({\n\t\t\t\t\t\ttext: category, // 大分类名称 (如\"二分\")\n\t\t\t\t\t\tvalue: category, // 大分类值\n\t\t\t\t\t\tchildren: items.map(item => ({\n\t\t\t\t\t\t\ttext: item, // 小分类名称 (如\"普通二分\")\n\t\t\t\t\t\t\tvalue: item // 小分类值\n\t\t\t\t\t\t}))\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tsizeOptions.value = formattedSizes;\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error('获取尺寸数据失败:', err);\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '获取尺寸数据失败',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t}\n\t};\n\n\t// 尺寸选择变化 - 修复处理逻辑\n\tconst onSizeChange = (e) => {\n\t\tconst nodes = e.detail.value;\n\n\t\t// 确保选择了完整路径 [大分类, 小分类]\n\t\tif (nodes.length === 2) {\n\t\t\tselectedSizePath.value = [\n\t\t\t\tnodes[0].value, // 大分类值\n\t\t\t\tnodes[1].value // 小分类值\n\t\t\t];\n\n\t\t\t// 自动填充尺寸详情\n\t\t\tmoreInfo.value.sizeDetail = nodes[1].value;\n\t\t} else {\n\t\t\tselectedSizePath.value = [];\n\t\t\tmoreInfo.value.sizeDetail = '';\n\t\t}\n\t};\n\n\t// 切换更多信息折叠\n\tconst toggleMoreInfo = () => {\n\t\tshowMoreInfo.value = !showMoreInfo.value;\n\t};\n\n\t// 获取分类数据\n\tconst getAccountTypes = async () => {\n\t\tconst token = uni.getStorageSync('token');\n\t\ttry {\n\t\t\tconst res = await uni.request({\n\t\t\t\turl: websiteUrl.value + '/with-state/account-types',\n\t\t\t\tmethod: 'GET',\n\t\t\t\theader: {\n\t\t\t\t\t'Authorization': token\n\t\t\t\t}\n\t\t\t});\n\t\t\tcustomTypes.value = res.data.data || [];\n\t\t} catch (err) {\n\t\t\tconsole.error('获取分类失败:', err);\n\t\t}\n\t};\n\n\t// 添加分类\n\tconst addNewType = async () => {\n\t\tif (!newTypeName.value.trim()) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '请输入分类名称',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tconst token = uni.getStorageSync('token');\n\t\ttry {\n\t\t\tawait uni.request({\n\t\t\t\turl: websiteUrl.value + '/with-state/add-account-type',\n\t\t\t\tmethod: 'POST',\n\t\t\t\theader: {\n\t\t\t\t\t'Authorization': token\n\t\t\t\t},\n\t\t\t\tdata: {\n\t\t\t\t\tname: newTypeName.value.trim()\n\t\t\t\t}\n\t\t\t});\n\t\t\tawait getAccountTypes();\n\t\t\tnewTypeName.value = '';\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '添加成功'\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '添加失败',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t}\n\t};\n\n\t// 删除分类\n\tconst deleteType = async (id) => {\n\t\tuni.showModal({\n\t\t\ttitle: '确认删除',\n\t\t\t// content: '如果该分类下存在物品，则不可以直接删除分类',\n\t\t\tsuccess: async (res) => {\n\t\t\t\tif (res.confirm) {\n\t\t\t\t\tconst token = uni.getStorageSync('token');\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst response = await uni.request({\n\t\t\t\t\t\t\turl: websiteUrl.value + '/with-state/delete-account-type',\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t'Authorization': token,\n\t\t\t\t\t\t\t\t'Content-Type': 'application/json' // 添加Content-Type\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t}, // 使用JSON格式传参\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconst resData = response.data;\n\n\t\t\t\t\t\tif (resData.status === \"success\") { // 严格判断状态\n\t\t\t\t\t\t\tawait getAccountTypes();\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '删除成功'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: resData.msg || '删除失败',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error('删除失败:', err);\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: err.errMsg || '请求失败',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\t// 切换补款提醒\n\tconst toggleRemind = () => {\n\n\t\tform.value.isRemind = !form.value.isRemind\n\t\tif (!form.value.isRemind) {\n\t\t\tform.value.finalPrice = 0;\n\t\t\tform.value.finalTime = '';\n\t\t}\n\t};\n\t// 账本下选择的下拉菜单按钮\n\tconst selectedType = ref(0);\n\n\t// 账本下选择的下拉菜单按钮\n\tconst accountBookTypeList = ref(['请选择', '娃衣', '娃头', '眼珠', '假发', '娃鞋', '其它', ]);\n\n\t// 账本数据\n\tconst accountBookData = ref({});\n\n\t// 切换账本选择类型\n\tfunction updateSelectedType(e) {\n\t\tselectedType.value = e.detail.value\n\t}\n\n\t//以id获取账本详情\n\tfunction getAccountBookById(id) {\n\t\tlet token = uni.getStorageSync('token')\n\t\t// /with-state/account-book-detail\n\t\tuni.request({\n\t\t\turl: websiteUrl.value + '/with-state/account-book-detail',\n\t\t\tmethod: 'GET',\n\t\t\theader: {\n\t\t\t\t'Authorization': token,\n\t\t\t},\n\t\t\tdata: {\n\t\t\t\tid: id\n\t\t\t},\n\t\t\tsuccess: (res) => {\n\t\t\t\tconsole.log(res.data.data);\n\t\t\t\tname.value = res.data.data.name;\n\t\t\t\tprice.value = parseInt(res.data.data.price);\n\t\t\t\tcount.value = res.data.data.count || 1; // 新增：设置个数\n\t\t\t\tselectedType.value = typeOptions.value.indexOf(res.data.data.type);\n\t\t\t\t// 修改：处理图片字符串为数组\n\t\t\t\tif (res.data.data.image_url) {\n\t\t\t\t\timageList.value = res.data.data.image_url.split(',');\n\t\t\t\t}\n\t\t\t\tform.value = {\n\t\t\t\t\tisRemind: res.data.data.is_remind,\n\t\t\t\t\tfinalPrice: res.data.data.final_price,\n\t\t\t\t\tfinalTime: res.data.data.final_time\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 修复：确保在分类数据加载后设置选中值\n\t\t\t\tconst typeName = res.data.data.type;\n\t\t\t\tconst index = typeOptions.value.findIndex(option => option === typeName);\n\t\t\t\t\n\t\t\t\tif (index !== -1) {\n\t\t\t\t  selectedType.value = index;\n\t\t\t\t} else {\n\t\t\t\t  console.warn(`未找到分类: ${typeName}`);\n\t\t\t\t  selectedType.value = 0; // 默认选择\"请选择分类\"\n\t\t\t\t}\n\n\t\t\t\t// 设置更多信息字段\n\t\t\t\tmoreInfo.value = {\n\t\t\t\t\tsizeDetail: res.data.data.size_detail || '',\n\t\t\t\t\tcolor: res.data.data.color || '',\n\t\t\t\t\tremark: res.data.data.remark || '',\n\t\t\t\t\tbuyDate: res.data.data.buy_date ? new Date(res.data.data.buy_date).toISOString().split(\n\t\t\t\t\t\t'T')[0] : '',\n\t\t\t\t\tposition: res.data.data.position || '',\n\t\t\t\t\tshopName: res.data.data.shop_name || '',\n\t\t\t\t\theadCircumference: res.data.data.head_circumference || '',\n\t\t\t\t\tshoulderWidth: res.data.data.shoulder_width || '',\n\t\t\t\t\tmakeupArtist: res.data.data.makeup_artist || '',\n\t\t\t\t\tarrivalDate: res.data.data.arrival_date ? new Date(res.data.data.arrival_date)\n\t\t\t\t\t\t.toISOString().split('T')[0] : '',\n\t\t\t\t\tadditionalValue: res.data.data.additional_value || ''\n\t\t\t\t};\n\n\t\t\t\t// 设置尺寸选择器\n\t\t\t\tif (res.data.data.size) {\n\t\t\t\t\t// 正确设置尺寸路径 [大分类, 小分类]\n\t\t\t\t\tselectedSizePath.value = [\n\t\t\t\t\t\tres.data.data.size,\n\t\t\t\t\t\tres.data.data.size_detail || ''\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t\tconsole.log(\"f:\", form)\n\t\t\t},\n\t\t\tfail: (err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t});\n\t}\n\n\t// 在script中添加商品选择处理\n\tconst handleGoodsSelect = async (goods) => {\n\t\ttry {\n\t\t\tconst res = await uni.request({\n\t\t\t\turl: websiteUrl.value + `/goods?id=${goods.id}`,\n\t\t\t\tmethod: 'GET'\n\t\t\t});\n\n\t\t\tif (res.data.status === \"success\") {\n\t\t\t\tconst detail = res.data.data;\n\t\t\t\t// 自动填充信息\n\t\t\t\tname.value = detail.name;\n\t\t\t\tprice.value = detail.fin_amount + detail.sub_amount;\n\t\t\t\tcount.value = 1; // 默认个数为1\n\n\t\t\t\t// 添加商品图片\n\t\t\t\tif (detail.goods_images?.[0]) {\n\t\t\t\t\t// 清空原有图片，只添加新商品的图片\n\t\t\t\t\timageList.value = [detail.goods_images[0]];\n\t\t\t\t}\n\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('获取商品详情失败:', error);\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '获取商品信息失败',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t}\n\t};\n\n\n\t// 删除账本 /delete-account-book\n\tfunction handleDelete() {\n\t\tuni.showModal({\n\t\t\ttitle: '提示',\n\t\t\tcontent: '确定删除该账本吗？',\n\t\t\tsuccess: (res) => {\n\t\t\t\tif (res.confirm) {\n\t\t\t\t\t// 参数校验\n\t\t\t\t\tconst id = Number(props.account_book_id);\n\t\t\t\t\tif (isNaN(id) || id <= 0) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '参数错误',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tuni.request({\n\t\t\t\t\t\turl: websiteUrl.value + '/with-state/delete-account-book',\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t'Authorization': uni.getStorageSync('token'),\n\t\t\t\t\t\t\t'Content-Type': 'application/json' // 添加Content-Type\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t}, // 改为JSON格式传参\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t// 严格判断响应状态\n\t\t\t\t\t\t\tconsole.log(res.data.status)\n\t\t\t\t\t\t\tif (res.data.status === \"success\") {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '删除成功',\n\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tsetTimeout(() => uni.navigateBack(), 500);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: res.data.msg || '删除失败',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\tconsole.error('请求失败:', err);\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '网络错误',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// 选择图片（支持多选）\n\tasync function selectImage() {\n\t\tuni.chooseImage({\n\t\t\tcount: 9,\n\t\t\tsuccess: async (res) => {\n\t\t\t\tconst tempFilePaths = res.tempFilePaths;\n\n\t\t\t\t// 依次上传所有图片（每张图片使用独立的 token）\n\t\t\t\tfor (const filePath of tempFilePaths) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// 为每张图片获取独立的 token\n\t\t\t\t\t\tconst tokenData = await getQiniuToken();\n\t\t\t\t\t\tconst uploadRes = await uploadImageToQiniu(filePath, tokenData.token, tokenData\n\t\t\t\t\t\t\t.path);\n\t\t\t\t\t\tconsole.log(\"res:\", uploadRes)\n\t\t\t\t\t\tif (uploadRes.qiniuRes.statusCode === 200) {\n\t\t\t\t\t\t\tconst imageUrl = image1Url + tokenData.path;\n\t\t\t\t\t\t\timageList.value.push(imageUrl);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.error('上传失败:', filePath);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.error('上传错误:', error);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: `上传了${tempFilePaths.length}张图片`,\n\t\t\t\t\ticon: 'success'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t// 删除图片\n\n\tfunction removeImage(index, event) {\n\t\tif (event && event.stopPropagation) {\n\t\t\tevent.stopPropagation();\n\t\t}\n\n\t\tuni.showModal({\n\t\t\ttitle: '删除图片',\n\t\t\tcontent: '确定删除这张图片吗？',\n\t\t\tsuccess: (res) => {\n\t\t\t\tif (res.confirm) {\n\t\t\t\t\timageList.value.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// 加载用户信息\n\tasyncGetUserInfo().then((userInfo) => {\n\t\tif (isEdit) {\n\t\t\t//编辑\n\t\t\tgetAccountBookById(props.account_book_id)\n\t\t\tuni.setNavigationBarTitle({\n\t\t\t\ttitle: '编辑账本'\n\t\t\t})\n\t\t} else {\n\t\t\tuni.setNavigationBarTitle({\n\t\t\t\ttitle: '新增账本'\n\t\t\t})\n\t\t}\n\n\t})\n\n\t//提交表单\n\tfunction postSubmit() {\n\t\tif (!validateForm()) return;\n\n\t\t// 区分是新增还是提交，新增 post /with-state/account-book  提交 post /with-state/update-account-book\n\t\tif (isEdit) {\n\t\t\t//编辑\n\t\t\tupdateAccountBook()\n\t\t} else {\n\t\t\t//新增\n\t\t\taddAccountBook()\n\t\t}\n\n\n\t}\n\n\t// 修改提交逻辑\n\tconst validateForm = () => {\n\t\t// 新增：验证个数\n\t\tif (count.value <= 0) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '个数必须大于0',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t\treturn false;\n\t\t}\n\n\t\tif (form.value.isRemind) {\n\t\t\tif (!form.value.finalPrice || form.value.finalPrice <= 0) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请输入正确的尾款金额',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t};\n\n\t//新增\n\tfunction addAccountBook() {\n\t\tlet postData = {\n\t\t\tname: name.value,\n\t\t\tprice: parseInt(price.value, 10),\n\t\t\tcount: parseInt(count.value, 10), // 新增：个数\n\t\t\ttype: typeOptions.value[selectedType.value], // 使用合并后的分类列表\n\t\t\timage_url: imageList.value.join(','), // 修改：图片数组转逗号分隔字符串\n\t\t\tis_remind: form.value.isRemind,\n\t\t\tfinal_price: parseInt(form.value.finalPrice, 10),\n\t\t\tfinal_time: form.value.finalTime,\n\t\t\t// 新增更多信息字段\n\t\t\tsize: selectedSizePath.value[0] || '', // 大分类\n\t\t\tsize_detail: moreInfo.value.sizeDetail || '', // 小分类/尺寸详情\n\t\t\tcolor: moreInfo.value.color,\n\t\t\tremark: moreInfo.value.remark,\n\t\t\tbuy_date: moreInfo.value.buyDate,\n\t\t\tposition: moreInfo.value.position,\n\t\t\tshop_name: moreInfo.value.shopName,\n\t\t\thead_circumference: moreInfo.value.headCircumference,\n\t\t\tshoulder_width: moreInfo.value.shoulderWidth,\n\t\t\tmakeup_artist: moreInfo.value.makeupArtist,\n\t\t\tarrival_date: moreInfo.value.arrivalDate,\n\t\t\tadditional_value: moreInfo.value.additionalValue\n\t\t}\n\n\t\tconsole.log('提交数据:', postData)\n\n\t\tuni.request({\n\t\t\turl: websiteUrl.value + '/with-state/add-account-book',\n\t\t\tmethod: \"POST\",\n\t\t\theader: {\n\t\t\t\t'Authorization': uni.getStorageSync('token'),\n\t\t\t},\n\t\t\tdata: postData,\n\t\t\tsuccess: (res) => {\n\t\t\t\tconsole.log(res.data)\n\t\t\t\tif (res.data.status == \"success\") {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '提交成功',\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t})\n\t\t\t\t\t//一秒后返回上级页面\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tuni.navigateBack()\n\t\t\t\t\t}, 500)\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t}\n\t//修改\n\tfunction updateAccountBook() {\n\n\t\tlet postData = {\n\t\t\tname: name.value,\n\t\t\tprice: parseInt(price.value, 10),\n\t\t\tcount: parseInt(count.value, 10), // 新增：个数\n\t\t\ttype: typeOptions.value[selectedType.value], // 使用合并后的分类列表\n\t\t\timage_url: imageList.value.join(','), // 修改：图片数组转逗号分隔字符串\n\t\t\tid: parseInt(props.account_book_id, 10),\n\t\t\tis_remind: form.value.isRemind, // 转换为数据库需要的格式\n\t\t\tfinal_price: parseInt(form.value.finalPrice, 10),\n\t\t\tfinal_time: form.value.finalTime,\n\t\t\t// 新增更多信息字段\n\t\t\tsize: selectedSizePath.value[0] || '', // 大分类\n\t\t\tsize_detail: moreInfo.value.sizeDetail || '', // 小分类/尺寸详情\n\t\t\tcolor: moreInfo.value.color,\n\t\t\tremark: moreInfo.value.remark,\n\t\t\tbuy_date: moreInfo.value.buyDate,\n\t\t\tposition: moreInfo.value.position,\n\t\t\tshop_name: moreInfo.value.shopName,\n\t\t\thead_circumference: moreInfo.value.headCircumference,\n\t\t\tshoulder_width: moreInfo.value.shoulderWidth,\n\t\t\tmakeup_artist: moreInfo.value.makeupArtist,\n\t\t\tarrival_date: moreInfo.value.arrivalDate,\n\t\t\tadditional_value: moreInfo.value.additionalValue,\n\t\t}\n\n\t\tuni.request({\n\t\t\turl: websiteUrl.value + '/with-state/update-account-book',\n\t\t\tmethod: \"POST\",\n\t\t\theader: {\n\t\t\t\t'Authorization': uni.getStorageSync('token'),\n\t\t\t},\n\t\t\tdata: postData,\n\t\t\tsuccess: (res) => {\n\t\t\t\tconsole.log(res.data)\n\t\t\t\tif (res.data.status == \"success\") {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '提交成功',\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t})\n\t\t\t\t\t//一秒后返回上级页面\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tuni.navigateBack()\n\t\t\t\t\t}, 500)\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\t}\n\n\t//viewFullImage\n\tfunction viewFullImage(index) {\n\t\tuni.previewImage({\n\t\t\tcurrent: imageList.value['index'],\n\t\t\turls: imageList.value,\n\t\t})\n\t}\n\n\t// 在原有onShow中添加\n\tonShow(async () => {\n\t  await asyncGetUserInfo();\n\t  \n\t  // 1. 确保分类数据优先加载\n\t  await getAccountTypes();\n\t  \n\t  // 2. 加载尺寸数据\n\t  await fetchSizes();\n\t  \n\t  // 3. 如果是编辑模式，再加载账本详情\n\t  if (isEdit) {\n\t    await getAccountBookById(props.account_book_id);\n\t    uni.setNavigationBarTitle({\n\t      title: '编辑账本'\n\t    });\n\t  } else {\n\t    uni.setNavigationBarTitle({\n\t      title: '新增账本'\n\t    });\n\t  }\n\t});\n\t// 获取商品信息\n\tconst getGoodsInfo = (id) => {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tuni.request({\n\t\t\t\turl: websiteUrl.value + '/goods?id=' + id,\n\t\t\t\tmethod: 'GET',\n\t\t\t\ttimeout: 5000,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.data.status === \"success\") {\n\t\t\t\t\t\tresolve(res.data.data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(new Error(res.data.msg || '获取商品信息失败'));\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.error('商品详情获取失败', err);\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t}\n\n\t// 使用商品信息填充表单\n\tconst fillFormWithGoodsInfo = (goodsInfo) => {\n\t\t// 填充商品名称\n\t\tname.value = goodsInfo.name;\n\n\t\t// 计算总价（定金+尾款）\n\t\tconst totalPrice = goodsInfo.total_amount ? goodsInfo.total_amount : (parseFloat(goodsInfo.sub_amount) || 0) +\n\t\t\t(parseFloat(goodsInfo.fin_amount) || 0);\n\t\tprice.value = totalPrice;\n\n\t\t// 添加商品图片\n\t\tif (goodsInfo.goods_images && goodsInfo.goods_images.length > 0) {\n\t\t\timageList.value = [goodsInfo.goods_images[0]];\n\t\t}\n\n\t\t// 如果有尺寸信息，设置尺寸选择器\n\t\tif (goodsInfo.size) {\n\t\t\t// 设置尺寸选择器\n\t\t\tselectedSizePath.value = [\n\t\t\t\tgoodsInfo.size, // 大分类\n\t\t\t\tgoodsInfo.size_detail || '' // 小分类/尺寸详情\n\t\t\t];\n\n\t\t\t// 填充尺寸详情\n\t\t\tmoreInfo.value.sizeDetail = goodsInfo.size_detail || '';\n\t\t}\n\n\t\t// 如果有货币类型，添加到名称后面\n\t\tif (goodsInfo.currency) {\n\t\t\tname.value += ` (${goodsInfo.currency})`;\n\t\t}\n\n\t\t// 如果有颜色信息，填充颜色\n\t\tif (goodsInfo.color) {\n\t\t\tmoreInfo.value.color = goodsInfo.color;\n\t\t}\n\t}\n\n\t// 在setup中添加onLoad钩子\n\tonLoad(async (options) => {\n\t\t// 接收跳转参数\n\t\tconsole.log(\"接收到的参数:\", options);\n\n\t\t// 如果有goods_id参数，获取商品信息\n\t\tif (options.goods_id) {\n\t\t\ttry {\n\t\t\t\tconst goodsInfo = await getGoodsInfo(options.goods_id);\n\t\t\t\tfillFormWithGoodsInfo(goodsInfo);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('获取商品信息失败:', error);\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '获取商品信息失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n</script>\n\n\n<style lang=\"scss\" scoped>\n$primary-color: #65C3D6;\n$secondary-color: #94a5f3;\n$border-color: #e0e0e0;\n$bg-color: #f5f7fa;\n$radius: 24rpx;\n\n.container {\n  background-color: $bg-color;\n  min-height: 100vh;\n}\n\n.form-card {\n  background: white;\n  border-radius: $radius;\n  padding: 40rpx;\n  box-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.04);\n}\n\n.form-item {\n  margin-bottom: 48rpx;\n  position: relative;\n}\n\n.form-label {\n  position: absolute;\n  left: 20rpx;\n  top: -16rpx;\n  padding: 0 10rpx;\n  background: white;\n  font-size: 26rpx;\n  color: #b8b8b8;\n  z-index: 1;\n  transition: all 0.3s ease;\n}\n\n.form-input {\n  height: 100rpx;\n  padding: 0 20rpx;\n  border: 2rpx solid $border-color;\n  border-radius: 16rpx;\n  font-size: 28rpx;\n  transition: all 0.3s;\n  line-height: 100rpx;\n  background: white;\n  position: relative;\n  \n  &:focus {\n    border-color: $primary-color;\n    box-shadow: 0 4rpx 12rpx rgba($primary-color, 0.2);\n  }\n}\n\n.type-selector {\n  display: flex;\n  align-items: center;\n  gap: 20rpx;\n  \n  .form-input {\n    flex: 1;\n  }\n}\n\n.manage-type {\n  font-size: 24rpx;\n  color: $primary-color;\n  padding: 8rpx 20rpx;\n  border: 1rpx solid $primary-color;\n  border-radius: 40rpx;\n  flex-shrink: 0;\n  background: linear-gradient(135deg, #97e7f7, #d5acd6);\n  transition: all 0.3s;\n  color: #fff;\n  \n  &:active {\n    background: rgba($primary-color, 0.2);\n    transform: scale(0.98);\n  }\n}\n\n.upload-wrapper {\n  border: 2rpx dashed $border-color;\n  border-radius: $radius;\n  padding: 30rpx;\n  text-align: center;\n  background: #e0e0e038;\n}\n\n.image-grid {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20rpx;\n  margin-top: 20rpx;\n}\n\n.preview-image {\n  position: relative;\n  width: 180rpx;\n  height: 180rpx;\n  border-radius: $radius;\n  overflow: hidden;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);\n  \n  .image-preview {\n    width: 100%;\n    height: 100%;\n  }\n  \n  .image-actions {\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6rpx;\n    border-radius: 100%;\n  }\n  \n  .delete-icon {\n    display: block;\n    background: rgba(255, 102, 102, 0.8);\n    border-radius: 50%;\n    height: 53rpx;\n    width: 53rpx;\n    box-sizing: border-box;\n    padding: 4rpx;\n  }\n}\n\n.add-image-box {\n  width: 180rpx;\n  height: 180rpx;\n  border: 2rpx dashed $border-color;\n  border-radius: $radius;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background: white;\n  color: #999;\n  font-size: 24rpx;\n  transition: all 0.3s;\n  \n  &:active {\n    background: rgba($primary-color, 0.1);\n    border-color: $primary-color;\n  }\n}\n\n.add-text {\n  margin-top: 10rpx;\n}\n\n.button-group {\n  display: flex;\n  gap: 20rpx;\n  margin-top: 60rpx;\n  \n  button {\n    flex: 1;\n  }\n}\n.custom-search-container {\n\tposition: relative;\n\ttop: 15rpx;\n\tleft: 5rpx;\n\twidth: 90%;\n}\n.submit-button {\n  background: linear-gradient(135deg, $primary-color, $secondary-color);\n  color: white;\n  border: none;\n  border-radius: 16rpx;\n  font-size: 32rpx;\n  height: 96rpx;\n  line-height: 96rpx;\n  box-shadow: 0 8rpx 24rpx rgba($primary-color, 0.3);\n  transition: all 0.3s;\n  \n  &:active {\n    transform: scale(0.98);\n    opacity: 0.9;\n  }\n}\n\n.delete-button {\n  background: linear-gradient(135deg, #adadad, #ffbdbb);\n  color: white;\n  border: none;\n  border-radius: 16rpx;\n  font-size: 32rpx;\n  height: 96rpx;\n  line-height: 96rpx;\n  box-shadow: 0 8rpx 24rpx rgba(255, 77, 79, 0.2);\n  transition: all 0.3s;\n  \n  &:active {\n    transform: scale(0.98);\n    opacity: 0.9;\n  }\n}\n\n.remind-label {\n  display: flex;\n  align-items: center;\n  gap: 15rpx;\n  font-size: 28rpx;\n  color: #666;\n  position: relative;\n  padding-right: 40rpx;\n  cursor: pointer;\n  \n  .remind-dot {\n    position: absolute;\n    right: 0;\n    top: 50%;\n    transform: translateY(-50%);\n    width: 16rpx;\n    height: 16rpx;\n    background: #ff4444;\n    border-radius: 50%;\n    box-shadow: 0 2rpx 8rpx rgba(255, 68, 68, 0.2);\n  }\n}\n\n.arrow-icon {\n  width: 5rpx;\n  height: 5rpx;\n  border: solid #888;\n  border-width: 0 2rpx 2rpx 0;\n  transform: rotate(-45deg);\n  transition: transform 0.3s ease;\n  padding: 5rpx;\n  position: relative;\n  \n  \n  &.arrow-down {\n    transform: rotate(45deg);\n\tbottom: 5rpx;\n  }\n}\n\n.remind-form, .more-info-form {\n  background: #e0e0e038;\n  border-radius: $radius;\n  padding: 30rpx;\n  margin-top: 20rpx;\n  border: 1px solid rgba($primary-color, 0.1);\n  animation: fadeIn 0.3s ease;\n  margin-bottom: 20rpx;\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; transform: translateY(-10rpx); }\n  to { opacity: 1; transform: translateY(0); }\n}\n\n.type-modal {\n  padding: 30rpx;\n  box-sizing: border-box;\n  width: 80vw;\n  height: 50vh;\n  \n  .type-list {\n    max-height: 500rpx;\n    overflow-y: auto;\n    margin-bottom: 40rpx;\n  }\n  \n  .type-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 25rpx;\n    border-bottom: 1rpx solid #eee;\n    background: white;\n    border-radius: 12rpx;\n    margin-bottom: 20rpx;\n    box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.05);\n    \n    text {\n      font-size: 26rpx;\n      color: #333;\n    }\n  }\n  \n  .add-type-form {\n    display: flex;\n    gap: 20rpx;\n    margin-bottom: 30rpx;\n    \n    .type-input {\n      flex: 1;\n      border: 1rpx solid #ddd;\n      border-radius: 16rpx;\n      padding: 0 30rpx;\n      font-size: 26rpx;\n      height: 80rpx;\n      line-height: 80rpx;\n    }\n    \n    .add-btn {\n      background: $primary-color;\n      color: white;\n      font-size: 26rpx;\n      padding: 0 30rpx;\n      border-radius: 16rpx;\n      height: 80rpx;\n      line-height: 80rpx;\n      transition: all 0.3s;\n      \n      &:active {\n        opacity: 0.9;\n      }\n    }\n  }\n}\n\n.picker-content {\n  height: 100rpx;\n  line-height: 100rpx;\n  color: #333;\n  padding: 0 20rpx;\n}\n\n.info-text {\n  color: #888;\n  font-size: 24rpx;\n  display: flex;\n  align-items: center;\n  margin-top: 30rpx;\n  \n  image {\n    width: 28rpx;\n    height: 28rpx;\n    margin-right: 10rpx;\n  }\n}\n\n.size-picker {\n  padding: 20rpx 0;\n  \n  ::v-deep .input-value-border {\n    border: 2rpx solid $border-color;\n    border-radius: 16rpx;\n    height: 100rpx;\n    padding: 0 20rpx;\n    \n    &:focus {\n      border-color: $primary-color;\n    }\n  }\n}\n\n.date-picker-wrapper {\n  padding: 0px 10px;\n  border: 1px solid #e6e6e6; \n  border-radius: 10px;\n  height: 100rpx;\n  line-height: 100rpx;\n}\n\n/* 新增图标样式 */\n.input-icon {\n  position: absolute;\n  right: 30rpx;\n  top: 50%;\n  transform: translateY(-50%);\n  z-index: 2;\n  color: #999;\n}\n</style>","import MiniProgramPage from '/Users/sapphirell/Documents/git/dogdogdoll-uniapp/pages/stock/account_book_form/account_book_form.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","computed","websiteUrl","res","getQiniuToken","uploadImageToQiniu","image1Url","asyncGetUserInfo","onShow","onLoad"],"mappings":"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"}