{"version":3,"file":"collocation_square.js","sources":["pages/collocation_square/collocation_square.vue","pages/collocation_square/collocation_square.vue?type=page"],"sourcesContent":["<template>\r\n\t<meta name=\"theme-color\" content=\"#def9ff\"></meta>\n\t<view-logs />\r\n\t<common-page head_color=\"#def9ff\">\r\n\t\t<!-- 看看 Tab 内容 --><!-- 顶部 tab 切换栏 -->\n\t\t<view class=\"tabs\">\r\n\t\t\t<view class=\"tab\" :class=\"{ active: currentTab === 'find' }\" @tap=\"handleTabSwitch('find')\">\n\t\t\t\t<image src=\"/static/new-icon/findfind.gif\" class=\"tab-image\"></image>\n\t\t\t\t<!-- <text>找找</text> -->\n\t\t\t</view>\r\n\t\t\t<view class=\"tab\" :class=\"{ active: currentTab === 'view' }\" @tap=\"handleTabSwitch('view')\"> \n\t\t\t\t<image src=\"/static/new-icon/sesee.png\" class=\"tab-image\" style=\"position: relative;bottom: 5rpx;\"></image>\n\t\t\t\t<!-- <text>看看</text> -->\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 找找 Tab 内容 -->\r\n\t\t<view v-if=\"currentTab === 'find'\">\r\n\t\t\t<!-- 分类筛选区域 -->\r\n\t\t\t<view class=\"category-container\">\n\t\t\t\t<view style=\"margin: 10rpx 0 40rpx 0;\">\n\t\t\t\t\t<goods-search :hidden-icon=\"false\" width=\"670rpx\"></goods-search>\n\t\t\t\t</view>\n\t\t\t\t<!-- 商品分类 -->\r\n\t\t\t\t<scroll-view scroll-x class=\"category-scroll\" :show-scrollbar=\"false\">\r\n\t\t\t\t\t<view class=\"category-item\" v-for=\"(type, index) in goodsTypes\" :key=\"index\"\r\n\t\t\t\t\t\t:class=\"{ active: selectedType === type }\" @tap=\"selectType(type)\">\r\n\t\t\t\t\t\t{{ type }}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\r\n\t\t\t\t<!-- 尺寸分类 -->\r\n\t\t\t\t<scroll-view scroll-x class=\"size-scroll\" :show-scrollbar=\"false\">\r\n\t\t\t\t\t<view class=\"size-item\" v-for=\"(size, index) in sizes\" :key=\"index\"\r\n\t\t\t\t\t\t:class=\"{ active: selectedSize === size }\" @tap=\"selectSize(size)\">\r\n\t\t\t\t\t\t{{ size }}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 随机商品列表 -->\r\n\t\t\t<scroll-view class=\"goods-list\" scroll-y @scrolltolower=\"loadMoreGoods\" :show-scrollbar=\"false\">\r\n\t\t\t\t<view class=\"goods-container\">\r\n\t\t\t\t\t<view v-for=\"(goods, index) in randomGoodsList\" :key=\"goods.id\" class=\"goods-card\" @tap=\"jumpGoods(goods.id)\">\r\n\t\t\t\t\t\t<image :src=\"goods.goods_images[0]\" mode=\"aspectFill\" class=\"goods-image\" />\r\n\t\t\t\t\t\t<view class=\"goods-info\">\r\n\t\t\t\t\t\t\t<text class=\"goods-name\">{{ goods.name }}</text>\r\n\t\t\t\t\t\t\t<text class=\"goods-brand\">{{ goods.brand_name }}</text>\r\n\t\t\t\t\t\t\t<text class=\"goods-price\">{{ goods.total_amount }} {{ goods.currency }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 加载状态 -->\r\n\t\t\t\t<view class=\"loading-state\">\r\n\t\t\t\t\t<text v-if=\"goodsLoading\">加载中...</text>\r\n\t\t\t\t\t<text v-if=\"goodsNoMore\" class=\"no-more\">没有更多了</text>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t\t<view v-if=\"currentTab === 'view'\">\n\t\t\t<!-- 筛选栏 -->\n\t\t\t<!-- <view class=\"filter-bar\" :style=\"miniProgram ? 'width:500rpx' : ''\"> -->\n\t\t\t<view class=\"filter-bar-container\">\n\t\t\t\t<view class=\"filter-bar\" >\n\t\t\t\t\t<view class=\"filter-tags\" @tap=\"showFilter\">\n\t\t\t\t\t\t<view class=\"selected-goods\">\n\t\t\t\t\t\t\t<view v-for=\"goods in filterGoods\" :key=\"goods.goods_id\" class=\"tag\"\n\t\t\t\t\t\t\t\t@tap.stop=\"(e) => removeGood(goods.goods_id, e)\">\n\t\t\t\t\t\t\t\t{{ goods.goods_name }}\n\t\t\t\t\t\t\t\t<text class=\"remove\">×</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text v-if=\"!filterGoods.length\" class=\"tip\">当前无筛选条件</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<button class=\"submit-btn\" @tap=\"fetchCollocations(true)\">筛选</button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\r\n\t\t\t<view class=\"container\">\r\n\t\t\t\t<!-- <view v-if=\"miniProgram\" style=\"height: 40rpx;\"></view> -->\r\n\t\t\t\t\r\n\t\t\t\t<!-- 搭配列表 -->\r\n\t\t\t\t<scroll-view class=\"card-list\" scroll-y @scrolltolower=\"loadMore\" :show-scrollbar=\"false\">\r\n\t\t\t\t\t<view class=\"cards-container\" :style=\"{ height: containerHeight + 'px' }\">\r\n\t\t\t\t\t\t<view v-for=\"(item, index) in collocationList\" :key=\"item.collocation_id\" class=\"card\"\r\n\t\t\t\t\t\t\t:id=\"'card-' + index\" :style=\"cardStyle(index)\"\r\n\t\t\t\t\t\t\t@tap=\"jump2collectionDetail(item.collocation_id, item.origin )\">\r\n\r\n\t\t\t\t\t\t\t<view class=\"user-info\" @tap.stop=\"jumpToUserPage(item.uid)\">\r\n\t\t\t\t\t\t\t\t<image :src=\"item.avatar || '/default_avatar.jpg'\" class=\"avatar\" mode=\"aspectFill\" />\r\n\t\t\t\t\t\t\t\t<view class=\"user-meta\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"username\">{{ getUserName(item.username) }}</text>\r\n\t\t\t\t\t\t\t\t\t<view class=\"like-count\">\r\n\t\t\t\t\t\t\t\t\t\t<uni-icons type=\"hand-up\" size=\"18\" color=\"#5f85a3\"></uni-icons>\r\n\t\t\t\t\t\t\t\t\t\t<text style=\"margin: 0 5rpx;color: #5f85a3;\"> {{ item.like_count }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<image v-if=\"item.image_urls?.length > 0\" :src=\"item.image_urls[0]\" mode=\"aspectFill\"\r\n\t\t\t\t\t\t\t\tclass=\"card-image\" lazy-load />\r\n\t\t\t\t\t\t\t<view class=\"card-content\">\r\n\t\t\t\t\t\t\t\t<text class=\"title\">{{ item.title }}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"desc\">{{ item.content }}</text>\r\n\t\t\t\t\t\t\t\t<view class=\"goods-tags\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"tag-box\" v-for=\"(rel, index) in item.relation_list\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"goods-tag\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{ rel.relation_goods_name || '未命名商品' }}\r\n\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 加载状态 -->\r\n\t\t\t\t\t<view class=\"loading-state\">\r\n\t\t\t\t\t\t<text v-if=\"loading\">加载中...</text>\r\n\t\t\t\t\t\t<text v-if=\"noMore\" class=\"no-more\">没有更多了</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\r\n\t\t\t\t<!-- 悬浮发帖按钮 -->\r\n\t\t\t\t<view class=\"floating-button\" @tap=\"togglePostMenu\">\r\n\t\t\t\t\t<uni-icons type=\"plusempty\" size=\"30\" color=\"#fff\"></uni-icons>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 发帖菜单 -->\r\n\t\t\t\t<uni-transition name=\"fade\" mode=\"out-in\" :duration=\"300\">\r\n\t\t\t\t\t<view v-if=\"showPostMenu\" class=\"post-menu-mask\" @tap=\"closePostMenu\"></view>\r\n\t\t\t\t</uni-transition>\r\n\t\t\t\t<view class=\"post-menu\" :class=\"{ show: showPostMenu }\">\r\n\t\t\t\t\t<view class=\"menu-item\" @tap=\"goToCollocation\">\r\n\t\t\t\t\t\t<uni-icons style=\"margin-right: 10rpx;\" type=\"color\" size=\"24\" color=\"#5f85a3\"></uni-icons>\r\n\t\t\t\t\t\t<text>发搭配分享</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"menu-item\" @tap=\"goToShowcase\">\r\n\t\t\t\t\t\t<uni-icons style=\"margin-right: 10rpx;\" type=\"compose\" size=\"24\" color=\"#5f85a3\"></uni-icons>\r\n\t\t\t\t\t\t<text>发展示柜</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 筛选弹窗 -->\r\n\t\t\t\t<common-modal v-model:visible=\"showFilterModal\" top=\"0\" width=\"100%\" height=\"100%\">\r\n\t\t\t\t\t<view class=\"modal-mask\" @tap.stop=\"closeFilter\"></view>\r\n\t\t\t\t\t<view class=\"filter-modal\">\r\n\t\t\t\t\t\t<view class=\"modal-header\" :style=\"miniProgram ? 'margin-top:60rpx' : 'margin-top:0rpx'\">\r\n\t\t\t\t\t\t\t<text class=\"title\">筛选看想要的娃物搭配吧！</text>\r\n\t\t\t\t\t\t\t<text class=\"close\" @tap=\"closeFilter\">×</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<!-- 商品搜索组件 -->\r\n\t\t\t\t\t\t<goods-search mode=\"fill\" @select=\"handleGoodsSelect\" :background=\"'#f8f8f8'\" :width=\"'100%'\" />\r\n\r\n\t\t\t\t\t\t<!-- 已选商品展示 -->\r\n\t\t\t\t\t\t<view class=\"selected-goods\">\r\n\t\t\t\t\t\t\t<view v-for=\"goods in filterGoods\" :key=\"goods.goods_id\" class=\"goods-tag\"\r\n\t\t\t\t\t\t\t\t@tap.stop=\"(e) => removeGood(goods.goods_id, e)\">\r\n\t\t\t\t\t\t\t\t{{ goods.goods_name }}\r\n\t\t\t\t\t\t\t\t<text class=\"remove\">×</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"action-btns\">\r\n\t\t\t\t\t\t\t<button class=\"btn reset\" @tap=\"resetFilter\">重置</button>\r\n\t\t\t\t\t\t\t<button class=\"btn confirm\" @tap=\"applyFilter\">应用筛选</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</common-modal>\r\n\t\t\t</view>\r\n\t\t</view>\n\t\t<loading-toast :show=\"goodsLoading||loading\"></loading-toast>\r\n\t</common-page>\r\n\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\treactive,\r\n\t\tonMounted,\r\n\t\tnextTick,\r\n\t\tgetCurrentInstance\r\n\t} from 'vue'\r\n\r\n\timport {\r\n\t\tonLoad,\r\n\t\tonReachBottom,\r\n\t\tonPullDownRefresh,\r\n\t} from \"@dcloudio/uni-app\"\r\n\r\n\timport {\r\n\t\twebsiteUrl\r\n\t} from '../../common/config.js'\r\n\n\r\n\t// 响应式数据\n\tconst currentTab = ref('find') // 'find' 或 'view'\r\n\tconst collocationList = ref([])\r\n\tconst loading = ref(false)\r\n\tconst noMore = ref(false)\r\n\tconst currentPage = ref(1)\r\n\tconst pageSize = 10\r\n\r\n\tconst containerHeight = ref(0)\r\n\tconst cardWidth = ref(0)\r\n\tconst columnsHeight = reactive([0, 0]) // 记录两列高度\r\n\r\n\t// 筛选相关\r\n\tconst showFilterModal = ref(false)\r\n\tconst filterBrand = ref('')\r\n\tconst goodsOptions = ref([])\r\n\tconst instance = getCurrentInstance()\r\n\r\n\tconst selectedBrand = ref(null)\r\n\tconst filterGoods = ref([]) // 现在存储的是 {goods_id, goods_name} 对象数组\r\n\tconst tempSelectGoods = ref(null) // 临时存储选择的商品\r\n\r\n\t// 商品相关数据\r\n\tconst randomGoodsList = ref([])\r\n\tconst goodsLoading = ref(false)\r\n\tconst goodsNoMore = ref(false)\r\n\tconst goodsCursor = ref(-1)\r\n\tconst selectedType = ref('全部')\r\n\tconst selectedSize = ref('全部')\r\n\tconst goodsTypes = ref([])\r\n\tconst sizes = ref([])\r\n\r\n\t// 是否小程序\r\n\tconst miniProgram = process.env.VUE_APP_PLATFORM === 'mp-weixin'\r\n\t// 新增发帖按钮相关状态\r\n\tconst showPostMenu = ref(false);\r\n\r\n\t// 切换发帖菜单显示状态\r\n\tconst togglePostMenu = () => {\r\n\t\tshowPostMenu.value = !showPostMenu.value;\r\n\t};\r\n\r\n\t// 关闭发帖菜单\r\n\tconst closePostMenu = () => {\r\n\t\tshowPostMenu.value = false;\r\n\t};\r\n\r\n\r\n\r\n\t// 跳转到搭配分享页面\r\n\tconst goToCollocation = () => {\r\n\t\tclosePostMenu();\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/collocation/collocation'\r\n\t\t});\r\n\t};\r\n\r\n\t// 跳转到展示柜页面\r\n\tconst goToShowcase = () => {\r\n\t\tclosePostMenu();\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/stock/showcase_form/showcase_form'\r\n\t\t});\r\n\t};\r\n\r\n\t// 计算卡片样式\r\n\tconst cardStyle = (index) => {\r\n\t\tconst item = collocationList.value[index]\r\n\t\tif (!item.position) return {}\r\n\t\treturn {\r\n\t\t\tleft: `${item.position.left}px`,\r\n\t\t\ttop: `${item.position.top}px`,\r\n\t\t\twidth: `${cardWidth.value}px`\r\n\t\t}\r\n\t}\r\n\r\n\t// 计算布局逻辑\r\n\tconst calculateLayout = (instance) => {\r\n\t\t// 获取组件实例的正确方式\r\n\t\tconsole.log(\"进入计算布局逻辑\")\r\n\t\tif (!instance) {\r\n\t\t\tconsole.log(\"无法获取instance\")\r\n\t\t\treturn\r\n\t\t}\r\n\t\tconsole.log(\"获取成功\")\r\n\t\tif (!collocationList.value) {\r\n\t\t\tconsole.log(\"无列表数据，不需要计算布局\")\r\n\t\t\treturn\r\n\t\t}\r\n\t\tconsole.log(\"获取成功，准备createSelectorQuery\")\r\n\t\tconsole.log(instance)\r\n\t\tconst query = uni.createSelectorQuery().in(instance.proxy)\r\n\t\tconsole.log(\"获取到query\")\r\n\t\t// 收集所有查询任务\r\n\t\tconst tasks = collocationList.value.map((_, index) => {\r\n\t\t\treturn new Promise((resolve) => {\r\n\t\t\t\tquery.select(`#card-${index}`).boundingClientRect(rect => {\r\n\t\t\t\t\tresolve({\r\n\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\trect\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t})\r\n\r\n\t\t// 统一执行查询\r\n\t\tquery.exec(async () => {\r\n\t\t\tconsole.log(\"进入Query\")\r\n\t\t\t// 重置列高\r\n\t\t\tcolumnsHeight[0] = 0\r\n\t\t\tcolumnsHeight[1] = 0\r\n\r\n\t\t\t// 按顺序处理所有查询结果\r\n\t\t\tconst results = await Promise.all(tasks)\r\n\t\t\tif (!results.length) {\r\n\t\t\t\tconsole.warn('未查询到任何卡片元素');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tresults.forEach(({\r\n\t\t\t\tindex,\r\n\t\t\t\trect\r\n\t\t\t}) => {\r\n\t\t\t\tif (!rect) {\r\n\t\t\t\t\tconsole.error(`卡片${index}元素查询失败`);\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst item = collocationList.value[index]\r\n\t\t\t\tconst colIdx = columnsHeight[0] <= columnsHeight[1] ? 0 : 1\r\n\t\t\t\tconst left = colIdx * (cardWidth.value + 10)\r\n\t\t\t\tconst top = columnsHeight[colIdx] + 10\r\n\r\n\t\t\t\tcolumnsHeight[colIdx] = top + rect.height\r\n\t\t\t\titem.position = {\r\n\t\t\t\t\tleft,\r\n\t\t\t\t\ttop\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t// 更新容器高度\r\n\t\t\tcontainerHeight.value = Math.max(...columnsHeight) + 20 // 添加安全边距\r\n\t\t})\r\n\t}\n\t\n\tconst handleTabSwitch = (tab) => {\n\t  // 强制关闭所有可能遮挡的层\n\t  showPostMenu.value = false;\n\t  showFilterModal.value = false;\n\t  \n\t  // 清空布局计算数据（针对看看页）\n\t  if (currentTab.value === 'view') {\n\t    collocationList.value.forEach(item => {\n\t      delete item.position;\n\t    });\n\t    columnsHeight[0] = 0;\n\t    columnsHeight[1] = 0;\n\t  }\n\t  \n\t  // 执行原有切换逻辑\n\t  switchTab(tab);\n\t}\r\n\r\n\t// 切换标签页\r\n\tconst switchTab = (tab) => {\r\n\t\tcurrentTab.value = tab;\r\n\t\tif (tab === 'find') {\r\n\t\t\t// 首次切换到找找标签时加载分类数据\r\n\t\t\tif (goodsTypes.value.length === 0) {\r\n\t\t\t\tfetchGoodsTypes();\r\n\t\t\t\tfetchSizes();\r\n\t\t\t}\r\n\t\t\t// 加载随机商品列表\r\n\t\t\tif (randomGoodsList.value.length === 0) {\r\n\t\t\t\tfetchRandomGoods(true);\r\n\t\t\t}\r\n\t\t}\n\t\tif (tab == 'view') {\n\t\t\t// 加载看看\n\t\t\tfetchCollocations()\n\t\t}\r\n\t}\r\n\r\n\t// 获取商品分类\r\n\tconst fetchGoodsTypes = async () => {\r\n\t\ttry {\r\n\t\t\tconst res = await uni.request({\r\n\t\t\t\turl: `${websiteUrl}/goods-types`,\r\n\t\t\t\tmethod: 'GET'\r\n\t\t\t});\r\n\r\n\t\t\tif (res.data.status === 'success') {\r\n\t\t\t\tgoodsTypes.value = ['全部', ...res.data.data];\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('获取商品分类失败:', error);\r\n\t\t}\r\n\t}\r\n\r\n\t// 获取尺寸分类\r\n\tconst fetchSizes = async () => {\r\n\t\ttry {\r\n\t\t\tconst res = await uni.request({\r\n\t\t\t\turl: `${websiteUrl}/sizes?show_type=hot`,\r\n\t\t\t\tmethod: 'GET'\r\n\t\t\t});\r\n\r\n\t\t\tif (res.data.status === 'success') {\r\n\t\t\t\t// 提取尺寸的一级分类\r\n\t\t\t\tconst sizeKeys = Object.keys(res.data.data);\r\n\t\t\t\tsizes.value = ['全部', ...sizeKeys];\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('获取尺寸分类失败:', error);\r\n\t\t}\r\n\t}\r\n\r\n\t// 选择商品分类\r\n\tconst selectType = (type) => {\r\n\t\tselectedType.value = type;\r\n\t\tfetchRandomGoods(true);\r\n\t}\r\n\r\n\t// 选择尺寸分类\r\n\tconst selectSize = (size) => {\r\n\t\tselectedSize.value = size;\r\n\t\tfetchRandomGoods(true);\r\n\t}\r\n\r\n\t// 获取随机商品列表\r\n\tconst fetchRandomGoods = async (reset = false) => {\r\n\t\tif (reset) {\r\n\t\t\trandomGoodsList.value = [];\r\n\t\t\tgoodsCursor.value = -1;\r\n\t\t\tgoodsNoMore.value = false;\r\n\t\t}\r\n\r\n\t\tif (goodsLoading.value || goodsNoMore.value) return;\r\n\r\n\t\ttry {\r\n\t\t\tgoodsLoading.value = true;\r\n\r\n\t\t\tconst params = {\r\n\t\t\t\tcursor: goodsCursor.value,\r\n\t\t\t\tpage_size: 10,\r\n\t\t\t\ttype: selectedType.value === '全部' ? '' : selectedType.value,\r\n\t\t\t\tsize: selectedSize.value === '全部' ? '' : selectedSize.value\r\n\t\t\t};\r\n\r\n\t\t\tconst res = await uni.request({\r\n\t\t\t\turl: `${websiteUrl}/random-list`,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tdata: params,\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'content-type': 'application/json'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (res.data.status === 'success') {\r\n\t\t\t\tconst data = res.data.data;\r\n\t\t\t\tconst newItems = data.goods_list || [];\r\n\r\n\t\t\t\trandomGoodsList.value = reset ? newItems : [...randomGoodsList.value, ...newItems];\r\n\t\t\t\tgoodsCursor.value = data.next_cursor;\r\n\t\t\t\tgoodsNoMore.value = newItems.length < 10;\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('获取随机商品失败:', error);\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '加载失败',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t} finally {\r\n\t\t\tgoodsLoading.value = false;\r\n\t\t}\r\n\t}\r\n\r\n\t// 加载更多商品\r\n\tconst loadMoreGoods = () => {\r\n\t\tfetchRandomGoods();\r\n\t}\r\n\r\n\r\n\r\n\t// 初始化卡片宽度\r\n\tonMounted(() => {\r\n\t\tconst systemInfo = uni.getSystemInfoSync()\r\n\t\tconst padding = 30 // 容器左右padding总和（px）\r\n\t\tcardWidth.value = (systemInfo.windowWidth - padding) / 2\n\t\t\n\t\t// 默认加载找找页的数据\n\t\tfetchGoodsTypes();\n\t\tfetchSizes();\n\t\tfetchRandomGoods(true);\n\t\t\n\t\t\r\n\t})\r\n\r\n\t// 下拉刷新处理\r\n\tonPullDownRefresh(async () => {\n\t  try {\n\t    if (currentTab.value === 'view') {\n\t      await fetchCollocations(true);\n\t    } else if (currentTab.value === 'find') {\n\t      await fetchRandomGoods(true);\n\t    }\n\t    uni.stopPullDownRefresh();\n\t  } catch (error) {\n\t    uni.stopPullDownRefresh();\n\t    uni.showToast({\n\t      title: '刷新失败',\n\t      icon: 'none'\n\t    });\n\t  }\n\t});\r\n\r\n\t// 获取搭配列表\r\n\tconst fetchCollocations = async (reset = false) => {\r\n\t\tif (reset) {\r\n\t\t\tcollocationList.value = [];\r\n\t\t\tcurrentPage.value = 1; // 重置页码\r\n\t\t\tnoMore.value = false; // 重置没有更多数据状态\r\n\t\t\tloading.value = false; // 重置加载状态\r\n\t\t}\r\n\t\tif (loading.value || noMore.value) {\r\n\t\t\tconsole.log(\"正在加载或没有更多数据，停止请求\")\n\t\t\tlayoutFunction()\r\n\t\t\treturn\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tloading.value = true;\r\n\t\t\t// 构造请求参数\r\n\t\t\tconst params = {\r\n\t\t\t\tpage: currentPage.value,\r\n\t\t\t\tpage_size: pageSize,\r\n\t\t\t\tfilter_goods_id_list: filterGoods.value.map(g => g.goods_id)\r\n\t\t\t};\r\n\r\n\t\t\t// 添加调试信息\r\n\t\t\tconsole.log('请求参数:', JSON.stringify(params, null, 2));\r\n\r\n\t\t\tconst res = await uni.request({\r\n\t\t\t\turl: `${websiteUrl}/collocation-list`,\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tdata: params,\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'content-type': 'application/json' // 确保使用JSON格式\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log('接口响应:', res);\r\n\r\n\t\t\tif (res.data.status === 'success') {\r\n\t\t\t\t// 添加安全解构\r\n\t\t\t\tconst data = res.data.data || {}\r\n\t\t\t\tconst newItems = Array.isArray(data.collocation_relation_list) ?\r\n\t\t\t\t\tdata.collocation_relation_list : []\r\n\r\n\t\t\t\tcollocationList.value = reset ?\r\n\t\t\t\t\tnewItems : [...collocationList.value, ...newItems]\r\n\r\n\t\t\t\tnoMore.value = newItems.length < pageSize\r\n\t\t\t\tcurrentPage.value++\r\n\r\n\t\t\t\t// 添加空数据提示\r\n\t\t\t\tif (reset && newItems.length === 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '暂无相关搭配',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tlayoutFunction()\r\n\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('请求失败:', error);\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '加载失败',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t} finally {\r\n\t\t\tloading.value = false;\r\n\t\t}\r\n\t};\n\t\n\tconst layoutFunction = async () => {\n\t\tconsole.log(\"等待next tick\")\n\t\tawait nextTick()\n\t\tconsole.log(\"等待完成\")\n\t\tcalculateLayout(instance)\n\t\t// 500ms 后再运行一次计算布局\n\t\tsetTimeout(() => {\n\t\t\tconsole.log(\"二次计算布局\")\n\t\t\tcalculateLayout(instance)\n\t\t}, 500)\n\t}\r\n\r\n\t// 筛选处理\r\n\tconst showFilter = () => {\r\n\t\tshowFilterModal.value = true;\r\n\t};\r\n\r\n\t// 品牌选择处理\r\n\tconst handleBrandSelect = (brandId, brandName) => {\r\n\t\tselectedBrand.value = {\r\n\t\t\tid: brandId,\r\n\t\t\tname: brandName\r\n\t\t}\r\n\t\tfilterBrand.value = brandName\r\n\t\t// filterGoods.value = [] // 切换品牌时清空已选商品\r\n\t\tif (brandId) {\r\n\t\t\tloadGoodsOptions(brandId)\r\n\t\t}\r\n\t}\r\n\r\n\t// 加载商品选项\r\n\tconst loadGoodsOptions = async (brandId) => {\r\n\t\ttry {\r\n\t\t\tconst res = await uni.request({\r\n\t\t\t\turl: `${websiteUrl}/goods-name-list?id=${brandId}`,\r\n\t\t\t\tmethod: 'GET'\r\n\t\t\t})\r\n\t\t\tconsole.log('商品列表:', res.data)\r\n\t\t\tif (res.data.status === 'success') {\r\n\t\t\t\tgoodsOptions.value = res.data.data\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('加载商品失败:', error)\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleGoodsSelect = (goods) => {\r\n\t\tconsole.log(\"选择商品:\", goods)\r\n\t\tif (!goods?.id) return;\r\n\r\n\t\t// 转换数据结构\r\n\t\tconst newGoods = {\r\n\t\t\tgoods_id: goods.id,\r\n\t\t\tgoods_name: `${goods.brand_name ? goods.brand_name + '·' : ''}${goods.name}`\r\n\t\t};\r\n\r\n\t\t// 检查重复\r\n\t\tconst exists = filterGoods.value.some(\r\n\t\t\titem => item.goods_id === newGoods.goods_id\r\n\t\t);\r\n\r\n\t\tif (!exists) {\r\n\t\t\t// 使用解构赋值触发响应式更新\r\n\t\t\tfilterGoods.value = [...filterGoods.value, newGoods];\r\n\t\t}\r\n\r\n\t\t// 强制更新视图（可选）\r\n\t\t// await nextTick(); \r\n\r\n\t};\n\tfunction jumpGoods(id) {\n\t\tuni.navigateTo({\n\t\t\turl: '/pages/goods/goods?goods_id=' + id\n\t\t})\n\t}\r\n\r\n\tconst onShareAppMessage = () => ({\r\n\t\ttitle: 'BJD娃圈你想知道的这里都有~',\r\n\t\tpath: '/pages/news/news',\r\n\t\tsuccess(res) {\r\n\t\t\tconsole.log('分享成功', res)\r\n\t\t},\r\n\t\tfail(err) {\r\n\t\t\tconsole.log('分享失败', err)\r\n\t\t},\r\n\t\tmp: {\r\n\t\t\twxpath: '/pages/index/index.html'\r\n\t\t}\r\n\t})\r\n\r\n\t// 应用筛选\r\n\tconst applyFilter = async () => {\r\n\t\tshowFilterModal.value = false;\r\n\t\t// 强制重置并加载第一页\r\n\t\tawait fetchCollocations(true);\r\n\t};\r\n\t// 关闭弹窗时清空临时选择\r\n\tconst closeFilter = () => {\r\n\t\tshowFilterModal.value = false;\r\n\t};\r\n\r\n\r\n\t// 移除单个商品\r\n\tconst removeGood = (goodsId, event) => {\r\n\t\t// 阻止事件冒泡\r\n\t\tevent?.stopPropagation?.() // 安全调用\r\n\t\tfilterGoods.value = filterGoods.value.filter(g => g.goods_id !== goodsId)\r\n\t\tnoMore.value = false\r\n\t\tfetchCollocations(true)\r\n\t}\r\n\t// 重置筛选\r\n\tconst resetFilter = () => {\r\n\t\tselectedBrand.value = null\r\n\t\tfilterBrand.value = ''\r\n\t\tfilterGoods.value = []\r\n\t\tgoodsOptions.value = []\r\n\t}\r\n\r\n\t// 跳转到搭配\r\n\tfunction jump2collectionDetail(collocation_id, origin) {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/collocation_share/collocation_share?collocation_id=' + collocation_id + '&origin=' +\r\n\t\t\t\torigin\r\n\t\t})\r\n\t}\r\n\r\n\t// 确认筛选\r\n\tconst confirmFilter = async () => {\r\n\t\tfilterGoods.value.push(tempSelectGoods.value)\r\n\t\tshowFilterModal.value = false\r\n\t\tnoMore.value = false\r\n\t\tawait fetchCollocations(true)\r\n\t}\r\n\r\n\t// 分页加载\r\n\tconst loadMore = () => {\r\n\t\tif (!noMore.value) fetchCollocations()\r\n\t}\r\n\r\n\t// 跳转详情\r\n\tconst navigateToDetail = (item) => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: `/pages/collocation_share/collocation_share?collocation_id=${item.collocation_id}&origin=${item.origin}`\r\n\t\t})\r\n\t}\r\n\r\n\tconst jumpToUserPage = (uid) => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: `/pages/user_page/user_page?uid=${uid}`\r\n\t\t})\r\n\t}\r\n\r\n\t// 临时用户名缓存（实际应通过接口获取）\r\n\tconst getUserName = (name) => {\r\n\t\t// 这里可以替换为真实的用户名获取逻辑\r\n\t\treturn name.length > 10 ? `${name.toString().slice(-8)}...` : name\r\n\t}\r\n\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t$primary-color: #a6e9f7;\r\n\t$hover-color: #1ed1e1;\r\n\t$border-color: #e6e6e6;\r\n\t$radius: 8px;\r\n\r\n\ttext {\r\n\t\tfont-size: 22rpx;\r\n\t}\r\n\r\n\t.container {\r\n\t\tpadding: 20rpx;\r\n\t\tbackground: #f5f5f5;\r\n\t\t// padding-top: 50rpx;\r\n\t\toverflow: hidden;\r\n\t}\n\t.filter-bar-container {\n\t\tbackground: linear-gradient(180deg, #d6e4f2, #f5f5f5);\n\t\tpadding: 20rpx 30rpx 40rpx 30rpx;\n\t}\r\n\r\n\t.filter-bar {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 10rpx 20rpx;\r\n\t\tbackground: #fff;\r\n\t\tfont-size: 22rpx;\r\n\t\tborder-radius: 16rpx;\n\t\t// margin-top: 20rpx;\n\t\r\n\t\t// margin-bottom: 20rpx;\r\n\t\t// box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n\t\tbox-sizing: border-box;\n\n\t\t\r\n\t\t.filter-tags {\r\n\t\t\tflex: 1;\r\n\r\n\t\t\t.tag {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\tpadding: 8rpx 16rpx;\r\n\t\t\t\tbackground: #f0f2f5;\r\n\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #666;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t.tip {\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.filter-btn {\r\n\t\t\twidth: 120rpx;\r\n\t\t\theight: 40rpx;\r\n\t\t\tline-height: 40rpx;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tbackground: #007aff;\r\n\t\t\tcolor: white;\r\n\t\t\tborder-radius: 8rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.card-list {\r\n\t\theight: calc(100vh - 160rpx);\r\n\r\n\r\n\t\t.cards-container {\r\n\t\t\tposition: relative;\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\r\n\t\t.card {\r\n\t\t\tposition: absolute;\r\n\t\t\tbackground: white;\r\n\t\t\tborder-radius: 16rpx;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t\toverflow: hidden;\r\n\t\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\r\n\t\t\twidth: 330rpx;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tmargin: 0rpx;\r\n\r\n\t\t\t//顶部对齐\r\n\t\t\tvertical-align: top;\r\n\t\t\ttransition: top 0.3s ease, left 0.3s ease;\r\n\r\n\t\t\t.card-image {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 400rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.card-content {\r\n\t\t\t\tpadding: 24rpx;\r\n\r\n\t\t\t\t.title {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\tcolor: #515151;\r\n\t\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t\t\t-webkit-line-clamp: 1;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\twhite-space: normal;\r\n\t\t\t\t\ttext-overflow: ellipsis;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.desc {\r\n\t\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t\t\t-webkit-line-clamp: 2;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\tline-height: 1.5;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.goods-tags {\r\n\t\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t\tgap: 12rpx;\r\n\r\n\t\t\t\t\t.tag-box {\r\n\t\t\t\t\t\tpadding: 4rpx 15rpx;\r\n\t\t\t\t\t\tbackground: #f0f2f5;\r\n\t\t\t\t\t\tborder-radius: 8rpx;\r\n\r\n\t\t\t\t\t\t.goods-tag {\r\n\t\t\t\t\t\t\tline-height: 20rpx;\r\n\t\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\t\tmax-width: 110rpx;\r\n\t\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 用户信息\r\n\t\t\t.user-info {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: 20rpx 24rpx 0;\r\n\t\t\t\tmargin-bottom: 16rpx;\r\n\r\n\t\t\t\t.avatar {\r\n\t\t\t\t\twidth: 64rpx;\r\n\t\t\t\t\theight: 64rpx;\r\n\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.user-meta {\r\n\t\t\t\t\tflex: 1;\r\n\r\n\t\t\t\t\t.username {\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tcolor: #515151;\r\n\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\tmax-width: 150rpx;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.like-count {\r\n\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t\t.icon {\r\n\t\t\t\t\t\t\tcolor: #ff4c4c;\r\n\t\t\t\t\t\t\tmargin-right: 8rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.card-image {\r\n\t\t\t\theight: 360rpx; // 调整图片高度\r\n\t\t\t\twidth: calc(100% - 40rpx);\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tborder-radius: 15rpx;\r\n\t\t\t\tmargin: 0 20rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.modal-container {\r\n\t\tpadding-top: 0rpx;\r\n\r\n\t}\r\n\r\n\t.search_tab {\r\n\t\tpadding: 0px;\r\n\t}\r\n\r\n\t.submit-btn {\r\n\t\tbackground: linear-gradient(135deg, $primary-color, $hover-color);\r\n\t\tcolor: white;\r\n\t\tborder: none;\r\n\t\tborder-radius: 15rpx;\r\n\t\tfont-size: 22rpx;\r\n\t\tfont-weight: 900;\r\n\t\theight: 60rpx;\r\n\t\tline-height: 60rpx;\r\n\t\tbox-shadow: 0 6rpx 20rpx rgba($primary-color, 0.3);\r\n\t\ttransition: all 0.3s;\r\n\r\n\t\t&::after {\r\n\t\t\tborder: none;\r\n\t\t}\r\n\r\n\t\t&.loading {\r\n\t\t\topacity: 0.7;\r\n\t\t\tbackground: #007aff;\r\n\t\t}\r\n\r\n\t\t&[disabled] {\r\n\t\t\tbackground: #c8c9cc;\r\n\t\t\tcolor: #fff;\r\n\t\t}\r\n\r\n\t\t&:active {\r\n\t\t\ttransform: translateY(2rpx);\r\n\t\t\tbox-shadow: 0 4rpx 12rpx rgba($primary-color, 0.3);\r\n\t\t}\r\n\t}\r\n\r\n\t.filter-modal {\r\n\t\tpadding: 40rpx;\r\n\t\tbackground: white;\r\n\t\tborder-radius: 24rpx;\r\n\t\tposition: relative;\r\n\t\tz-index: 1001;\r\n\t\tbox-sizing: border-box;\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\r\n\t\t/* 添加遮罩层样式 */\r\n\t\t.modal-mask {\r\n\t\t\tposition: fixed;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tbackground: rgba(0, 0, 0, 0.5);\r\n\t\t\tz-index: 1000;\r\n\t\t}\r\n\r\n\r\n\t\t.modal-header {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin-bottom: 40rpx;\r\n\t\t\tpadding-left: 20rpx;\r\n\r\n\r\n\t\t\t.title {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tfont-weight: 500;\r\n\r\n\t\t\t}\r\n\r\n\t\t\t.close {\r\n\t\t\t\tfont-size: 48rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\ttop: -8rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.filter-items {\r\n\t\t\t.filter-item {\r\n\t\t\t\tmargin-bottom: 40rpx;\r\n\r\n\t\t\t\t.label {\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.action-btns {\r\n\t\t\tdisplay: flex;\r\n\t\t\tgap: 30rpx;\r\n\t\t\tmargin-top: 40rpx;\r\n\r\n\t\t\t.btn {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\theight: 50rpx;\r\n\t\t\t\tline-height: 50rpx;\r\n\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\tfont-size: 22rpx;\r\n\r\n\t\t\t\t&::after {\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&.reset {\r\n\t\t\t\t\tbackground: #f0f2f5;\r\n\t\t\t\t\tcolor: #666;\r\n\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&.confirm {\r\n\t\t\t\t\t// background: #007aff;\r\n\t\t\t\t\t// color: white;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.selected-goods {\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\tgap: 10rpx;\r\n\t\t}\r\n\r\n\t\t.goods-tag {\r\n\t\t\tbackground: #f0f2f5;\r\n\t\t\tpadding: 8rpx 20rpx;\r\n\t\t\tborder-radius: 30rpx;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.remove {\r\n\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t.loading-state {\r\n\t\ttext-align: center;\r\n\t\tpadding: 40rpx;\r\n\t\tcolor: #999;\r\n\t\tfont-size: 28rpx;\r\n\r\n\t\t.no-more {\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 找找商品列表 */\r\n\t.floating-button {\r\n\t\tposition: fixed;\r\n\t\tright: 40rpx;\r\n\t\tbottom: 120rpx;\r\n\t\twidth: 90rpx;\r\n\t\theight: 90rpx;\r\n\t\tbackground: linear-gradient(135deg, #a6e9f7, #1ed1e1);\r\n\t\tborder-radius: 50%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tbox-shadow: 0 6rpx 20rpx rgba(30, 209, 225, 0.4);\r\n\t\tz-index: 99;\r\n\t\ttransition: all 0.3s ease;\r\n\r\n\t\t&:active {\r\n\t\t\ttransform: scale(0.95);\r\n\t\t\tbox-shadow: 0 4rpx 12rpx rgba(30, 209, 225, 0.3);\r\n\t\t}\r\n\t}\r\n\r\n\t.post-menu-mask {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground: rgba(0, 0, 0, 0.3);\r\n\t\tz-index: 100;\r\n\t\tbackdrop-filter: blur(5rpx);\r\n\t}\r\n\r\n\t.post-menu {\r\n\t\tposition: fixed;\r\n\t\tright: 40rpx;\r\n\t\tbottom: 240rpx;\r\n\t\tbackground: white;\r\n\t\tborder-radius: 16rpx;\r\n\t\tbox-shadow: 0 8rpx 30rpx rgba(0, 0, 0, 0.15);\r\n\t\tpadding: 20rpx 0;\r\n\t\tz-index: 101;\r\n\t\ttransform: translateY(30rpx);\r\n\t\topacity: 0;\r\n\t\tpointer-events: none;\r\n\t\ttransition: all 0.3s ease;\r\n\r\n\t\t&.show {\r\n\t\t\ttransform: translateY(0);\r\n\t\t\topacity: 1;\r\n\t\t\tpointer-events: auto;\r\n\t\t}\r\n\r\n\t\t&::before {\r\n\t\t\tcontent: '';\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: -12rpx;\r\n\t\t\tright: 35rpx;\r\n\t\t\twidth: 0;\r\n\t\t\theight: 0;\r\n\t\t\tborder-left: 12rpx solid transparent;\r\n\t\t\tborder-right: 12rpx solid transparent;\r\n\t\t\tborder-top: 12rpx solid white;\r\n\t\t}\r\n\r\n\t\t.menu-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 20rpx 40rpx;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\ttransition: background 0.2s;\r\n\r\n\t\t\t&:active {\r\n\t\t\t\tbackground: #f5f5f5;\r\n\t\t\t}\r\n\r\n\t\t\tuni-icons {\r\n\t\t\t\tmargin-right: 15rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\n\t\n\t\n\t\t.tabs {\n\t\t  display: flex;\n\t\t  justify-content: center; /* 居中显示 */\n\t\t  height: 150rpx; /* 增加高度 */\n\t\t  background: #fff;\n\t\t  position: sticky;\n\t\t  top: 0;\n\t\t  z-index: 100;\n\t\t  width: 100%;\n\t\t  padding: 0 20rpx 10rpx 20rpx;\n\t\t  box-sizing: border-box;\n\t\t  background: linear-gradient(180deg, #def9ff, #d6e4f2);\n\t\t  \t\t  \n\t\t}\n\t\t\n\t\t.tab {\n\t\t  flex: 0 0 200rpx; /* 固定宽度 */\n\t\t  display: flex;\n\t\t  flex-direction: column; /* 垂直排列 */\n\t\t  align-items: center; /* 居中对齐 */\n\t\t  justify-content: center; /* 垂直居中 */\n\t\t  height: 100%;\n\t\t  position: relative;\n\t\t  transition: all 0.3s ease;\n\n\t\t  text {\n\t\t    font-size: 24rpx;\n\t\t    margin-top: 6rpx; /* 文字与图片间距 */\n\t\t    color: #a8a8a8;\n\t\t    transition: color 0.3s ease;\n\t\t\tz-index: 10;\n\t\t  }\n\t\t  \n\t\t  &.active {\n\t\t    text {\n\t\t      color: #7aa2d6;\n\t\t      font-weight: bold;\n\t\t    }\n\t\t    \n\t\t    &::after {\n\t\t      content: '';\n\t\t      position: absolute;\n\t\t      bottom: 0rpx;\n\t\t      left: 50%;\n\t\t      transform: translateX(-50%);\n\t\t      width: 80rpx;\n\t\t      height: 6rpx;\n\t\t      background: #7aa2d6;\n\t\t      border-radius: 3rpx;\n\t\t    }\n\t\t  }\n\t\t}\n\t\t\n\t\t.tab-image {\n\t\t  width: 120rpx; /* 调整图片大小 */\n\t\t  height: 120rpx;\n\t\t  transition: transform 0.3s ease;\n\t\t  position: relative;\n\t\t}\n\n\t\t\n\t\t.category-container {\n\t\t\tpadding: 40rpx 40rpx 10rpx 40rpx;\n\t\t\tbackground: linear-gradient(180deg, #d6e4f2, #fff);\n\t\t}\n\t\t\n\t\t.category-scroll, .size-scroll {\n\t\t\twhite-space: nowrap;\n\t\t\tmargin-bottom: 10rpx;\n\t\t}\n\t\t\n\t\t.category-item, .size-item {\n\t\t\tdisplay: inline-block;\n\t\t\tpadding: 10rpx 15rpx;\n\t\t\tmargin-right: 20rpx;\n\t\t\tborder-radius: 40rpx;\n\t\t\tbackground: #f5f5f5;\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #817f7f;\n\t\t\t\n\t\t\t&.active {\n\t\t\t\tbackground: #e6f7ff;\n\t\t\t\tcolor: #7aa2d6;\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.goods-list {\n\t\t\theight: calc(100vh - 240rpx); /* 根据实际高度调整 */\n\t\t\tbackground: #f5f5f5;\n\t\t}\n\t\t\n\t\t.goods-container {\n\t\t\tdisplay: flex;\n\t\t\tflex-wrap: wrap;\n\t\t\tpadding: 20rpx;\n\t\t\tgap:10rpx;\n\t\t\tbackground: linear-gradient(1deg, #e4e4e4, #fff);\n\t\t}\n\t\t\n\t\t.goods-card {\n\t\t\twidth: 350rpx;\n\t\t\tmargin-bottom: 0rpx;\n\t\t\tbackground: #fff;\n\t\t\tborder-radius: 16rpx;\n\t\t\toverflow: hidden;\n\t\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n\t\t\tbox-sizing: border-box;\n\t\t\t\n\t\t}\n\t\t\n\t\t.goods-image {\n\t\t\twidth: 320rpx;\n\t\t\theight: 400rpx;\n\t\t\tmargin: 20rpx 15rpx;\n\t\t\tborder-radius: 20rpx;\n\t\t}\n\t\t\n\t\t.goods-info {\n\t\t\tpadding: 20rpx;\n\t\t}\n\t\t\n\t\t.goods-name {\n\t\t\tfont-size: 26rpx;\n\t\t\tcolor: #333;\n\t\t\tfont-weight: 500;\n\t\t\tdisplay: -webkit-box;\n\t\t\t-webkit-box-orient: vertical;\n\t\t\t-webkit-line-clamp: 2;\n\t\t\toverflow: hidden;\n\t\t\tline-height: 1.4;\n\t\t}\n\t\t\n\t\t.goods-brand {\n\t\t\tdisplay: block;\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #666;\n\t\t\tmargin-top: 10rpx;\n\t\t}\n\t\t\n\t\t.goods-price {\n\t\t\tdisplay: block;\n\t\t\tfont-size: 26rpx;\n\t\t\tcolor: #f9a1a0;\n\t\t\tfont-weight: bold;\n\t\t\tmargin-top: 10rpx;\n\t\t}\n\t\t\n\t\t.loading-state {\n\t\t\ttext-align: center;\n\t\t\tpadding: 40rpx;\n\t\t\tcolor: #999;\n\t\t\tfont-size: 28rpx;\n\t\t\t\n\t\t\t.no-more {\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t::-webkit-scrollbar {\n\t\twidth: 0!important;\n\t\theight: 0!important;\n\t\tbackground-color: transparent!important;\n\t\tdisplay: none!important;\n\t}\r\n</style>","import MiniProgramPage from '/Users/sapphirell/Documents/git/dogdogdoll-uniapp/pages/collocation_square/collocation_square.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","reactive","getCurrentInstance","uni","websiteUrl","onMounted","onPullDownRefresh","nextTick"],"mappings":"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"}